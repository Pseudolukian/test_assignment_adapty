"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[8056],{14244:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/6ccd0f0-CleanShot_2023-03-17_at_16.03.162x-ee584980839a20aa491cdeb3370f0193.webp"},16016:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/30a81ef-CleanShot_2023-03-17_at_15.22.142x-1236bdb8611d6756627649d9777e0345.webp"},29185:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/2190c50-CleanShot_2023-03-17_at_15.48.552x-959ace0ffc6054153b7e7d1e858aad1b.webp"},47271:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>x,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var s=n(74848),r=n(28453),i=n(34028);n(26393);const o={title:"Google Cloud Storage",description:"Integrate Google Cloud Storage with Adapty for secure data storage.",metadataTitle:"Google Cloud Storage Integration | Adapty Docs"},d=void 0,l={id:"google-cloud-storage",title:"Google Cloud Storage",description:"Integrate Google Cloud Storage with Adapty for secure data storage.",source:"@site/versioned_docs/version-3.0/google-cloud-storage.md",sourceDirName:".",slug:"/google-cloud-storage",permalink:"/docs/google-cloud-storage",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Google Cloud Storage",description:"Integrate Google Cloud Storage with Adapty for secure data storage.",metadataTitle:"Google Cloud Storage Integration | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Amazon S3",permalink:"/docs/s3-exports"},next:{title:"Webhook integration",permalink:"/docs/webhook"}},a={},c=[{value:"How to set up Google Cloud storage integration",id:"how-to-set-up-google-cloud-storage-integration",level:2},{value:"Create Google Cloud Storage credentials",id:"create-google-cloud-storage-credentials",level:2},{value:"Manual data export",id:"manual-data-export",level:2},{value:"Table structure",id:"table-structure",level:2},{value:"Events and tags",id:"events-and-tags",level:2}];function h(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Adapty's integration with Google Cloud Storage allows you to store event and paywall visit data securely in one central location.  You will be able to save your ",(0,s.jsx)(t.a,{href:"events",children:"subscription events"})," to your Google Cloud Storage bucket as .csv files.",(0,s.jsx)(t.br,{}),"\n","To set up this integration, you will need to follow a few simple steps in the Google Cloud Console and Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"Schedule"}),(0,s.jsx)(t.p,{children:"Adapty sends your data to Google Cloud Storage every 24h at 4:00 UTC."}),(0,s.jsx)(t.p,{children:"Each file will contain data for the events created for the entire previous calendar day in UTC. For example, the data exported automatically at 4:00 UTC on March 8th will contain all the events created on March 7th from 00:00:00 to 23:59:59 in UTC."})]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-set-up-google-cloud-storage-integration",children:"How to set up Google Cloud storage integration"}),"\n",(0,s.jsxs)(t.p,{children:["To integrate Google Cloud Storage go to ",(0,s.jsxs)(t.a,{href:"https://app.adapty.io/integrations/google-cloud-storage",children:[(0,s.jsx)(t.strong,{children:"Integrations"})," -> ",(0,s.jsx)(t.strong,{children:"Google Cloud Storage"})]}),", turn on a toggle from off to on, and fill out fields."]}),"\n",(0,s.jsx)(t.p,{children:"First of all set credentials to build a connection between Google Cloud Storage and Adapty profiles."}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(87357).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.p,{children:"In the Adapty Dashboard, the following fields are needed to set up the connection:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Field"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Google Cloud Client ID"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["A unique identifier assigned to your Google Cloud project when you create a new client in the Google Cloud Console. Find this ID in the downloaded private ",(0,s.jsx)(t.a,{href:"google-cloud-storage#create-google-cloud-storage-credentials",children:"JSON key file"}),"  under the ",(0,s.jsx)(t.code,{children:"client_id"})," field."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Google Cloud Project ID"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["A user-assigned identifier for your Google Cloud project. Find this ID in the downloaded private JSON key file under the ",(0,s.jsx)(t.code,{children:"project_id"})," field."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Google Cloud Service Account Private Key ID"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["A unique identifier assigned to your private key when you create a new service account in the Google Cloud Console.  Find this ID in the downloaded private JSON key file under the ",(0,s.jsx)(t.code,{children:"private_key_id"})," field."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Google Cloud Bucket Name"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The name of the bucket in Google Cloud Storage where you want to store your data. It should be unique within the Google Cloud Storage environment and should not contain any spaces."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Email"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The email address associated with your service account in Google Cloud Console. It is used to grant access to resources in your project."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Folder inside the bucket"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The name of the folder inside the bucket where you want to store your data. It should be unique within the bucket and can be used to organize your data. This field is optional to fill."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"create-google-cloud-storage-credentials",children:"Create Google Cloud Storage credentials"}),"\n",(0,s.jsx)(t.p,{children:"This guide will help you create the necessary credentials in your Google Cloud Platform Console."}),"\n",(0,s.jsx)(t.p,{children:"In order for Adapty to upload raw data reports to your designated bucket, the service account's key is required, as well as write access to the corresponding bucket. By providing the service account's key and granting write access to the bucket, you allow Adapty to securely and efficiently transfer the raw data reports from its platform to your storage environment."}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:'Please note that we only support Service Account HMAC key authorization, means it\'s essential to ensure that your Service Account HMAC key has the "Storage Object Viewer", "Storage Legacy Bucket Writer" and "Storage Object Creator" roles added to it to enable proper access to Google Cloud Storage.'})}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["For the first step, you need to go to the ",(0,s.jsx)(t.a,{href:"https://console.cloud.google.com/projectselector2/iam-admin/serviceaccounts",children:"IAM"})," section of your Google Cloud account and choose the relevant project or create a new one."]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(16016).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:'Next, create a new service account for the Adapty by clicking on the "+ CREATE SERVICE ACCOUNT" button.'}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(62779).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"3",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Fill out the fields in the first step, as access will be granted at a later stage. In order to read more details about this page read the documentation ",(0,s.jsx)(t.a,{href:"https://cloud.google.com/iam/docs/service-accounts-create",children:"here"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(29185).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["To create and download a ",(0,s.jsx)(t.a,{href:"https://cloud.google.com/iam/docs/keys-create-delete",children:"private JSON key"}),', navigate to the KEYS section and click on the "ADD KEY" button.']}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(62709).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"5",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"In the DETAILS section, locate the Email value linked to the recently created service account and make a copy of it. This information will be necessary for the upcoming steps to authorize the account and allow it to write to the bucket."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(14244).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"6",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["To proceed go to the Google Cloud Storage's",(0,s.jsx)(t.a,{href:"https://console.cloud.google.com/storage/browser",children:" Buckets"})," page and either select an existing bucket or create a new one to store the Event or Visuts Data reports from Adapty.  Then navigate to the PERMISSIONS section and select the option to ",(0,s.jsx)(t.a,{href:"https://support.google.com/cloudidentity/answer/9178892?hl=en",children:"GRANT ACCESS"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(67907).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"7",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"In the PERMISSIONS section, input the Email of the service account obtained in the fifth step mentioned earlier, then choose the Storage Object Creator role. Finally, click on SAVE to apply the changes."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(50777).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.p,{children:"Remember to keep the name of the bucket for future reference."}),"\n",(0,s.jsxs)(t.ol,{start:"8",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"After passing these steps have successfully completed the necessary setup steps in the Google Cloud Console! The final step involves entering the bucket's name, accessing the JSON file containing the downloaded private key, and extracting the required field values for use in Adapty."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(74938).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.h2,{id:"manual-data-export",children:"Manual data export"}),"\n",(0,s.jsx)(t.p,{children:"In addition to the automatic event data export to Google Cloud Storage, Adapty also provides a manual file export functionality. With this feature, you can select a specific time interval for the event data and export it to your GCS bucket manually. This allows you to have greater control over the data you export and when you export it."}),"\n",(0,s.jsx)(t.p,{children:"The specified date range will be used to export the events created from Date A 00:00:00 UTC up to Date B 23:59:59 UTC."}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(77360).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.h2,{id:"table-structure",children:"Table structure"}),"\n",(0,s.jsx)(t.p,{children:"In Google Cloud Storage integration, Adapty provides table to store historical data for transaction events and paywall visits. The table contains information about the user profile, revenue and proceeds, and the origin store, among other data points. Essentially, these tables log all transactions generated by an app for a given time period."}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsx)(t.p,{children:"Note that this structure may grow over time \u2014 with new data being introduced by us or by the 3rd parties we work with. Make sure that your code that processes it is robust enough and relies on the specific fields, but not on the structure as a whole."})}),"\n",(0,s.jsx)(t.p,{children:"Here is the table structure for the events:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Column"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"profile_id"})}),(0,s.jsx)(t.td,{children:"Adapty user ID."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"event_type"})}),(0,s.jsxs)(t.td,{children:["Lowercased event name. Refer to the ",(0,s.jsx)(t.a,{href:"events",children:"Events"})," section to learn event types."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"event_datetime"})}),(0,s.jsx)(t.td,{children:"ISO 8601 date."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"transaction_id"})}),(0,s.jsx)(t.td,{children:"A unique identifier for a transaction such as a purchase or renewal."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"original_transaction_id"})}),(0,s.jsx)(t.td,{children:"The transaction identifier of the original purchase."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"subscription_expires_at"})}),(0,s.jsx)(t.td,{children:"The Expiration date of subscription. Usually in the future."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"environment"})}),(0,s.jsx)(t.td,{children:"Could be Sandbox or Production."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"revenue_usd"})}),(0,s.jsx)(t.td,{children:"Revenue in USD. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"proceeds_usd"})}),(0,s.jsx)(t.td,{children:"Proceeds in USD. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"net_revenue_usd"})}),(0,s.jsx)(t.td,{children:"Net revenue (income after taxes) in USD. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"tax_amount_usd"})}),(0,s.jsx)(t.td,{children:"Amount of money deducted for taxes in USD. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"revenue_local"})}),(0,s.jsx)(t.td,{children:"Revenue in local currency. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"proceeds_local"})}),(0,s.jsx)(t.td,{children:"Proceeds in local currency. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"net_revenue_local"})}),(0,s.jsx)(t.td,{children:"Net revenue (income after taxes) in local currency. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"tax_amount_local"})}),(0,s.jsx)(t.td,{children:"Amount of money deducted for taxes in local currency. Can be empty."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"customer_user_id"})}),(0,s.jsx)(t.td,{children:"Developer user ID. For example, it can be your user UUID, email, or any other ID. Null if you didn't set it."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"store"})}),(0,s.jsxs)(t.td,{children:["Could be ",(0,s.jsx)(t.em,{children:"app_store"})," or ",(0,s.jsx)(t.em,{children:"play_store"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"product_id"})}),(0,s.jsx)(t.td,{children:"Product ID in the Apple App Store, Google Play Store, or Stripe."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"base_plan_id"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.a,{href:"https://support.google.com/googleplay/android-developer/answer/12154973",children:"Base plan ID"}),"  in the Google Play Store or ",(0,s.jsx)(t.a,{href:"https://docs.stripe.com/products-prices/how-products-and-prices-work#what-is-a-price",children:"price ID"}),"  in Stripe."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"developer_id"})}),(0,s.jsx)(t.td,{children:"Developer (SDK) ID of the paywall where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"ab_test_name"})}),(0,s.jsx)(t.td,{children:"Name of the A/B test where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"ab_test_revision"})}),(0,s.jsx)(t.td,{children:"Revision of the A/B test where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"paywall_name"})}),(0,s.jsx)(t.td,{children:"Name of the paywall where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"paywall_revision"})}),(0,s.jsx)(t.td,{children:"Revision of the paywall where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"profile_country"})}),(0,s.jsx)(t.td,{children:"Profile Country determined by Adapty, based on IP."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"install_date"})}),(0,s.jsx)(t.td,{children:"ISO 8601 date when the installation happened."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"idfv"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.a,{href:"https://developer.apple.com/documentation/uikit/uidevice/1620059-identifierforvendor",children:"identifierForVendor"})," on iOS devices"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"idfa"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)(t.a,{href:"https://developer.apple.com/documentation/adsupport/asidentifiermanager/advertisingidentifier",children:"advertisingIdentifier"})," on iOS devices"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"advertising_id"})}),(0,s.jsx)(t.td,{children:"The Advertising ID is a unique code assigned by the Android Operating System that advertisers might use to uniquely identify a user's device"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"ip_address"})}),(0,s.jsx)(t.td,{children:"Device IP (can be IPv4 or IPv6, with IPv4 preferred when available). It is updated each time IP of the device changes"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"cancellation_reason"})}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"A reason why the user canceled a subscription."}),(0,s.jsx)("p",{}),(0,s.jsx)("p",{children:"Can be:"}),(0,s.jsxs)("p",{children:[(0,s.jsx)(t.strong,{children:"iOS & Android"}),(0,s.jsx)(t.em,{children:"voluntarily_cancelled"}),", ",(0,s.jsx)(t.em,{children:"billing_error"}),", ",(0,s.jsx)(t.em,{children:"refund"})]}),(0,s.jsxs)("p",{children:[(0,s.jsx)(t.strong,{children:"iOS"}),"  ",(0,s.jsx)(t.em,{children:"price_increase"}),", ",(0,s.jsx)(t.em,{children:"product_was_not_available"}),", ",(0,s.jsx)(t.em,{children:"unknown"}),", ",(0,s.jsx)(t.em,{children:"upgraded"})]}),(0,s.jsxs)("p",{children:[" ",(0,s.jsx)(t.strong,{children:"Android"}),"  ",(0,s.jsx)(t.em,{children:"new_subscription_replace"}),", ",(0,s.jsx)(t.em,{children:"cancelled_by_developer"})]})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"android_app_set_id"})}),(0,s.jsxs)(t.td,{children:["An ",(0,s.jsx)(t.a,{href:"https://developer.android.com/design-for-safety/privacy-sandbox/reference/adservices/appsetid/AppSetId",children:"AppSetId"})," - unique, per-device, per developer-account user-resettable ID for non-monetizing advertising use cases."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"android_id"})}),(0,s.jsxs)(t.td,{children:["On Android 8.0 (API level 26) and higher versions of the platform, a 64-bit number (expressed as a hexadecimal string), unique to each combination of app-signing key, user, and device. For more details, see ",(0,s.jsx)(t.a,{href:"https://developer.android.com/reference/android/provider/Settings.Secure#ANDROID_ID",children:"Android developer documentation"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"device"})}),(0,s.jsx)(t.td,{children:"The end-user-visible device model name."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"currency"})}),(0,s.jsx)(t.td,{children:"The 3-letter currency code (ISO-4217) of the transaction."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"store_country"})}),(0,s.jsx)(t.td,{children:"Profile Country determined by Apple/Google store."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_source"})}),(0,s.jsx)(t.td,{children:"Attribution source."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_network_user_id"})}),(0,s.jsx)(t.td,{children:"ID assigned to the user by attribution source."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_status"})}),(0,s.jsx)(t.td,{children:"Can be organic, non_organic or unknown."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_channel"})}),(0,s.jsx)(t.td,{children:"Marketing channel name."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_campaign"})}),(0,s.jsx)(t.td,{children:"Marketing campaign name."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_ad_group"})}),(0,s.jsx)(t.td,{children:"Attribution ad group."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_ad_set"})}),(0,s.jsx)(t.td,{children:"Attribution ad set."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attribution_creative"})}),(0,s.jsx)(t.td,{children:"Attribution creative keyword."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.strong,{children:"attributes"})}),(0,s.jsxs)(t.td,{children:["JSON of ",(0,s.jsx)(t.a,{href:"setting-user-attributes#custom-user-attributes",children:"custom user attributes"}),". This will include any custom attributes you\u2019ve set up to send from your mobile app. To send it, enable the ",(0,s.jsx)(t.strong,{children:"Send User Attributes"})," option in the ",(0,s.jsx)(t.a,{href:"https://app.adapty.io/integrations/customwebhook",children:"Integrations -> Webhooks"})," page."]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"Here is the table structure for the paywall visits:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Column"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"profile_id"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Adapty user ID."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"customer_user_id"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Developer user ID. For example, it can be your user UUID, email, or any other ID. Null if you didn't set it."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"profile_country"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Profile Country determined by Apple/Google store."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"install_date"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"ISO 8601 date when the installation happened."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"store"})}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Could be ",(0,s.jsx)(t.em,{children:"app_store"})," or ",(0,s.jsx)(t.em,{children:"play_store"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"paywall_showed_at"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The date when the paywall has been displayed to the customer."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"developer_id"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Developer (SDK) ID of the paywall where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ab_test_name"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Name of the A/B test where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ab_test_revision"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Revision of the A/B test where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"paywall_name"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Name of the paywall where the transaction originated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"paywall_revision"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Revision of the paywall where the transaction originated."})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"events-and-tags",children:"Events and tags"}),"\n",(0,s.jsx)(t.p,{children:"You can manage what data is communicated by the integration. The integration offers the following configuration options:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Setting"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Exclude Historical Events"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Opt to exclude events that occurred before the user installed the app with Adapty SDK. This prevents duplication of events and ensures accurate reporting. For instance, if a user activated a monthly subscription on January 10th and updated the app with Adapty SDK on March 6th, Adapty will omit events before March 6th and retain subsequent events."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Include events without profile"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"Opt to include transactions that are not linked to a user profile in Adapty. These may include purchases made before Adapty SDK was installed or transactions received from store server notifications that cannot be immediately associated with a specific user."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Send User Attributes"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If you wish to send user-specific attributes, like language preferences, and your OneSignal plan supports more than 10 tags, select this option. Enabling this allows the inclusion of additional information beyond the default 10 tags. Note that exceeding tag limits may result in errors."})]})]})]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(73142).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.p,{children:["Below the integration settings, there are three groups of events you can export, send, and store in Amazon S3 from Adapty. Simply turn on the ones you need. Check the full list of the events offered by Adapty ",(0,s.jsx)(t.a,{href:"events",children:"here"}),"."]}),"\n",(0,s.jsx)(i.A,{children:(0,s.jsx)("img",{src:n(70350).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})})]})}function x(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},50777:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/62801f4-CleanShot_2023-03-17_at_16.17.312x-6b628e55ae5360043320d11e8f2d82ac.webp"},62709:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/8a45468-CleanShot_2023-03-17_at_15.58.092x-f6428c63d7c28b862157e11ccd45e524.webp"},62779:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/98f8ebf-CleanShot_2023-03-17_at_15.40.062x-f79417ce04404730d66bd4eb3f1ff3a0.webp"},67907:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/3cdd937-CleanShot_2023-03-17_at_16.14.232x-bb08f252bd3c9cdb29f9118753071658.webp"},70350:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/f0685a4-CleanShot_2023-08-17_at_14.49.282x-7a9508f8b91b942775dbfa3d17e23176.webp"},73142:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/google-cloud-settings-32253732041590d67c37d5164ff62517.webp"},74938:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/c967e16-CleanShot_2023-03-17_at_16.23.332x-0d4a50e7628963c15412a3d568500ff6.webp"},77360:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/e347308-CleanShot_2023-03-17_at_17.39.452x-642383322d6123965d0405db70e744b7.webp"},87357:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/eea5f4e-CleanShot_2023-03-17_at_14.20.312x-eb46946bfd84017a71c04a3854cb87ce.webp"}}]);