"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[6909],{34265:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>l,metadata:()=>d,toc:()=>o});var n=s(74848),i=s(28453),r=s(60685);const l={title:"Events to send to 3d-party integrations",description:"Track key subscription events using Adapty\u2019s analytics tools.",metadataTitle:"Tracking Subscription Events | Adapty Docs"},a=void 0,d={id:"events",title:"Events to send to 3d-party integrations",description:"Track key subscription events using Adapty\u2019s analytics tools.",source:"@site/versioned_docs/version-3.0/events.md",sourceDirName:".",slug:"/events",permalink:"/docs/events",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Events to send to 3d-party integrations",description:"Track key subscription events using Adapty\u2019s analytics tools.",metadataTitle:"Tracking Subscription Events | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Configure third-party integration",permalink:"/docs/configuration"},next:{title:"Event flows",permalink:"/docs/event-flows"}},c={},o=[{value:"Event types",id:"event-types",level:2},...r.RM,{value:"Example 1",id:"example-1",level:3},{value:"Example 2",id:"example-2",level:3}];function h(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Apple and Google send subscription events directly to servers via ",(0,n.jsx)(t.a,{href:"enable-app-store-server-notifications",children:"App Store Server Notifications"})," and ",(0,n.jsx)(t.a,{href:"enable-real-time-developer-notifications-rtdn",children:"Real-time Developer Notifications (RTDN)"}),". As a result, mobile apps cannot reliably send events to analytics systems in real time. For example, if a user subscribes but never reopens the app, the developer won't receive any subscription status updates without a server."]}),"\n",(0,n.jsx)(t.p,{children:"Adapty bridges this gap by collecting subscription data and converting it into human-readable events. These integration events are sent in JSON format. While all events share the same structure, their fields vary depending on the event type, store, and specific configuration. You can find the exact fields included in each event on the respective integration pages."}),"\n",(0,n.jsxs)(t.p,{children:["To understand how to determine whether an event was successfully processed or if something went wrong, check the ",(0,n.jsx)(t.a,{href:"/docs/event-statuses",children:"Event statuses"})," page."]}),"\n",(0,n.jsx)(t.h2,{id:"event-types",children:"Event types"}),"\n",(0,n.jsxs)(t.p,{children:["Most events are created and sent to all configured integrations if they\u2019re enabled. However, the ",(0,n.jsx)(t.strong,{children:"Access level updated"})," event only triggers if the ",(0,n.jsx)(t.a,{href:"webhook",children:"webhook integration"})," is configured and this event is enabled. This event will appear in the ",(0,n.jsx)(t.a,{href:"https://app.adapty.io/event-feed",children:"Event Feed"})," and will also be sent to the webhook, but it won\u2019t be shared with other integrations."]}),"\n",(0,n.jsxs)(t.p,{children:["If a webhook integration isn\u2019t configured or this event type isn\u2019t enabled, the ",(0,n.jsx)(t.strong,{children:"Access level updated"})," event won\u2019t be created and won\u2019t appear in the ",(0,n.jsx)(t.a,{href:"https://app.adapty.io/event-feed",children:"Event Feed"}),"."]}),"\n",(0,n.jsx)(r.Ay,{}),"\n",(0,n.jsx)(t.p,{children:"The events above fully cover the users' state in terms of purchases. Let's look at some examples."}),"\n",(0,n.jsx)(t.h3,{id:"example-1",children:"Example 1"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"The user activated a monthly subscription on April 1st with a 7-day trial. On the 4th day, he unsubscribed."})}),"\n",(0,n.jsx)(t.p,{children:"In that case, the following events will be sent:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"trial_started"})," on April 1st"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"trial_renewal_cancelled"})," on 4th April"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"trial_expired"})," on 7th April"]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"example-2",children:"Example 2"}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.em,{children:"The user activated a monthly subscription on April 1st with a 7-day trial. On the 10th day, he unsubscribed."})}),"\n",(0,n.jsx)(t.p,{children:"In that case, the following events will be sent:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"trial_started"})," on April 1st"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"trial_converted"})," on April 7th"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"subscription_renewal_cancelled"})," on April 10th"]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"subscription_expired"})," on May 1st"]}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["For a detailed breakdown of which events are triggered in each scenario, check out the ",(0,n.jsx)(t.a,{href:"/docs/event-flows",children:"Event flows"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},60685:(e,t,s)=>{s.d(t,{Ay:()=>a,RM:()=>r});var n=s(74848),i=s(28453);const r=[];function l(e){const t={a:"a",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Event name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_started"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a user activates a paid subscription without a trial period, meaning they are billed instantly."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_renewed"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Occurs when a subscription is renewed and the user is charged. This event starts from the second billing, whether it's a trial or non-trial subscription."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_renewal_cancelled"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"A user has turned off subscription auto-renewal. The user retains access to premium features until the end of the paid subscription period."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_renewal_reactivated"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a user reactivates subscription auto-renewal."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_expired"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a subscription fully ends after being canceled. For instance, if a user cancels a subscription on December 12th but it remains active until December 31st, the event is recorded on December 31st when the subscription expires."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_paused"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Occurs when a user activates ",(0,n.jsx)(t.a,{href:"https://developer.android.com/google/play/billing/subs#pause",children:"subscription pause"})," (Android only)."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"non_subscription_purchase"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Any non-subscription purchase, such as lifetime access or consumable products like in-game coins."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"trial_started"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a user activates a trial subscription."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"trial_converted"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Occurs when a trial ends and the user is billed (first purchase). For example, if a user has a trial until January 14th but is billed on January 7th, this event is recorded on January 7th."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"trial_renewal_cancelled"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"A user turned off subscription auto-renewal during the trial period. The user retains access to premium features until the trial ends but will not be billed or start a subscription."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"trial_renewal_reactivated"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Occurs when a user reactivates subscription auto-renewal during the trial period."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"trial_expired"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a trial ends without converting to a subscription."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"entered_grace_period"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Occurs when a payment attempt fails, and the user enters a grace period (if enabled). The user retains premium access during this time."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"billing_issue_detected"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a billing issue occurs during a charge attempt (e.g., insufficient card balance)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_refunded"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a subscription is refunded (e.g., by Apple Support)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"non_subscription_purchase_refunded"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Triggered when a non-subscription purchase is refunded."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"access_level_updated"}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Occurs when a user's access level is updated."})]})]})]})}function a(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);