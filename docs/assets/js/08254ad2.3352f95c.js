"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[3347],{4589:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/7a11c96-image-bea3f06ab20ae8eaf6ae7445a3155cdf.webp"},14305:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/c1eb89d-image-04e2508905395057316c7fcee43fc153.webp"},27123:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/605874f-image-89e9be59e2660d9eb03da9aba2f9c71f.webp"},32048:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>d,toc:()=>l});var n=s(74848),i=s(28453),o=s(34028);s(26393);const a={title:"Test in-app purchases in Google Play Store",description:"Test subscription purchases on Android using Adapty.",metadataTitle:"Testing Subscription Purchases on Android | Adapty Docs"},r=void 0,d={id:"testing-on-android",title:"Test in-app purchases in Google Play Store",description:"Test subscription purchases on Android using Adapty.",source:"@site/versioned_docs/version-3.0/testing-on-android.md",sourceDirName:".",slug:"/testing-on-android",permalink:"/test_assignment_adapty/docs/testing-on-android",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Test in-app purchases in Google Play Store",description:"Test subscription purchases on Android using Adapty.",metadataTitle:"Testing Subscription Purchases on Android | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Test in-app purchases with TestFlight",permalink:"/test_assignment_adapty/docs/test-purchases-with-testflight"},next:{title:"Validate test purchases",permalink:"/test_assignment_adapty/docs/validate-test-purchases"}},c={},l=[{value:"Test your app on a real device",id:"test-your-app-on-a-real-device",level:2},{value:"Create a test user for app testing",id:"create-a-test-user-for-app-testing",level:2},{value:"Configure licence testing for your app",id:"configure-licence-testing-for-your-app",level:2},{value:"Create a closed track and add the test user to it",id:"create-a-closed-track-and-add-the-test-user-to-it",level:2},{value:"Upload a signed APK to the closed track",id:"upload-a-signed-apk-to-the-closed-track",level:2},{value:"Test in-app purchases",id:"test-in-app-purchases",level:2}];function p(e){const t={admonition:"admonition",blockquote:"blockquote",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"Testing in-app purchases (IAPs) in your Android app can be a crucial step before releasing your app to the public. Sandbox testing is a safe and efficient way to test IAPs without charging real money to your users. In this guide, we'll walk you through the process of sandbox testing IAPs on the Google Play Store for Android."}),"\n",(0,n.jsx)(t.h2,{id:"test-your-app-on-a-real-device",children:"Test your app on a real device"}),"\n",(0,n.jsx)(t.p,{children:"To ensure optimal performance of your Android app, it's recommended that you test it on a real device instead of an emulator. While we have successfully tested on emulators, Google recommends using a real device."}),"\n",(0,n.jsx)(t.p,{children:"If you do decide to use an emulator, make sure that it has Google Play installed. This will help ensure that your app is functioning properly."}),"\n",(0,n.jsx)(t.h2,{id:"create-a-test-user-for-app-testing",children:"Create a test user for app testing"}),"\n",(0,n.jsx)(t.p,{children:"To facilitate testing during later stages of development, you'll need to create a test user. This user will be the first account you log in with on your Android testing device."}),"\n",(0,n.jsx)(t.p,{children:"Note that the primary account on an Android device can only be changed by performing a factory reset. Therefore, it's important to create a separate test user account to avoid having to perform a factory reset on your device."}),"\n",(0,n.jsx)(t.h2,{id:"configure-licence-testing-for-your-app",children:"Configure licence testing for your app"}),"\n",(0,n.jsx)(t.p,{children:"Once you've created a test user account, you'll need to configure licensing testing for your app. To do this, follow these steps:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["In the Console sidebar, navigate to ",(0,n.jsx)(t.strong,{children:"Setup"}),"."]}),"\n",(0,n.jsxs)(t.li,{children:["Select ",(0,n.jsx)(t.strong,{children:"License testing"}),"."]}),"\n",(0,n.jsx)(t.li,{children:"Add the account that you're using on your real device (i.e., the account you're currently logged in with) to the list."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This will allow you to configure licensing testing for your app and ensure that it's functioning properly."}),"\n",(0,n.jsx)(t.p,{children:"In our example, we already have a list of testers:"}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(4589).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsx)(t.h2,{id:"create-a-closed-track-and-add-the-test-user-to-it",children:"Create a closed track and add the test user to it"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Publish a signed version of your app to a closed track. If you haven't created a closed track yet, you can create one in the ",(0,n.jsx)(t.strong,{children:"Closed testing"})," section of the ",(0,n.jsx)(t.strong,{children:"Testing"})," menu."]}),"\n"]}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(91629).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsx)(t.p,{children:"Just as previously, you can use one of the existing lists or create a new one:"}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(80259).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsxs)(t.ol,{start:"2",children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Press ",(0,n.jsx)(t.strong,{children:"Enter"}),", and click the ",(0,n.jsx)(t.strong,{children:"Save changes"})," button."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:["Open the ",(0,n.jsx)(t.strong,{children:"Opt-in URL"})," in your testing device to make the user a tester. You can send the URL to your device via email, for example."]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(95520).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(14305).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsx)(t.p,{children:"Important"}),(0,n.jsx)(t.p,{children:"Opening the opt-in URL marks your Play account for testing. If you don't complete this step, products will not load."})]}),"\n",(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsx)(t.p,{children:"Check Your Application ID"}),(0,n.jsx)(t.p,{children:"Often developers will use a different application ID for their test builds. This will cause you problems since Google Play Services uses the application ID to find your in-app purchases."})]}),"\n",(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsx)(t.p,{children:"Add a PIN to the test device if needed"}),(0,n.jsx)(t.p,{children:'There are cases where a test user may be allowed to purchase consumables, but not subscriptions, if the test device does not have a PIN. This may manifest in a cryptic "Something went wrong" message. Make sure that the test device has a PIN, and that the device is logged into Google Play Store.'})]}),"\n",(0,n.jsx)(t.h2,{id:"upload-a-signed-apk-to-the-closed-track",children:"Upload a signed APK to the closed track"}),"\n",(0,n.jsx)(t.p,{children:"Generate a signed APK or use Android App Bundle to upload a signed APK to the closed track you just created. You don't even need to roll out the release. Just upload the APK. You can find more information about this in this support article."}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsx)(t.p,{children:"\ud83c\udf0e Make your release available in at least one country"}),"\n",(0,n.jsx)(t.p,{children:"If your app is new, you may need to make it available in your country or region. To do so, go to Testing > Closed testing, click on your test track, and go to Countries/regions to add the desired countries and regions."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"test-in-app-purchases",children:"Test in-app purchases"}),"\n",(0,n.jsx)(t.p,{children:"After you've uploaded the APK, wait a few minutes for the release to process. Then, open your testing device and sign in with the email account you added to the Testers list. You can then test in-app purchases as you would on a production app."}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(98086).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsx)(t.p,{children:"If you run into any issues, refer to the documentation or contact Google Play Developer support."}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(27123).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},80259:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/1badc43-image-3c221ead531ef1c3a538340aefa9c783.webp"},91629:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/5511dff-image-c7a11068581ffa4bb178572058b980a6.webp"},95520:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/6cce394-image-bc5a559f243721160cc3041c39c34231.webp"},98086:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/a8d2da9-image-f317b3f7be98e384d7762e7f46f7f2b4.webp"}}]);