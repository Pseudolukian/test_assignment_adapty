"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[8217],{11470:(e,t,r)=>{r.d(t,{A:()=>_});var n=r(96540),i=r(34164),s=r(23104),l=r(56347),d=r(205),a=r(57485),c=r(31682),o=r(70679);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:r}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:r,attributes:n,default:i}}=e;return{value:t,label:r,attributes:n,default:i}}))}(r);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function x(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:r}=e;const i=(0,l.W6)(),s=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,a.aZ)(s),(0,n.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(i.location.search);t.set(s,e),i.replace({...i.location,search:t.toString()})}),[s,i])]}function j(e){const{defaultValue:t,queryString:r=!1,groupId:i}=e,s=u(e),[l,a]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!x({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=r.find((e=>e.default))??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:s}))),[c,h]=p({queryString:r,groupId:i}),[j,g]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[i,s]=(0,o.Dv)(r);return[i,(0,n.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:i}),f=(()=>{const e=c??j;return x({value:e,tabValues:s})?e:null})();(0,d.A)((()=>{f&&a(f)}),[f]);return{selectedValue:l,selectValue:(0,n.useCallback)((e=>{if(!x({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),g(e)}),[h,g,s]),tabValues:s}}var g=r(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=r(74848);function y(e){let{className:t,block:r,selectedValue:n,selectValue:l,tabValues:d}=e;const a=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),o=e=>{const t=e.currentTarget,r=a.indexOf(t),i=d[r].value;i!==n&&(c(t),l(i))},h=e=>{let t=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const r=a.indexOf(e.currentTarget)+1;t=a[r]??a[0];break}case"ArrowLeft":{const r=a.indexOf(e.currentTarget)-1;t=a[r]??a[a.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},t),children:d.map((e=>{let{value:t,label:r,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>a.push(e),onKeyDown:h,onClick:o,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":n===t}),children:r??t},t)}))})}function m(e){let{lazy:t,children:r,selectedValue:i}=e;const s=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===i));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function v(e){const t=j(e);return(0,b.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,b.jsx)(y,{...t,...e}),(0,b.jsx)(m,{...t,...e})]})}function _(e){const t=(0,g.A)();return(0,b.jsx)(v,{...e,children:h(e.children)},String(t))}},19365:(e,t,r)=>{r.d(t,{A:()=>l});r(96540);var n=r(34164);const i={tabItem:"tabItem_Ymn6"};var s=r(74848);function l(e){let{children:t,hidden:r,className:l}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,n.A)(i.tabItem,l),hidden:r,children:t})}},65153:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>x,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var n=r(74848),i=r(28453),s=(r(26393),r(11470)),l=r(19365);const d={title:"Analytics integrations",description:"Integrate analytics tools with Adapty to track and optimize user subscriptions.",metadataTitle:"Analytics Integration Guide | Adapty Docs"},a=void 0,c={id:"analytics-integration",title:"Analytics integrations",description:"Integrate analytics tools with Adapty to track and optimize user subscriptions.",source:"@site/versioned_docs/version-3.0/analytics-integration.md",sourceDirName:".",slug:"/analytics-integration",permalink:"/docs/analytics-integration",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Analytics integrations",description:"Integrate analytics tools with Adapty to track and optimize user subscriptions.",metadataTitle:"Analytics Integration Guide | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Tenjin",permalink:"/docs/tenjin"},next:{title:"Amplitude",permalink:"/docs/amplitude"}},o={},h=[{value:"Event properties",id:"event-properties",level:2},{value:"Setting the profile&#39;s identifier",id:"setting-the-profiles-identifier",level:3},{value:"Disabling external analytics for a specific customer",id:"disabling-external-analytics-for-a-specific-customer",level:3},{value:"Disable collection of advertising identifiers",id:"disable-collection-of-advertising-identifiers",level:3}];function u(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Adapty sends all ",(0,n.jsx)(t.a,{href:"events",children:"subscription events"})," to analytical services, such as ",(0,n.jsx)(t.a,{href:"amplitude",children:"Amplitude"}),", ",(0,n.jsx)(t.a,{href:"mixpanel",children:"Mixpanel"}),", and ",(0,n.jsx)(t.a,{href:"appmetrica",children:"AppMetrica"}),". We can also send events to your server using ",(0,n.jsx)(t.a,{href:"webhook",children:"webhook"})," integration. The best thing about this is that you don't have to send any of the events, we'll do it for you. Just make sure to configure the integration in the Adapty Dashboard."]}),"\n",(0,n.jsx)(t.p,{children:"Adapty supports the integration with the following 3d-party analytics services:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"amplitude",children:"Amplitude"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"appmetrica",children:"AppMetrica"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"firebase-and-google-analytics",children:"Firebase and Google Analytics"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"mixpanel",children:"Mixpanel"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"posthog",children:"PostHog"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"splitmetrics",children:"SplitMetrics Acquire"})}),"\n"]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsx)(t.p,{children:"Don't see your analytics provider?"}),(0,n.jsxs)(t.p,{children:["Let us know! ",(0,n.jsx)(t.a,{href:"mailto:support@adapty.io",children:"Write to the Adapty support"})," and we'll consider adding it."]})]}),"\n",(0,n.jsx)(t.h2,{id:"event-properties",children:"Event properties"}),"\n",(0,n.jsx)(t.p,{children:"Webhook events are sent in JSON format. All events follow the same structure, but their fields vary based on the event type, store, and your specific configuration."}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Property"}),(0,n.jsx)(t.th,{children:"Type"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_id"})}),(0,n.jsx)(t.td,{children:"uuid"}),(0,n.jsx)(t.td,{children:"Adapty user ID."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"currency"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Local currency (defaults to USD)."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"price_usd"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Product price before Apple/Google cut. Revenue."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"proceeds_usd"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Product price after Apple/Google cut. Net revenue."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"net_revenue_usd"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Net revenue (income after Apple/Google cut and taxes) in USD. Can be empty."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"price_local"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Product price before Apple/Google cut in local currency. Revenue."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"proceeds_local"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Product price after Apple/Google cut in local currency. Net revenue."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"transaction_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"A unique identifier for a transaction such as a purchase or renewal."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"original_transaction_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"The transaction identifier of the original purchase."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"purchase_date"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"The date and time of product purchase."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"original_purchase_date"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"The date and time of the original purchase."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"environment"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:["Can be ",(0,n.jsx)(t.em,{children:"Sandbox"})," or ",(0,n.jsx)(t.em,{children:"Production"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"vendor_product_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Product ID in the Apple App Store, Google Play Store, or Stripe."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"base_plan_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)(t.a,{href:"https://support.google.com/googleplay/android-developer/answer/12154973",children:"Base plan ID"}),"   in the Google Play Store or ",(0,n.jsx)(t.a,{href:"https://docs.stripe.com/products-prices/how-products-and-prices-work#what-is-a-price",children:"price ID"}),"   in Stripe."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"event_datetime"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"The date and time of the event."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"store"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:["Can be ",(0,n.jsx)(t.em,{children:"app_store"})," or ",(0,n.jsx)(t.em,{children:"play_store"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"trial_duration"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:['Duration of a trial period in days. Sent in a format "',' days" , for example, "7 days".']})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"cancellation_reason"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"A reason why the user canceled a subscription."}),(0,n.jsx)("p",{}),(0,n.jsx)("p",{children:"Can be"}),(0,n.jsx)("p",{children:"iOS & Android"}),(0,n.jsxs)("p",{children:[(0,n.jsx)(t.em,{children:"voluntarily_cancelled"}),", ",(0,n.jsx)(t.em,{children:"billing_error"}),", ",(0,n.jsx)(t.em,{children:"refund"})]}),(0,n.jsx)("p",{children:"iOS"}),(0,n.jsxs)("p",{children:[(0,n.jsx)(t.em,{children:"price_increase"}),", ",(0,n.jsx)(t.em,{children:"product_was_not_available"}),", ",(0,n.jsx)(t.em,{children:"unknown"})]}),(0,n.jsx)("p",{children:"Android"}),(0,n.jsxs)("p",{children:[(0,n.jsx)(t.em,{children:"new_subscription_replace"}),", ",(0,n.jsx)(t.em,{children:"cancelled_by_developer"})]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"subscription_expires_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"The Expiration date of subscription. Usually in the future."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"consecutive_payments"})}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"The number of periods, that a user is subscribed to without interruptions. Includes the current period."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"rate_after_first_year"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicates that a vendor reduces cuts to 15%. Apple and Google have 30% first-year cut and 15% after it."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"promotional_offer_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"ID of promotional offer as indicated in the Product section of the Adapty Dashboard"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"store_offer_category"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:["Can be ",(0,n.jsx)(t.em,{children:"introductory"})," or ",(0,n.jsx)(t.em,{children:"promotional"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"store_offer_discount_type"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsxs)(t.td,{children:["Can be ",(0,n.jsx)(t.em,{children:"free_trial"}),", ",(0,n.jsx)(t.em,{children:"pay_as_you_go"})," or ",(0,n.jsx)(t.em,{children:"pay_up_front"}),"."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"paywall_name"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Name of the paywall where the transaction originated."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"paywall_revision"})}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"Revision of the paywall where the transaction originated. The value is set to 1."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"developer_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Developer (SDK) ID of the placement where the transaction originated."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"ab_test_name"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Name of the A/B test where the transaction originated."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"ab_test_revision"})}),(0,n.jsx)(t.td,{children:"int"}),(0,n.jsx)(t.td,{children:"Revision of the A/B test where the transaction originated. The value is set to 1."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"cohort_name"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Name of the audience to which the profile belongs to."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_event_id"})}),(0,n.jsx)(t.td,{children:"uuid"}),(0,n.jsx)(t.td,{children:"Unique event ID that can be used for deduplication."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"store_country"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"The country sent to us by the store."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_ip_address"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Profile IP (can be IPv4 or IPv6, with IPv4 preferred when available). It is updated each time IP of the device changes."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_country"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Determined by Adapty, based on profile IP."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_total_revenue_usd"})}),(0,n.jsx)(t.td,{children:"float"}),(0,n.jsx)(t.td,{children:"Total revenue for the profile, refunds included."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"variation_id"})}),(0,n.jsx)(t.td,{children:"uuid"}),(0,n.jsx)(t.td,{children:"Unique ID of the paywall where the purchase was made."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"access_level_id"})}),(0,n.jsx)(t.td,{children:"str"}),(0,n.jsx)(t.td,{children:"Paid access level ID"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"is_active"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicating whether paid access level is active for the profile."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"will_renew"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicating whether paid access level will be renewed."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"is_refund"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicating whether transaction is refunded."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"is_lifetime"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicating whether paid access level is lifetime."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"is_in_grace_period"})}),(0,n.jsx)(t.td,{children:"bool"}),(0,n.jsx)(t.td,{children:"Boolean indicating whether profile is in grace period."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"starts_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"Date and time when paid access level starts for the user."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"renewed_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"Date and time when paid access will be renewed."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"expires_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"Date and time when paid access will expire."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"activated_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"Date and time when paid access was activated."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"billing_issue_detected_at"})}),(0,n.jsx)(t.td,{children:"ISO 8601 date"}),(0,n.jsx)(t.td,{children:"Date and time of billing issue."})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"profile_has_access_level"})}),(0,n.jsx)(t.td,{children:"Bool"}),(0,n.jsx)(t.td,{children:"A boolean that indicates whether the profile has an active access level (Webhook only)."})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Each event has the following properties:"}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"transaction_id, original_transaction_id, purchase_date, original_purchase_date, environment, vendor_product_id, event_datetime, store"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["In addition, some events have additional properties. For the events ",(0,n.jsx)(t.code,{children:"subscription_refunded"})," and ",(0,n.jsx)(t.code,{children:"non_subscription_purchase_refunded"}),", it is mandatory to provide the values of ",(0,n.jsx)(t.code,{children:"price_usd"})," and ",(0,n.jsx)(t.code,{children:"proceeds_usd"})," as additional properties."]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Event Name"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Properties"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"subscription_initial_purchase"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"price_usd, proceeds_usd, subscription_expires_at, consecutive_payments, rate_after_first_year, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"subscription_renewed"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"price_usd, proceeds_usd, subscription_expires_at, consecutive_payments, rate_after_first_year, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"subscription_cancelled"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"cancellation_reason, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"trial_started"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_expires_at, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"trial_converted"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"price_usd, proceeds_usd, subscription_expires_at, consecutive_payments, rate_after_first_year, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"trial_cancelled"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"cancellation_reason, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"non_subscription_purchase"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"price_usd, proceeds_usd"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"billing_issue_detected"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_expires_at, trial_duration"})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"entered_grace_period"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"subscription_expires_at, trial_duration"})]})]})]}),"\n",(0,n.jsx)(t.p,{children:"Event example"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-json",metastring:'title="Json"',children:'{\n    "price_usd": 9.99,\n    "proceeds_usd": 6.99,\n    "transaction_id": "1000000628581600",\n    "original_transaction_id": "1000000628581600",\n    "purchase_date": "2020-02-18T18:40:22.000000+0000",\n    "original_purchase_date": "2020-02-18T18:40:22.000000+0000",\n    "environment": "Sandbox",\n    "vendor_product_id": "premium",\n    "event_datetime": "2020-02-18T18:40:22.000000+0000",\n    "store": "app_store"\n}\n'})}),"\n",(0,n.jsx)(t.p,{children:"Adapty sends events to your server and 3rd party analytical systems."}),"\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"profile_ip_address"})," property is synchronized with the current device IP. Each time the Adapty servers receive info from the SDK, the IP will be updated if it differs from the one we have on record."]}),"\n",(0,n.jsx)(t.h3,{id:"setting-the-profiles-identifier",children:"Setting the profile's identifier"}),"\n",(0,n.jsxs)(t.p,{children:["Set the profile's identifier for the selected analytics using ",(0,n.jsx)(t.a,{href:"setting-user-attributes#setting-user-attributes",children:(0,n.jsx)(t.code,{children:".setIntegrationIdentifier"})})," method. For example, for Amplitude integration, you can set either ",(0,n.jsx)(t.code,{children:"amplitudeUserId"})," or ",(0,n.jsx)(t.code,{children:"amplitudeDeviceId"}),". For Mixpanel integration, you have to set ",(0,n.jsx)(t.code,{children:"mixpanelUserId"}),". When these identifiers are not set, Adapty will use ",(0,n.jsx)(t.code,{children:"customerUserId"})," instead. If the ",(0,n.jsx)(t.code,{children:"customerUserId"})," is not set, we will use our internal profile ID."]}),"\n",(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsx)(t.p,{children:"Avoiding duplication"}),(0,n.jsx)(t.p,{children:"Don't forget to turn off sending subscription events from devices and your server to avoid duplication"})]}),"\n",(0,n.jsx)(t.h3,{id:"disabling-external-analytics-for-a-specific-customer",children:"Disabling external analytics for a specific customer"}),"\n",(0,n.jsx)(t.p,{children:"You may want to stop sending analytics events for a specific customer. This is useful if you have an option in your app to opt-out of analytics services."}),"\n",(0,n.jsxs)(t.p,{children:["To disable external analytics for a customer, use ",(0,n.jsx)(t.code,{children:"updateProfile()"})," method. Create ",(0,n.jsx)(t.code,{children:"AdaptyProfileParameters.Builder"})," object and set the corresponding value to it.",(0,n.jsx)(t.br,{}),"\n","When external analytics is blocked, Adapty won't be sending any events to any integrations for the specific user. If you want to disable an integration for all users of your app, just turn it off in Adapty Dashboard."]}),"\n",(0,n.jsxs)(s.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsx)(l.A,{value:"swift",label:"Swift",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:"let builder = AdaptyProfileParameters.Builder()\n    .with(analyticsDisabled: true)\n\nAdapty.updateProfile(parameters: builder.build())\n"})})}),(0,n.jsx)(l.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:"val builder = AdaptyProfileParameters.Builder()\n    .withExternalAnalyticsDisabled(true)\n  \nAdapty.updateProfile(builder.build())\n"})})}),(0,n.jsx)(l.A,{value:"java",label:"Java",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers ]",children:"AdaptyProfileParameters.Builder builder = new AdaptyProfileParameters.Builder()\n    .withExternalAnalyticsDisabled(true);\n\nAdapty.updateProfile(builder.build());\n"})})}),(0,n.jsx)(l.A,{value:"flutter",label:"Flutter",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"final builder = AdaptyProfileParametersBuilder()\n  ..setAnalyticsDisabled(true);\n\ntry {\n  await Adapty().updateProfile(builder.build());\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n}\n"})})}),(0,n.jsx)(l.A,{value:"unity",label:"Unity",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"var builder = new AdaptyProfileParameters.Builder()\n    .SetAnalyticsDisabled(true);\n\nAdapty.UpdateProfile(builder.Build(), (error) => {\n    if(error != null) {\n      // handle the error\n    }\n});\n"})})}),(0,n.jsx)(l.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"adapty.updateProfile({ analyticsDisabled: true });\n"})})})]}),"\n",(0,n.jsx)(t.h3,{id:"disable-collection-of-advertising-identifiers",children:"Disable collection of advertising identifiers"}),"\n",(0,n.jsxs)(s.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(l.A,{value:"swift",label:"iOS",default:!0,children:[(0,n.jsxs)(t.p,{children:["You can disable IDFA collection by using the ",(0,n.jsx)(t.code,{children:"idfaCollectionDisabled"})," property. Make sure you call it before ",(0,n.jsx)(t.code,{children:".activate()"})," method."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'// In your AppDelegate class:\nimport Adapty\n\nlet configurationBuilder =\n    AdaptyConfiguration\n        .builder(withAPIKey: "PUBLIC_SDK_KEY")\n // highlight-start\n        .with(idfaCollectionDisabled: true) // set to `true`\n// highlight-end\n\nAdapty.activate(with: configurationBuilder.build()) { error in\n  // handle the error\n}\n'})})]}),(0,n.jsxs)(l.A,{value:"kotlin",label:"Android (Kotlin)",default:!0,children:[(0,n.jsxs)(t.p,{children:["You can disable AAID/GAID collection by using the ",(0,n.jsx)(t.code,{children:"withAdIdCollectionDisabled"})," property when activating the Adapty SDK:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'override fun onCreate() {\n    super.onCreate()\n    Adapty.activate(\n      applicationContext,\n      AdaptyConfig.Builder("PUBLIC_SDK_KEY")\n      // highlight-start\n          .withAdIdCollectionDisabled(true) // set to `true`\n      // highlight-end\n          .build()\n    )  \n}\n'})})]}),(0,n.jsxs)(l.A,{value:"java",label:"Android (Java)",default:!0,children:[(0,n.jsxs)(t.p,{children:["You can disable AAID/GAID collection by using the ",(0,n.jsx)(t.code,{children:"withAdIdCollectionDisabled"})," property when activating the Adapty SDK:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers\xa0",children:'@Override\npublic void onCreate() {\n    super.onCreate();\n    Adapty.activate(\n      applicationContext,\n      new AdaptyConfig.Builder("PUBLIC_SDK_KEY")\n      // highlight-start\n          .withAdIdCollectionDisabled(true) // set to `true`\n      // highlight-end\n          .build()\n    );\n}\n'})})]}),(0,n.jsxs)(l.A,{value:"flutter",label:"Flutter",default:!0,children:[(0,n.jsxs)(t.p,{children:["You can disable IDFA collecting by using the ",(0,n.jsx)(t.code,{children:"withAppleIdfaCollectionDisabled"})," property and Google/Android Advertising ID by using the ",(0,n.jsx)(t.code,{children:"withGoogleAdvertisingIdCollectionDisabled"})," property. Set them to ",(0,n.jsx)(t.code,{children:"true"})," when activating the Adapty SDK:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-dart",metastring:"showLineNumbers",children:"try {\n    await Adapty().activate(\n        configuration: AdaptyConfiguration(apiKey: 'YOUR_API_KEY')\n // highlight-start\n          ..withGoogleAdvertisingIdCollectionDisabled(true), // set to `true`\n          ..withAppleIdfaCollectionDisabled(true), // set to `true`\n// highlight-end\n    );\n} catch (e) {\n    // handle the error\n}\n"})})]}),(0,n.jsxs)(l.A,{value:"unity",label:"Unity",default:!0,children:[(0,n.jsxs)(t.p,{children:["You can disable IDFA collecting by using the ",(0,n.jsx)(t.code,{children:"SetIDFACollectionDisabled"})," property when activating the Adapty SDK. The AAID/GAID collection cannot be disabled now."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-dart",metastring:"showLineNumbers",children:'var builder = new AdaptyConfiguration.Builder("YOUR_API_KEY")\n // highlight-start\n    .SetIDFACollectionDisabled(true); // set to `true`\n // highlight-end\n\nAdapty.Activate(builder.Build(), (error) => {\n    // handle the error\n}\n'})})]}),(0,n.jsxs)(l.A,{value:"rn",label:"React Native",default:!0,children:[(0,n.jsxs)(t.p,{children:["You also can disable IDFA collecting by using ",(0,n.jsx)(t.code,{children:"idfaCollectionDisabled"})," property when activating the Adapty SDK. The AAID/GAID collection cannot be disabled now."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"adapty.activate('PUBLIC_SDK_KEY', {\n  // highlight-start \n  ios: {\n    idfaCollectionDisabled: true, // set to `true`\n  },\n  // highlight-end\n});\n"})})]})]})]})}function x(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}}}]);