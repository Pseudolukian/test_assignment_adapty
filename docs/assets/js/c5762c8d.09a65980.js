"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[9897],{11470:(e,t,n)=>{n.d(t,{A:()=>A});var r=n(96540),a=n(34164),i=n(23104),s=n(56347),o=n(205),l=n(57485),u=n(31682),c=n(70679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:n}=e;const a=(0,s.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[u,d]=b({queryString:n,groupId:a}),[f,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,c.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),g=(()=>{const e=u??f;return p({value:e,tabValues:i})?e:null})();(0,o.A)((()=>{g&&l(g)}),[g]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),m(e)}),[d,m,i]),tabValues:i}}var m=n(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(74848);function x(e){let{className:t,block:n,selectedValue:r,selectValue:s,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,i.a_)(),c=e=>{const t=e.currentTarget,n=l.indexOf(t),a=o[n].value;a!==r&&(u(t),s(a))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:o.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>l.push(e),onKeyDown:d,onClick:c,...i,className:(0,a.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function v(e){let{lazy:t,children:n,selectedValue:a}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function y(e){const t=f(e);return(0,j.jsxs)("div",{className:(0,a.A)("tabs-container",g.tabList),children:[(0,j.jsx)(x,{...t,...e}),(0,j.jsx)(v,{...t,...e})]})}function A(e){const t=(0,m.A)();return(0,j.jsx)(y,{...e,children:d(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>s});n(96540);var r=n(34164);const a={tabItem:"tabItem_Ymn6"};var i=n(74848);function s(e){let{children:t,hidden:n,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:n,children:t})}},60528:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>u});var r=n(74848),a=n(28453);n(26393),n(11470),n(19365);const i={title:"Attribution integration",description:"Integrate Adapty with attribution tools to track user acquisition and LTV.",metadataTitle:"Attribution Integration Guide | Adapty Docs"},s=void 0,o={id:"attribution-integration",title:"Attribution integration",description:"Integrate Adapty with attribution tools to track user acquisition and LTV.",source:"@site/versioned_docs/version-3.0/attribution-integration.md",sourceDirName:".",slug:"/attribution-integration",permalink:"/docs/attribution-integration",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Attribution integration",description:"Integrate Adapty with attribution tools to track user acquisition and LTV.",metadataTitle:"Attribution Integration Guide | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Event statuses",permalink:"/docs/event-statuses"},next:{title:"Adjust",permalink:"/docs/adjust"}},l={},u=[{value:"Important",id:"important",level:3},{value:"Custom",id:"custom",level:3}];function c(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Adapty allows easy integration with the popular attribution services: ",(0,r.jsx)(t.a,{href:"appsflyer",children:"AppsFlyer"}),", ",(0,r.jsx)(t.a,{href:"adjust",children:"Adjust"}),", ",(0,r.jsx)(t.a,{href:"branch",children:"Branch"}),", ",(0,r.jsx)(t.a,{href:"apple-search-ads",children:"Apple Search Ads"}),", and ",(0,r.jsx)(t.a,{href:"facebook-ads",children:"Facebook Ads"}),". Adapty will send ",(0,r.jsx)(t.a,{href:"events",children:"subscription events"})," to these services so you can accurately measure the performance of ad campaigns. You can also filter ",(0,r.jsx)(t.a,{href:"analytics-charts",children:"charts data"})," using attribution data."]}),"\n",(0,r.jsx)(t.p,{children:"Send subscription events with correct user properties and ID's to attributions services you use."}),"\n",(0,r.jsx)(t.h3,{id:"important",children:"Important"}),"\n",(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Avoid event duplication"}),": Be sure to disable subscription event forwarding from both devices and your server to prevent duplicates. If you're using direct integration with Facebook, remember to turn off event forwarding from AppsFlyer, Adjust, or Branch."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Properly set up attribution integration"}),": Ensure that attribution is set up in both your mobile app code and the Adapty Dashboard. Without both in place, Adapty won\u2019t be able to send subscription events."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Set a single attribution source"}),": Adapty can use attribution data in analytics from only one source at a time. If multiple attribution sources are enabled, the system will decide which attribution to use for each device based on the source that provides more fields.\nFor iOS devices, this means non-organic ",(0,r.jsx)(t.a,{href:"apple-search-ads",children:"Apple Search Ads attribution"})," will always take priority if it's enabled. You can disable Apple Search Ads attribution collection by toggling off the ",(0,r.jsx)(t.strong,{children:"Receive Apple Search Ads attribution in Adapty"})," in the ",(0,r.jsxs)(t.a,{href:"https://app.adapty.io/settings/apple-search-ads",children:[(0,r.jsx)(t.strong,{children:"App Settings"})," -> ",(0,r.jsx)(t.strong,{children:"Apple Search Ads"})," tab"]}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Attribution data is never overwritten in analytics"}),": Attribution data is saved once after the user profile is created and won\u2019t be overwritten in analytics once stored."]}),"\n"]}),"\n"]})}),"\n",(0,r.jsx)(t.p,{children:"Follow our detailed guidance on configuring the following 3d-part attribution integrations:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"adjust",children:"Adjust"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"airbridge",children:"Airbridge"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"apple-search-ads",children:"Apple Search Ads"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"appsflyer",children:"AppsFlyer"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"asapty",children:"Asapty"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"branch",children:"Branch"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"facebook-ads",children:"Facebook Ads"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"singular",children:"Singular"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"tenjin",children:"Tenjin"})}),"\n"]}),"\n",(0,r.jsxs)(t.admonition,{type:"note",children:[(0,r.jsx)(t.p,{children:"Don't see your attribution provider?"}),(0,r.jsxs)(t.p,{children:["Let us know! ",(0,r.jsx)(t.a,{href:"mailto:support@adapty.io",children:"Write to the Adapty support"})," and we'll consider adding it."]})]}),"\n",(0,r.jsx)(t.h3,{id:"custom",children:"Custom"}),"\n",(0,r.jsxs)(t.p,{children:["If you use another attribution system, you can pass the attribution data to Adapty. You can then segment users based on this data.",(0,r.jsx)(t.br,{}),"\n","To set attributes, use only the keys from the example below (all keys are optional). The system supports max 30 available attributes, where the keys are limited to 30 characters. Every value in the map should be no longer than 50 characters. ",(0,r.jsx)(t.code,{children:"status"})," can only be ",(0,r.jsx)(t.code,{children:"organic"}),", ",(0,r.jsx)(t.code,{children:"non-organic"})," or ",(0,r.jsx)(t.code,{children:"unknown"}),". Any additional keys will be omitted."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:'let attribution = [\n    "status": "non_organic|organic|unknown",\n    "channel": "Google Ads",\n    "campaign": "Christmas Sale",\n    "ad_group": "ad group",\n    "ad_set": "ad set",\n    "creative": "creative id"\n]\nAdapty.updateAttribution(attribution, source: "custom")\n'})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);