"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[5753],{1014:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/8a5df9d-CleanShot_2023-07-04_at_12.47.312x-7d2bab0c6a2479dfefcdeea7a82b65af.webp"},11470:(e,t,n)=>{n.d(t,{A:()=>v});var a=n(96540),s=n(34164),r=n(23104),i=n(56347),o=n(205),l=n(57485),c=n(31682),d=n(70679);function u(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:s}}=e;return{value:t,label:n,attributes:a,default:s}}))}(n);return function(e){const t=(0,c.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const s=(0,i.W6)(),r=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,l.aZ)(r),(0,a.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(s.location.search);t.set(r,e),s.replace({...s.location,search:t.toString()})}),[r,s])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,r=h(e),[i,l]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:r}))),[c,u]=f({queryString:n,groupId:s}),[b,g]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,r]=(0,d.Dv)(n);return[s,(0,a.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:s}),x=(()=>{const e=c??b;return p({value:e,tabValues:r})?e:null})();(0,o.A)((()=>{x&&l(x)}),[x]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),g(e)}),[u,g,r]),tabValues:r}}var g=n(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=n(74848);function m(e){let{className:t,block:n,selectedValue:a,selectValue:i,tabValues:o}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,r.a_)(),d=e=>{const t=e.currentTarget,n=l.indexOf(t),s=o[n].value;s!==a&&(c(t),i(s))},u=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},t),children:o.map((e=>{let{value:t,label:n,attributes:r}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>l.push(e),onKeyDown:u,onClick:d,...r,className:(0,s.A)("tabs__item",x.tabItem,r?.className,{"tabs__item--active":a===t}),children:n??t},t)}))})}function A(e){let{lazy:t,children:n,selectedValue:s}=e;const r=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=r.find((e=>e.props.value===s));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:r.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function j(e){const t=b(e);return(0,y.jsxs)("div",{className:(0,s.A)("tabs-container",x.tabList),children:[(0,y.jsx)(m,{...t,...e}),(0,y.jsx)(A,{...t,...e})]})}function v(e){const t=(0,g.A)();return(0,y.jsx)(j,{...e,children:u(e.children)},String(t))}},15351:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/fd84ddf-CleanShot_2023-08-15_at_15.45.442x-07585ebbad482486ef9333a6aa7e5de8.webp"},19365:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var a=n(34164);const s={tabItem:"tabItem_Ymn6"};var r=n(74848);function i(e){let{children:t,hidden:n,className:i}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,i),hidden:n,children:t})}},29903:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>f,frontMatter:()=>l,metadata:()=>d,toc:()=>h});var a=n(74848),s=n(28453),r=n(34028),i=(n(26393),n(11470)),o=n(19365);const l={title:"Facebook Ads",description:"Integrate Facebook Ads with Adapty for effective subscription marketing.",metadataTitle:"Facebook Ads Integration | Adapty Docs"},c=void 0,d={id:"facebook-ads",title:"Facebook Ads",description:"Integrate Facebook Ads with Adapty for effective subscription marketing.",source:"@site/versioned_docs/version-3.0/facebook-ads.md",sourceDirName:".",slug:"/facebook-ads",permalink:"/docs/facebook-ads",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Facebook Ads",description:"Integrate Facebook Ads with Adapty for effective subscription marketing.",metadataTitle:"Facebook Ads Integration | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Branch",permalink:"/docs/branch"},next:{title:"Singular",permalink:"/docs/singular"}},u={},h=[{value:"How to set up Facebook Ads integration",id:"how-to-set-up-facebook-ads-integration",level:2},{value:"Events and tags",id:"events-and-tags",level:2},{value:"SDK configuration",id:"sdk-configuration",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"With the Facebook Ads integration, you can easily check your app stats on Facebook Analytics. Adapty sends events to Facebook Ads Manager, helping you make similar audiences based on subscriptions to get better returns. This way, you can accurately see how much money your ads are making from subscriptions."}),"\n",(0,a.jsx)(t.p,{children:"The integration between Adapty and Facebook Ads operates in the following way: Adapty sends all subscription events that are configured in your integration to Facebook Ads. This integration is beneficial for evaluating the effectiveness of your advertising campaigns."}),"\n",(0,a.jsx)(t.h2,{id:"how-to-set-up-facebook-ads-integration",children:"How to set up Facebook Ads integration"}),"\n",(0,a.jsxs)(t.p,{children:["To integrate Facebook Ads and analyze your app metrics, you can set up the integration with Facebook Analytics. By sending events to Facebook Ads Manager, you can create lookalike audiences based on subscription events like renewals. To configure this integration, navigate to ",(0,a.jsx)(t.a,{href:"https://app.adapty.io/integrations/facebookanalytics",children:"Integrations > Facebook Ads"})," in the Adapty Dashboard and provide the required credentials."]}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsx)(t.p,{children:"Please consider that Facebook Ads integration works on iOS 14.5+ only for users with ATT consent."})}),"\n",(0,a.jsx)(r.A,{children:(0,a.jsx)("img",{src:n(15351).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["To find App ID, open your app page in ",(0,a.jsx)(t.a,{href:"https://appstoreconnect.apple.com/",children:"App Store Connect"}),", go to the ",(0,a.jsx)(t.strong,{children:"App Information"})," page in ",(0,a.jsx)(t.strong,{children:"General"})," section, and find ",(0,a.jsx)(t.strong,{children:"Apple ID"})," in the left bottom part of the screen."]}),"\n",(0,a.jsxs)(t.li,{children:["You need an application on ",(0,a.jsx)(t.a,{href:"https://developers.facebook.com/",children:"Facebook Developers"})," platform. Log in to your app and then find advanced settings. You can find the ",(0,a.jsx)(t.strong,{children:"App ID"})," in the header."]}),"\n"]}),"\n",(0,a.jsx)(r.A,{children:(0,a.jsx)("img",{src:n(45498).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,a.jsxs)(t.admonition,{type:"warning",children:[(0,a.jsx)(t.p,{children:"Disable in-app events logging in the Facebook SDK to avoid duplications"}),(0,a.jsxs)(t.p,{children:["Open your App Dashboard and navigate to Analytics->Settings. Then set ",(0,a.jsx)(t.em,{children:"Log In-App Events Automatically"})," to ",(0,a.jsx)(t.em,{children:"No"})," and click ",(0,a.jsx)(t.em,{children:"Save Changes"}),"."]})]}),"\n",(0,a.jsx)(r.A,{children:(0,a.jsx)("img",{src:n(55095).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,a.jsxs)(t.p,{children:["You can use this integration with Android apps as well. If you set up Android SDK configuration in the ",(0,a.jsx)(t.strong,{children:"App Settings"}),", setting up the ",(0,a.jsx)(t.strong,{children:"Facebook App ID"})," is enough."]}),"\n",(0,a.jsx)(t.h2,{id:"events-and-tags",children:"Events and tags"}),"\n",(0,a.jsx)(t.p,{children:"Please note that the Facebook Ads integration specifically caters to companies using Facebook for ad campaigns and optimizing them based on customer behavior. It supports Facebook's standard events for optimization purposes. Consequently, modifying the event name is not available for the Facebook Ads integration. Adapty effectively maps your customer events to their corresponding Facebook events for accurate analysis."}),"\n",(0,a.jsxs)(t.table,{children:[(0,a.jsx)(t.thead,{children:(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.th,{style:{textAlign:"left"},children:"Adapty event"}),(0,a.jsx)(t.th,{style:{textAlign:"left"},children:"Facebook Ads event"})]})}),(0,a.jsxs)(t.tbody,{children:[(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscription initial purchase"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscribe"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscription renewed"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscribe"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscription cancelled"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"CancelSubscription"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Trial started"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"StartTrial"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Trial converted"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Subscribe"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Trial cancelled"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"CancelTrial"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Non subscription purchase"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"fb_mobile_purchase"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Billing issue detected"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"billing_issue_detected"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Entered grace period"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"entered_grace_period"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Auto renew off"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"auto_renew_off"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Auto renew on"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"auto_renew_on"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Auto renew off subscription"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"auto_renew_off_subscription"})]}),(0,a.jsxs)(t.tr,{children:[(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"Auto renew on subscription"}),(0,a.jsx)(t.td,{style:{textAlign:"left"},children:"auto_renew_on_subscription"})]})]})]}),"\n",(0,a.jsx)(t.p,{children:"StartTrial, Subscribe, CancelSubscription are standard events."}),"\n",(0,a.jsx)(r.A,{children:(0,a.jsx)("img",{src:n(1014).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,a.jsx)(t.p,{children:"To enable specific events, simply toggle on the ones you require. In case multiple event names are selected, Adapty will consolidate the data from all the chosen events into a single Adapty event name."}),"\n",(0,a.jsx)(t.h2,{id:"sdk-configuration",children:"SDK configuration"}),"\n",(0,a.jsx)(t.admonition,{type:"warning",children:(0,a.jsxs)(t.p,{children:["Because of iOS IDFA changes in iOS 14.5, if you use Facebook integration, make sure you send ",(0,a.jsx)(t.code,{children:"facebookAnonymousId"})," to Adapty via ",(0,a.jsx)(t.code,{children:".setIntegrationIdentifier()"})," method. It allows Facebook to handle events if IDFA is not available."]})}),"\n",(0,a.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,a.jsx)(o.A,{value:"swift",label:"iOS (Swift)",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'import FacebookCore\n\ndo {\n    try await Adapty.setIntegrationIdentifier(\n        key: "facebook_anonymous_id", \n        value: AppEvents.shared.anonymousID\n    )\n} catch {\n    // handle the error\n}\n'})})}),(0,a.jsx)(o.A,{value:"kotlin",label:"Android (Kotlin)",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'Adapty.setIntegrationIdentifier(\n    "facebook_anonymous_id",\n    AppEventsLogger.getAnonymousAppDeviceGUID(context)\n) { error ->\n    if (error != null) {\n        // handle the error\n    }\n}\n'})})}),(0,a.jsx)(o.A,{value:"flutter",label:"Flutter (Dart)",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:"There is no official SDK for Flutter\n"})})}),(0,a.jsx)(o.A,{value:"unity",label:"Unity (C#)",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-csharp",children:"anonymousID is not available in the official SDK\nhttps://github.com/facebook/facebook-sdk-for-unity/issues/676\n"})})}),(0,a.jsx)(o.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"import { adapty } from 'react-native-adapty';\nimport { AppEventsLogger } from 'react-native-fbsdk-next';\n\ntry {\n  const anonymousId = await AppEventsLogger.getAnonymousID();\n\n  await adapty.setIntegrationIdentifier(\"facebook_anonymous_id\", anonymousId);\n} catch (error) {\n  // handle `AdaptyError`\n}\n"})})})]})]})}function f(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(p,{...e})}):p(e)}},45498:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/4b326c4-001563-August-23-4tO3JVso-bfb8045555893f85632ddb43fc8b5039.webp"},55095:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/c4eb8eb-001565-August-23-483KKBbC-00f509f5d8227c48a972aaa6d9e94046.webp"}}]);