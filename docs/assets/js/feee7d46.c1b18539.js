"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[2881],{11470:(e,t,l)=>{l.d(t,{A:()=>A});var n=l(96540),r=l(34164),a=l(23104),s=l(56347),i=l(205),d=l(57485),o=l(31682),c=l(70679);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:l}=e;return(0,n.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:l,attributes:n,default:r}}=e;return{value:t,label:l,attributes:n,default:r}}))}(l);return function(e){const t=(0,o.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,l])}function p(e){let{value:t,tabValues:l}=e;return l.some((e=>e.value===t))}function y(e){let{queryString:t=!1,groupId:l}=e;const r=(0,s.W6)(),a=function(e){let{queryString:t=!1,groupId:l}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return l??null}({queryString:t,groupId:l});return[(0,d.aZ)(a),(0,n.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(r.location.search);t.set(a,e),r.replace({...r.location,search:t.toString()})}),[a,r])]}function x(e){const{defaultValue:t,queryString:l=!1,groupId:r}=e,a=u(e),[s,d]=(0,n.useState)((()=>function(e){let{defaultValue:t,tabValues:l}=e;if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:l}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${l.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const n=l.find((e=>e.default))??l[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a}))),[o,h]=y({queryString:l,groupId:r}),[x,f]=function(e){let{groupId:t}=e;const l=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,a]=(0,c.Dv)(l);return[r,(0,n.useCallback)((e=>{l&&a.set(e)}),[l,a])]}({groupId:r}),j=(()=>{const e=o??x;return p({value:e,tabValues:a})?e:null})();(0,i.A)((()=>{j&&d(j)}),[j]);return{selectedValue:s,selectValue:(0,n.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);d(e),h(e),f(e)}),[h,f,a]),tabValues:a}}var f=l(92303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=l(74848);function w(e){let{className:t,block:l,selectedValue:n,selectValue:s,tabValues:i}=e;const d=[],{blockElementScrollPositionUntilNextRender:o}=(0,a.a_)(),c=e=>{const t=e.currentTarget,l=d.indexOf(t),r=i[l].value;r!==n&&(o(t),s(r))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const l=d.indexOf(e.currentTarget)+1;t=d[l]??d[0];break}case"ArrowLeft":{const l=d.indexOf(e.currentTarget)-1;t=d[l]??d[d.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":l},t),children:i.map((e=>{let{value:t,label:l,attributes:a}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===t?0:-1,"aria-selected":n===t,ref:e=>d.push(e),onKeyDown:h,onClick:c,...a,className:(0,r.A)("tabs__item",j.tabItem,a?.className,{"tabs__item--active":n===t}),children:l??t},t)}))})}function m(e){let{lazy:t,children:l,selectedValue:r}=e;const a=(Array.isArray(l)?l:[l]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===r));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,n.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function b(e){const t=x(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,g.jsx)(w,{...t,...e}),(0,g.jsx)(m,{...t,...e})]})}function A(e){const t=(0,f.A)();return(0,g.jsx)(b,{...e,children:h(e.children)},String(t))}},19365:(e,t,l)=>{l.d(t,{A:()=>s});l(96540);var n=l(34164);const r={tabItem:"tabItem_Ymn6"};var a=l(74848);function s(e){let{children:t,hidden:l,className:s}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,n.A)(r.tabItem,s),hidden:l,children:t})}},20781:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>x,frontMatter:()=>o,metadata:()=>h,toc:()=>p});var n=l(74848),r=l(28453),a=(l(26393),l(11470)),s=l(19365),i=l(45322),d=l(97808);const o={title:"Fetch Paywall Builder paywalls and their configuration",description:"Learn how to retrieve PB paywalls in Adapty for better subscription control.",metadataTitle:"Retrieving PB Paywalls in Adapty | Adapty Docs"},c=void 0,h={id:"get-pb-paywalls",title:"Fetch Paywall Builder paywalls and their configuration",description:"Learn how to retrieve PB paywalls in Adapty for better subscription control.",source:"@site/versioned_docs/version-3.0/get-pb-paywalls.md",sourceDirName:".",slug:"/get-pb-paywalls",permalink:"/docs/get-pb-paywalls",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Fetch Paywall Builder paywalls and their configuration",description:"Learn how to retrieve PB paywalls in Adapty for better subscription control.",metadataTitle:"Retrieving PB Paywalls in Adapty | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Display paywalls designed with new Paywall Builder",permalink:"/docs/display-pb-paywalls"},next:{title:"Present Paywall Builder paywalls",permalink:"/docs/present-pb-paywalls"}},u={},p=[...d.RM,{value:"Fetch paywall designed with Paywall Builder",id:"fetch-paywall-designed-with-paywall-builder",level:2},{value:"Fetch the view configuration of paywall designed using Paywall Builder",id:"fetch-the-view-configuration-of-paywall-designed-using-paywall-builder",level:2},{value:"Set up developer-defined timers",id:"set-up-developer-defined-timers",level:2},{value:"Speed up paywall fetching with default audience paywall",id:"speed-up-paywall-fetching-with-default-audience-paywall",level:2}];function y(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["After ",(0,n.jsx)(t.a,{href:"adapty-paywall-builder",children:"you designed the visual part for your paywall"})," with the new Paywall Builder in the Adapty Dashboard, you can display it in your mobile app. The first step in this process is to get the paywall associated with the placement and its view configuration as described below."]}),"\n",(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The new Paywall Builder works with iOS, Android, and React Native SDKs version 3.0 or higher, and Flutter and Unity SDKs version 3.3.0 or higher. For presenting paywalls in Adapty SDK v2 designed with the legacy Paywall Builder, see ",(0,n.jsx)(t.a,{href:"present-pb-paywalls",children:"Display paywalls designed with legacy Paywall Builder"}),"."]})}),"\n",(0,n.jsxs)(t.p,{children:["Please be aware that this topic refers to Paywall Builder-customized paywalls. For guidance on fetching remote config paywalls, please refer to the ",(0,n.jsx)(t.a,{href:"fetch-paywalls-and-products",children:"Fetch paywalls and products for remote config paywalls in your mobile app"})," topic."]}),"\n",(0,n.jsx)(d.Ay,{}),"\n",(0,n.jsxs)(i.A,{children:[(0,n.jsx)("summary",{children:"Before you start displaying paywalls in your mobile app (click to expand)"}),(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"create-product",children:"Create your products"})," in the Adapty Dashboard."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"create-paywall",children:"Create a paywall and incorporate the products into it"})," in the Adapty Dashboard."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"create-placement",children:"Create placements and incorporate your paywall into it"})," in the Adapty Dashboard."]}),"\n",(0,n.jsxs)(t.li,{children:["Install ",(0,n.jsx)(t.a,{href:"installation-of-adapty-sdks",children:"Adapty SDK"})," in your mobile app."]}),"\n"]})]}),"\n",(0,n.jsx)(t.h2,{id:"fetch-paywall-designed-with-paywall-builder",children:"Fetch paywall designed with Paywall Builder"}),"\n",(0,n.jsxs)(t.p,{children:["If you've ",(0,n.jsx)(t.a,{href:"adapty-paywall-builder",children:"designed a paywall using the Paywall Builder"}),", you don't need to worry about rendering it in your mobile app code to display it to the user. Such a paywall contains both what should be shown within the paywall and how it should be shown. Nevertheless, you need to get its ID via the placement, its view configuration, and then present it in your mobile app."]}),"\n",(0,n.jsxs)(t.p,{children:["To ensure optimal performance, it's crucial to retrieve the paywall and its ",(0,n.jsx)(t.a,{href:"get-pb-paywalls#fetch-the-view-configuration-of-paywall-designed-using-paywall-builder",children:"view configuration"})," as early as possible, allowing sufficient time for images to download before presenting them to the user."]}),"\n",(0,n.jsxs)(t.p,{children:["To get a paywall, use the ",(0,n.jsx)(t.code,{children:"getPaywall"})," method:"]}),"\n",(0,n.jsxs)(a.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsx)(s.A,{value:"swift",label:"Swift",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'do {\n    let paywall = try await Adapty.getPaywall("YOUR_PLACEMENT_ID")\n    // the requested paywall\n} catch {\n    // handle the error\n}\n'})})}),(0,n.jsx)(s.A,{value:"swift-callback",label:"Swift-Callback",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'Adapty.getPaywall(placementId: "YOUR_PLACEMENT_ID", locale: "en") { result in\n    switch result {\n        case let .success(paywall):\n            // the requested paywall\n        case let .failure(error):\n            // handle the error\n    }\n}\n'})})}),(0,n.jsx)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'import com.adapty.utils.seconds\n\n...\n\nAdapty.getPaywall("YOUR_PLACEMENT_ID", locale = "en", loadTimeout = 10.seconds) { result ->\n    when (result) {\n        is AdaptyResult.Success -> {\n            val paywall = result.value\n            // the requested paywall\n        }\n        is AdaptyResult.Error -> {\n            val error = result.error\n            // handle the error\n        }\n    }\n}\n'})})}),(0,n.jsx)(s.A,{value:"java",label:"Java",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:'import com.adapty.utils.TimeInterval;\n\n...\n\nAdapty.getPaywall("YOUR_PLACEMENT_ID", "en", TimeInterval.seconds(10), result -> {\n    if (result instanceof AdaptyResult.Success) {\n        AdaptyPaywall paywall = ((AdaptyResult.Success<AdaptyPaywall>) result).getValue();\n        // the requested paywall\n      \n    } else if (result instanceof AdaptyResult.Error) {\n        AdaptyError error = ((AdaptyResult.Error) result).getError();\n        // handle the error\n      \n    }\n});\n'})})}),(0,n.jsx)(s.A,{value:"flutter",label:"Flutter",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:'try {\n  final paywall = await Adapty().getPaywall(placementId: "YOUR_PLACEMENT_ID", locale: "en");\n  // the requested paywall\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n}\n'})})}),(0,n.jsx)(s.A,{value:"unity",label:"Unity",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:'Adapty.GetPaywall("YOUR_PLACEMENT_ID", "en", (paywall, error) => {\n  if(error != null) {\n    // handle the error\n    return;\n  }\n  \n  // paywall - the resulting object\n});\n'})})}),(0,n.jsx)(s.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"try {\n    const placementId = 'YOUR_PLACEMENT_ID';\n    const locale = 'en';\n\n    const paywall = await adapty.getPaywall(placementId, locale);\n  // the requested paywall\n} catch (error) {\n    // handle the error\n}\n"})})})]}),"\n",(0,n.jsx)(t.p,{children:"Parameters:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Presence"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"placementId"})}),(0,n.jsx)(t.td,{children:"required"}),(0,n.jsxs)(t.td,{children:["The identifier of the desired ",(0,n.jsx)(t.a,{href:"placements",children:"Placement"}),". This is the value you specified when creating a placement in the Adapty Dashboard."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"locale"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"optional"}),(0,n.jsxs)("p",{children:["default: ",(0,n.jsx)(t.code,{children:"en"})]})]}),(0,n.jsxs)(t.td,{children:[(0,n.jsxs)("p",{children:["The identifier of the ",(0,n.jsx)(t.a,{href:"add-paywall-locale-in-adapty-paywall-builder",children:"paywall localization"}),". This parameter is expected to be a language code composed of one or two subtags separated by the minus (",(0,n.jsx)(t.strong,{children:"-"}),") character. The first subtag is for the language, the second one is for the region."]}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["Example: ",(0,n.jsx)(t.code,{children:"en"})," means English, ",(0,n.jsx)(t.code,{children:"pt-br"})," represents the Brazilian Portuguese language."]}),(0,n.jsxs)("p",{children:["See ",(0,n.jsx)(t.a,{href:"localizations-and-locale-codes",children:"Localizations and locale codes"})," for more information on locale codes and how we recommend using them."]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"fetchPolicy"})}),(0,n.jsxs)(t.td,{children:["default: ",(0,n.jsx)(t.code,{children:".reloadRevalidatingCacheData"})]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"By default, SDK will try to load data from the server and will return cached data in case of failure. We recommend this variant because it ensures your users always get the most up-to-date data."}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["However, if you believe your users deal with unstable internet, consider using ",(0,n.jsx)(t.code,{children:".returnCacheDataElseLoad"})," to return cached data if it exists. In this scenario, users might not get the absolute latest data, but they'll experience faster loading times, no matter how patchy their internet connection is. The cache is updated regularly, so it's safe to use it during the session to avoid network requests."]}),(0,n.jsx)("p",{}),(0,n.jsx)("p",{children:"Note that the cache remains intact upon restarting the app and is only cleared when the app is reinstalled or through manual cleanup."}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["Adapty SDK stores paywalls locally in two layers: regularly updated cache described above and ",(0,n.jsx)(t.a,{href:"fallback-paywalls",children:"fallback paywalls"}),". We also use CDN to fetch paywalls faster and a stand-alone fallback server in case the CDN is unreachable. This system is designed to make sure you always get the latest version of your paywalls while ensuring reliability even in cases where internet connection is scarce."]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{children:"default: 5 sec"}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned."}),(0,n.jsxs)("p",{children:["Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]}),(0,n.jsxs)("p",{children:["For Android: You can create ",(0,n.jsx)(t.code,{children:"TimeInterval"})," with extension functions (like ",(0,n.jsx)(t.code,{children:"5.seconds"}),", where ",(0,n.jsx)(t.code,{children:".seconds"})," is from ",(0,n.jsx)(t.code,{children:"import com.adapty.utils.seconds"}),"), or ",(0,n.jsx)(t.code,{children:"TimeInterval.seconds(5)"}),". To set no limitation, use ",(0,n.jsx)(t.code,{children:"TimeInterval.INFINITE"}),"."]})]})]})]})]}),"\n",(0,n.jsxs)(t.p,{children:["Don't hardcode product IDs! Since paywalls are configured remotely, the available products, the number of products, and special offers (such as free trials) can change over time. Make sure your code handles these scenarios.",(0,n.jsx)(t.br,{}),"\n","For example, if you initially retrieve 2 products, your app should display those 2 products. However, if you later retrieve 3 products, your app should display all 3 without requiring any code changes. The only thing you should hardcode is the placement ID."]}),"\n",(0,n.jsx)(t.p,{children:"Response parameters:"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsx)(t.tbody,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"Paywall"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.a,{href:"sdk-models#adaptypaywall",children:(0,n.jsx)(t.code,{children:"AdaptyPaywall"})}),"  object with a list of product IDs, the paywall identifier, remote config, and several other properties."]})]})})]}),"\n",(0,n.jsx)(t.h2,{id:"fetch-the-view-configuration-of-paywall-designed-using-paywall-builder",children:"Fetch the view configuration of paywall designed using Paywall Builder"}),"\n",(0,n.jsxs)(t.p,{children:["After fetching the paywall, check if it includes a ",(0,n.jsx)(t.code,{children:"ViewConfiguration"}),", which indicates that it was created using Paywall Builder. This will guide you on how to display the paywall. If the ",(0,n.jsx)(t.code,{children:"ViewConfiguration"})," is present, treat it as a Paywall Builder paywall; if not,  ",(0,n.jsx)(t.a,{href:"present-remote-config-paywalls",children:"handle it as a remote config paywall"}),"."]}),"\n",(0,n.jsxs)(a.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"swift",label:"Swift",default:!0,children:[(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"getPaywallConfiguration"})," method to load the view configuration."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:"import Adapty\nimport AdaptyUI\n\nguard paywall.hasViewConfiguration else {\n    //  use your custom logic\n    return\n}\n\ndo {\n    let paywallConfiguration = try await AdaptyUI.getPaywallConfiguration(\n            forPaywall: paywall,\n            products: products,\n            observerModeResolver: <AdaptyObserverModeResolver>, // only for Observer Mode\n            tagResolver: <AdaptyTagResolver>,\n            timerResolver: <AdaptyTimerResolver>\n    )\n    // use loaded configuration\n} catch {\n    // handle the error\n}\n"})}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"default: 5 sec"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned.Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"products"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,n.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,n.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"observerModeResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["The ",(0,n.jsx)(t.code,{children:"AdaptyObserverModeResolver"})," object you've implemented in the previous step"]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"tagResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,n.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in paywall builder"})," topic for more details."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"timerResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["To use custom timers in your mobile app, create an object that follows the ",(0,n.jsx)(t.code,{children:"AdaptyTimerResolver"})," protocol. This object defines how each custom timer should be rendered. If you prefer, you can use a ",(0,n.jsx)(t.code,{children:"[String: Date]"})," dictionary directly, as it already conforms to this protocol."]})]})]})]}),(0,n.jsx)(t.h2,{id:"set-up-developer-defined-timers",children:"Set up developer-defined timers"}),(0,n.jsxs)(t.p,{children:["To use custom timers in your mobile app, create an object that follows the ",(0,n.jsx)(t.code,{children:"AdaptyTimerResolver"})," protocol. This object defines how each custom timer should be rendered. If you prefer, you can use a ",(0,n.jsx)(t.code,{children:"[String: Date]"})," dictionary directly, as it already conforms to this protocol. Here is an example:"]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-Swift",metastring:"showLineNumbers",children:'@MainActor\nstruct AdaptyTimerResolverImpl: AdaptyTimerResolver {\n    func timerEndAtDate(for timerId: String) -> Date {\n        switch timerId {\n        case "CUSTOM_TIMER_6H":\n            Date(timeIntervalSinceNow: 3600.0 * 6.0) // 6 hours\n        case "CUSTOM_TIMER_NY":\n            Calendar.current.date(from: DateComponents(year: 2025, month: 1, day: 1)) ?? Date(timeIntervalSinceNow: 3600.0)\n        default:\n            Date(timeIntervalSinceNow: 3600.0) // 1 hour\n        }\n    }\n}\n'})}),(0,n.jsxs)(t.p,{children:["In this example, ",(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_NY"})," and ",(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_6H"})," are the ",(0,n.jsx)(t.strong,{children:"Timer ID"}),"s of developer-defined timers you set in the Adapty Dashboard. The ",(0,n.jsx)(t.code,{children:"timerResolver"})," ensures your app dynamically updates each timer with the correct value. For example:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_NY"}),": The time remaining until the timer\u2019s end, such as New Year\u2019s Day."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_6H"}),": The time left in a 6-hour period that started when the user opened the paywall."]}),"\n"]})]}),(0,n.jsxs)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:[(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"getViewConfiguration"})," method to load the view configuration."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:"if (!paywall.hasViewConfiguration) {\n    // use your custom logic\n    return\n}\n\nAdaptyUI.getViewConfiguration(paywall, loadTimeout = 10.seconds) { result ->\n    when(result) {\n        is AdaptyResult.Success -> {\n            val viewConfiguration = result.value\n            // use loaded configuration\n        }\n        is AdaptyResult.Error -> {\n            val error = result.error\n            // handle the error\n        }\n    }\n}\n"})}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"default: 5 sec"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned.Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"java",label:"Java",default:!0,children:[(0,n.jsxs)(t.p,{children:["Use the ",(0,n.jsx)(t.code,{children:"getViewConfiguration"})," method to load the view configuration."]}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:"if (!paywall.hasViewConfiguration()) {\n    // use your custom logic\n    return;\n}\n\nAdaptyUI.getViewConfiguration(paywall, TimeInterval.seconds(10), result -> {\n    if (result instanceof AdaptyResult.Success) {\n        AdaptyUI.LocalizedViewConfiguration viewConfiguration =\n          ((AdaptyResult.Success<AdaptyUI.LocalizedViewConfiguration>) result).getValue();\n        // use loaded configuration\n    } else if (result instanceof AdaptyResult.Error) {\n        AdaptyError error = ((AdaptyResult.Error) result).getError();\n        // handle the error\n    }\n});\n"})}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"default: 5 sec"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned.Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"flutter",label:"Flutter",default:!0,children:[(0,n.jsxs)(t.p,{children:["In Flutter SDK, directly call the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method without manually fetching the view configuration first."]}),(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The result of the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method can only be used once. If you need to use it again, call the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method anew. Calling it twice without recreating may result in the ",(0,n.jsx)(t.code,{children:"AdaptyUIError.viewAlreadyPresented"})," error."]})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"import 'package:adapty_flutter/adapty_flutter.dart';\n\ntry {\n  final view = await AdaptyUI().createPaywallView(\n        paywall: paywall,\n        customTags: {\n          'CUSTOM_TAG_NAME': 'John',\n        },\n        customTimers: {\n          'CUSTOM_TIMER_6H': DateTime.now().add(const Duration(seconds: 3600 * 6)),\n          'CUSTOM_TIMER_NY': DateTime(2025, 1, 1), // New Year 2025\n        },\n        preloadProducts: preloadProducts,\n      );\n} on AdaptyError catch (e) {\n  // handle the error\n} catch (e) {\n  // handle the error\n}\n"})}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"default: 5 sec"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned.Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"products"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,n.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,n.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"androidPersonalizedOffers"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["A map indicating whether the price for a specific product is personalized. The key is a string combining ",(0,n.jsx)(t.code,{children:"basePlanId"})," and ",(0,n.jsx)(t.code,{children:"vendorProductId"}),", separated by a ",(0,n.jsx)(t.code,{children:":"}),". If ",(0,n.jsx)(t.code,{children:"basePlanId"})," is ",(0,n.jsx)(t.code,{children:"null"})," or empty, only ",(0,n.jsx)(t.code,{children:"vendorProductId"})," is used. ",(0,n.jsxs)("p",{children:[(0,n.jsx)(t.strong,{children:"Example"}),": ",(0,n.jsx)(t.code,{children:"basePlanId:vendorProductId"})," or simply ",(0,n.jsx)(t.code,{children:"vendorProductId"}),"."]}),(0,n.jsxs)("p",{children:["For more details, check the [",(0,n.jsx)(t.a,{href:"https://developer.android.com/google/play/billing/integrate#personalized-price",children:"official Android Developers documentation"}),"."]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"tagResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,n.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in paywall builder"})," topic for more details."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"timerResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["To use custom timers in your mobile app, create an object that follows the ",(0,n.jsx)(t.code,{children:"AdaptyTimerResolver"})," protocol. This object defines how each custom timer should be rendered. If you prefer, you can use a ",(0,n.jsx)(t.code,{children:"[String: Date]"})," dictionary directly, as it already conforms to this protocol."]})]})]})]}),(0,n.jsxs)(t.p,{children:["In the example above, ",(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_NY"})," and ",(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_6H"})," are the ",(0,n.jsx)(t.strong,{children:"Timer ID"}),"s of developer-defined timers you set in the Adapty Dashboard. The ",(0,n.jsx)(t.code,{children:"timerResolver"})," ensures your app dynamically updates each timer with the correct value\u2014for example:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_NY"}),": The time remaining until the timer\u2019s end, such as New Year\u2019s Day."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_6H"}),": The time left in a 6-hour period that started when the user opened the paywall."]}),"\n"]})]}),(0,n.jsxs)(s.A,{value:"rn",label:"React Native (TS)",default:!0,children:[(0,n.jsxs)(t.p,{children:["In React Native SDK, directly call the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method without manually fetching the view configuration first."]}),(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The result of the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method can only be used once. If you need to use it again, call the ",(0,n.jsx)(t.code,{children:"createPaywallView"})," method anew. Calling it twice without recreating may result in the ",(0,n.jsx)(t.code,{children:"AdaptyUIError.viewAlreadyPresented"})," error."]})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"import {createPaywallView} from '@adapty/react-native-ui';\n\nif (paywall.hasViewConfiguration) {\n  try {\n    const view = await createPaywallView(paywall);\n  } catch (error) {\n    // handle the error\n  }\n} else {\n    //use your custom logic\n}\n"})}),(0,n.jsx)(t.p,{children:"Parameters:"}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"customTags"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,n.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in paywall builder"})," topic for more details."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"timerInfo"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["To use custom timers in your mobile app, create an object that follows the ",(0,n.jsx)(t.code,{children:"AdaptyTimerResolver"})," protocol. This object defines how each custom timer should be rendered. If you prefer, you can use a ",(0,n.jsx)(t.code,{children:"[String: Date]"})," dictionary directly, as it already conforms to this protocol."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"prefetchProducts"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Enable to optimize the display timing of products on the screen. When ",(0,n.jsx)(t.code,{children:"true"})," AdaptyUI will automatically fetch the necessary products. Default: ",(0,n.jsx)(t.code,{children:"false"}),"."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"unity",label:"Unity",default:!0,children:[(0,n.jsxs)(t.p,{children:["In Unity SDK, directly call the ",(0,n.jsx)(t.code,{children:"CreateView"})," method without manually fetching the view configuration first."]}),(0,n.jsx)(t.admonition,{type:"warning",children:(0,n.jsxs)(t.p,{children:["The result of the ",(0,n.jsx)(t.code,{children:"CreateView"})," method can only be used once. If you need to use it again, call the ",(0,n.jsx)(t.code,{children:"CreateView"})," method anew. Calling it twice without recreating may result in the ",(0,n.jsx)(t.code,{children:"AdaptyUIError.viewAlreadyPresented"})," error."]})}),(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:'var parameters = new AdaptyUICreateViewParameters()\n  .SetPreloadProducts(preloadProducts)\n  .SetCustomTags(\n    new Dictionary<string, string> {\n      { "CUSTOM_TAG_NAME", "John Appleseed" }\n    }\n  )\n  .SetCustomTimers(\n    new Dictionary<string, DateTime> { \n      { "CUSTOM_TIMER_1M", DateTime.Now.AddSeconds(60) }\n    }\n  )\n  .SetLoadTimeout(new TimeSpan(0, 0, 3));\n\nAdaptyUI.CreateView(paywall, parameters, (view, error) => {\n  // handle the result\n});\n'})}),(0,n.jsx)(t.p,{children:"Parameters:"}),(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,n.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"paywall"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,n.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"loadTimeout"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"default: 5 sec"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["This value limits the timeout for this method. If the timeout is reached, cached data or local fallback will be returned.Note that in rare cases this method can timeout slightly later than specified in ",(0,n.jsx)(t.code,{children:"loadTimeout"}),", since the operation may consist of different requests under the hood."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"PreloadProducts"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,n.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,n.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"tagResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,n.jsx)(t.a,{href:"https://dev-docs.adapty.io/docs/custom-tags-in-paywall-builder",children:"Custom tags in paywall builder"})," topic for more details."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{style:{textAlign:"left"},children:(0,n.jsx)(t.strong,{children:"timerResolver"})}),(0,n.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,n.jsxs)(t.td,{style:{textAlign:"left"},children:["To use custom timers in your mobile app, create an object that follows the ",(0,n.jsx)(t.code,{children:"AdaptyTimerResolver"})," protocol. This object defines how each custom timer should be rendered. If you prefer, you can use a ",(0,n.jsx)(t.code,{children:"[String: Date]"})," dictionary directly, as it already conforms to this protocol."]})]})]})]}),(0,n.jsxs)(t.p,{children:["In this example, ",(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_1M"})," is the ",(0,n.jsx)(t.strong,{children:"Timer ID"})," of the developer-defined timer you set in the Adapty Dashboard. The ",(0,n.jsx)(t.code,{children:"CustomTimers"})," ensures your app dynamically updates the timer with the correct value. For example:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.code,{children:"CUSTOM_TIMER_1M"}),": The time left in a 1-month period that started when the user opened the paywall."]}),"\n"]})]})]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["If you are using multiple languages, learn how to add a ",(0,n.jsx)(t.a,{href:"add-paywall-locale-in-adapty-paywall-builder",children:"Paywall Builder localization"})," and how to use locale codes correctly ",(0,n.jsx)(t.a,{href:"localizations-and-locale-codes",children:"here"}),"."]})}),"\n",(0,n.jsx)(t.p,{children:"Once you have successfully loaded the paywall and its view configuration, you can present it in your mobile app."}),"\n",(0,n.jsx)(t.h2,{id:"speed-up-paywall-fetching-with-default-audience-paywall",children:"Speed up paywall fetching with default audience paywall"}),"\n",(0,n.jsx)(t.p,{children:"Typically, paywalls are fetched almost instantly, so you don\u2019t need to worry about speeding up this process. However, in cases where you have numerous audiences and paywalls, and your users have a weak internet connection, fetching a paywall may take longer than you'd like. In such situations, you might want to display a default paywall to ensure a smooth user experience rather than showing no paywall at all."}),"\n",(0,n.jsxs)(t.p,{children:["To address this, you can use the ",(0,n.jsx)(t.code,{children:"getPaywallForDefaultAudience"}),"  method, which fetches the paywall of the specified placement for the ",(0,n.jsx)(t.strong,{children:"All Users"})," audience. However, it's crucial to understand that the recommended approach is to fetch the paywall by the ",(0,n.jsx)(t.code,{children:"getPaywall"})," method, as detailed in the ",(0,n.jsx)(t.a,{href:"get-pb-paywalls#fetch-paywall-designed-with-paywall-builder",children:"Fetch Paywall Information"})," section above."]}),"\n",(0,n.jsxs)(t.admonition,{type:"warning",children:[(0,n.jsxs)(t.p,{children:["Why we recommend using ",(0,n.jsx)(t.code,{children:"getPaywall"})]}),(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"getPaywallForDefaultAudience"})," method comes with a few significant drawbacks:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Potential backward compatibility issues"}),": If you need to show different paywalls for different app versions (current and future), you may face challenges. You\u2019ll either have to design paywalls that support the current (legacy) version or accept that users with the current (legacy) version might encounter issues with non-rendered paywalls."]}),"\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.strong,{children:"Loss of targeting"}),": All users will see the same paywall designed for the ",(0,n.jsx)(t.strong,{children:"All Users"})," audience, which means you lose personalized targeting (including based on countries, marketing attribution or your own custom attributes)."]}),"\n"]}),(0,n.jsxs)(t.p,{children:["If you're willing to accept these drawbacks to benefit from faster paywall fetching, use the ",(0,n.jsx)(t.code,{children:"getPaywallForDefaultAudience"})," method as follows. Otherwise stick to ",(0,n.jsx)(t.code,{children:"getPaywall"})," described ",(0,n.jsx)(t.a,{href:"get-pb-paywalls#fetch-paywall-designed-with-paywall-builder",children:"above"}),"."]})]}),"\n",(0,n.jsxs)(a.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsx)(s.A,{value:"swift",label:"Swift",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'Adapty.getPaywallForDefaultAudience(placementId: "YOUR_PLACEMENT_ID", locale: "en") { result in\n    switch result {\n        case let .success(paywall):\n            // the requested paywall\n        case let .failure(error):\n            // handle the error\n    }\n}\n'})})}),(0,n.jsx)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'Adapty.getPaywallForDefaultAudience("YOUR_PLACEMENT_ID", locale = "en") { result ->\n    when (result) {\n        is AdaptyResult.Success -> {\n            val paywall = result.value\n            // the requested paywall\n        }\n        is AdaptyResult.Error -> {\n            val error = result.error\n            // handle the error\n        }\n    }\n}\n'})})}),(0,n.jsx)(s.A,{value:"java",label:"Java",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:'Adapty.getPaywallForDefaultAudience("YOUR_PLACEMENT_ID", "en", result -> {\n    if (result instanceof AdaptyResult.Success) {\n        AdaptyPaywall paywall = ((AdaptyResult.Success<AdaptyPaywall>) result).getValue();\n        // the requested paywall\n      \n    } else if (result instanceof AdaptyResult.Error) {\n        AdaptyError error = ((AdaptyResult.Error) result).getError();\n        // handle the error\n      \n    }\n});\n'})})}),(0,n.jsx)(s.A,{value:"flutter",label:"Flutter",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"try {\n    final paywall = await Adapty().getPaywallForDefaultAudience(placementId: 'YOUR_PLACEMENT_ID');\n} on AdaptyError catch (adaptyError) {\n    // handle error\n} catch (e) {\n    // handle unknown error\n}\n"})})}),(0,n.jsx)(s.A,{value:"unity",label:"Unity",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:'using AdaptySDK;\n\nAdapty.GetPaywallForDefaultAudience(\n  "YOUR_PLACEMENT_ID", \n  (paywall, error) => {\n  \n  if (error != null) {\n    // handle the error\n  }\n  \n  // use the requested paywall\n});\n'})})}),(0,n.jsx)(s.A,{value:"rn",label:"React Native",default:!0,children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"try {\n    const id = 'YOUR_PLACEMENT_ID';\n    const locale = 'en';\n\n    const paywall = await adapty.getPaywallForDefaultAudience(id, locale);\n  // the requested paywall\n} catch (error) {\n    // handle the error\n}\n"})})})]}),"\n",(0,n.jsxs)(t.admonition,{type:"note",children:[(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"getPaywallForDefaultAudience"})," method is available starting from these versions:"]}),(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"iOS: 2.11.2"}),"\n",(0,n.jsx)(t.li,{children:"Android: 2.11.3"}),"\n",(0,n.jsx)(t.li,{children:"React Native: 2.11.2"}),"\n",(0,n.jsx)(t.li,{children:"Flutter: 3.2.0"}),"\n"]}),(0,n.jsx)(t.p,{children:"The method is not yet supported in Unity, but support will be added soon."})]}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Parameter"}),(0,n.jsx)(t.th,{children:"Presence"}),(0,n.jsx)(t.th,{children:"Description"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"placementId"})}),(0,n.jsx)(t.td,{children:"required"}),(0,n.jsxs)(t.td,{children:["The identifier of the ",(0,n.jsx)(t.a,{href:"placements",children:"Placement"}),". This is the value you specified when creating a placement in your Adapty Dashboard."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"locale"})}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"optional"}),(0,n.jsxs)("p",{children:["default: ",(0,n.jsx)(t.code,{children:"en"})]})]}),(0,n.jsxs)(t.td,{children:[(0,n.jsxs)("p",{children:["The identifier of the ",(0,n.jsx)(t.a,{href:"add-remote-config-locale",children:"paywall localization"}),". This parameter is expected to be a language code composed of one or more subtags separated by the minus (",(0,n.jsx)(t.strong,{children:"-"}),") character. The first subtag is for the language, the second one is for the region."]}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["Example: ",(0,n.jsx)(t.code,{children:"en"})," means English, ",(0,n.jsx)(t.code,{children:"pt-br"})," represents the Brazilian Portuguese language."]}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["See ",(0,n.jsx)(t.a,{href:"localizations-and-locale-codes",children:"Localizations and locale codes"})," for more information on locale codes and how we recommend using them."]})]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:(0,n.jsx)(t.strong,{children:"fetchPolicy"})}),(0,n.jsxs)(t.td,{children:["default: ",(0,n.jsx)(t.code,{children:".reloadRevalidatingCacheData"})]}),(0,n.jsxs)(t.td,{children:[(0,n.jsx)("p",{children:"By default, SDK will try to load data from the server and will return cached data in case of failure. We recommend this variant because it ensures your users always get the most up-to-date data."}),(0,n.jsx)("p",{}),(0,n.jsxs)("p",{children:["However, if you believe your users deal with unstable internet, consider using ",(0,n.jsx)(t.code,{children:".returnCacheDataElseLoad"})," to return cached data if it exists. In this scenario, users might not get the absolute latest data, but they'll experience faster loading times, no matter how patchy their internet connection is. The cache is updated regularly, so it's safe to use it during the session to avoid network requests."]}),(0,n.jsx)("p",{}),(0,n.jsx)("p",{children:"Note that the cache remains intact upon restarting the app and is only cleared when the app is reinstalled or through manual cleanup."})]})]})]})]})]})}function x(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(y,{...e})}):y(e)}},45322:(e,t,l)=>{l.d(t,{A:()=>r});l(96540);var n=l(74848);const r=e=>{let{children:t,...l}=e;return(0,n.jsx)("details",{...l,children:t})}},97808:(e,t,l)=>{l.d(t,{Ay:()=>i,RM:()=>a});var n=l(74848),r=l(28453);const a=[];function s(e){const t={a:"a",admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,n.jsx)(t.admonition,{type:"tip",children:(0,n.jsxs)(t.p,{children:["Want to see a real-world example of how Adapty SDK is integrated into a mobile app? Check out our ",(0,n.jsx)(t.a,{href:"sample-apps",children:"sample apps"}),", which demonstrate the full setup, including displaying paywalls, making purchases, and other basic functionality."]})})}function i(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}}}]);