"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[8453],{11470:(e,t,l)=>{l.d(t,{A:()=>A});var s=l(96540),r=l(34164),n=l(23104),i=l(56347),a=l(205),d=l(57485),o=l(31682),c=l(70679);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:l}=e;return(0,s.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:l,attributes:s,default:r}}=e;return{value:t,label:l,attributes:s,default:r}}))}(l);return function(e){const t=(0,o.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,l])}function p(e){let{value:t,tabValues:l}=e;return l.some((e=>e.value===t))}function x(e){let{queryString:t=!1,groupId:l}=e;const r=(0,i.W6)(),n=function(e){let{queryString:t=!1,groupId:l}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!l)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return l??null}({queryString:t,groupId:l});return[(0,d.aZ)(n),(0,s.useCallback)((e=>{if(!n)return;const t=new URLSearchParams(r.location.search);t.set(n,e),r.replace({...r.location,search:t.toString()})}),[n,r])]}function y(e){const{defaultValue:t,queryString:l=!1,groupId:r}=e,n=u(e),[i,d]=(0,s.useState)((()=>function(e){let{defaultValue:t,tabValues:l}=e;if(0===l.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:l}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${l.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const s=l.find((e=>e.default))??l[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:t,tabValues:n}))),[o,h]=x({queryString:l,groupId:r}),[y,f]=function(e){let{groupId:t}=e;const l=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,n]=(0,c.Dv)(l);return[r,(0,s.useCallback)((e=>{l&&n.set(e)}),[l,n])]}({groupId:r}),j=(()=>{const e=o??y;return p({value:e,tabValues:n})?e:null})();(0,a.A)((()=>{j&&d(j)}),[j]);return{selectedValue:i,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:n}))throw new Error(`Can't select invalid tab value=${e}`);d(e),h(e),f(e)}),[h,f,n]),tabValues:n}}var f=l(92303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=l(74848);function w(e){let{className:t,block:l,selectedValue:s,selectValue:i,tabValues:a}=e;const d=[],{blockElementScrollPositionUntilNextRender:o}=(0,n.a_)(),c=e=>{const t=e.currentTarget,l=d.indexOf(t),r=a[l].value;r!==s&&(o(t),i(r))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const l=d.indexOf(e.currentTarget)+1;t=d[l]??d[0];break}case"ArrowLeft":{const l=d.indexOf(e.currentTarget)-1;t=d[l]??d[d.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":l},t),children:a.map((e=>{let{value:t,label:l,attributes:n}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,ref:e=>d.push(e),onKeyDown:h,onClick:c,...n,className:(0,r.A)("tabs__item",j.tabItem,n?.className,{"tabs__item--active":s===t}),children:l??t},t)}))})}function b(e){let{lazy:t,children:l,selectedValue:r}=e;const n=(Array.isArray(l)?l:[l]).filter(Boolean);if(t){const e=n.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:n.map(((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==r})))})}function m(e){const t=y(e);return(0,g.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,g.jsx)(w,{...t,...e}),(0,g.jsx)(b,{...t,...e})]})}function A(e){const t=(0,f.A)();return(0,g.jsx)(m,{...e,children:h(e.children)},String(t))}},19365:(e,t,l)=>{l.d(t,{A:()=>i});l(96540);var s=l(34164);const r={tabItem:"tabItem_Ymn6"};var n=l(74848);function i(e){let{children:t,hidden:l,className:i}=e;return(0,n.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,i),hidden:l,children:t})}},40607:(e,t,l)=>{l.r(t),l.d(t,{assets:()=>h,contentTitle:()=>o,default:()=>x,frontMatter:()=>d,metadata:()=>c,toc:()=>u});var s=l(74848),r=l(28453),n=(l(26393),l(45322)),i=l(11470),a=l(19365);const d={title:"iOS - Present Paywall Builder paywalls in Observer mode",description:"Learn how to present PB paywalls in observer mode for better insights.",metadataTitle:"Presenting PB Paywalls in Observer Mode | Adapty Docs"},o=void 0,c={id:"ios-present-paywall-builder-paywalls-in-observer-mode",title:"iOS - Present Paywall Builder paywalls in Observer mode",description:"Learn how to present PB paywalls in observer mode for better insights.",source:"@site/versioned_docs/version-3.0/ios-present-paywall-builder-paywalls-in-observer-mode.md",sourceDirName:".",slug:"/ios-present-paywall-builder-paywalls-in-observer-mode",permalink:"/test_assignment_adapty/docs/ios-present-paywall-builder-paywalls-in-observer-mode",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"iOS - Present Paywall Builder paywalls in Observer mode",description:"Learn how to present PB paywalls in observer mode for better insights.",metadataTitle:"Presenting PB Paywalls in Observer Mode | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Implement Observer mode",permalink:"/test_assignment_adapty/docs/implement-observer-mode"},next:{title:"Android - Present Paywall Builder paywalls in Observer mode",permalink:"/test_assignment_adapty/docs/android-present-paywall-builder-paywalls-in-observer-mode"}},h={},u=[];function p(e){const t={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"If you've customized a paywall using the Paywall Builder, you don't need to worry about rendering it in your mobile app code to display it to the user. Such a paywall contains both what should be shown within the paywall and how it should be shown."}),"\n",(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["This section refers to ",(0,s.jsx)(t.a,{href:"observer-vs-full-mode",children:"Observer mode"})," only. If you do not work in the Observer mode, refer to the ",(0,s.jsx)(t.a,{href:"ios-present-paywalls",children:"iOS - Present Paywall Builder paywalls"}),"."]})}),"\n",(0,s.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,s.jsxs)(a.A,{value:"sdk3",label:"New Paywall Builder (SDK 3.0+)",default:!0,children:[(0,s.jsxs)(n.A,{children:[(0,s.jsx)("summary",{children:"Before you start presenting paywalls (Click to Expand)"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Set up initial integration of Adapty ",(0,s.jsx)(t.a,{href:"initial-android",children:"with the Google Play"})," and ",(0,s.jsx)(t.a,{href:"initial_ios",children:"with the App Store"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Install and configure Adapty SDK. Make sure to set the ",(0,s.jsx)(t.code,{children:"observerMode"})," parameter to ",(0,s.jsx)(t.code,{children:"true"}),". Refer to our framework-specific instructions for ",(0,s.jsx)(t.a,{href:"sdk-installation-ios#configure-adapty-sdk",children:"iOS"}),", ",(0,s.jsx)(t.a,{href:"sdk-installation-flutter#configure-adapty-sdk",children:"Flutter"}),", ",(0,s.jsx)(t.a,{href:"sdk-installation-reactnative#configure-adapty-sdks",children:"React Native"}),", and ",(0,s.jsx)(t.a,{href:"sdk-installation-unity#configure-adapty-sdk",children:"Unity"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-product",children:"Create products"})," in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-paywall",children:"Configure paywalls, assign products to them"}),", and customize them using Paywall Builder in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-placement",children:"Create placements and assign your paywalls to them"})," in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," in your mobile app code."]}),"\n"]})]}),(0,s.jsx)("p",{}),(0,s.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,s.jsxs)(a.A,{value:"swift",label:"Swift",default:!0,children:[(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Implement the ",(0,s.jsx)(t.code,{children:"AdaptyObserverModeResolver"})," object:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"func observerMode(didInitiatePurchase product: AdaptyPaywallProduct,\n                  onStartPurchase: @escaping () -> Void,\n                  onFinishPurchase: @escaping () -> Void) {\n       // use the product object to handle the purchase\n       // use the onStartPurchase and onFinishPurchase callbacks to notify AdaptyUI about the process of the purchase\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"observerMode(didInitiatePurchase:onStartPurchase:onFinishPurchase:)"})," event will inform you that the user has initiated a purchase. You can trigger your custom purchase flow in response to this callback."]}),"\n",(0,s.jsx)(t.p,{children:"Also, remember to invoke the following callbacks to notify AdaptyUI about the process of the purchase. This is necessary for proper paywall behavior, such as showing the loader, among other things:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Callback"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"onStartPurchase()"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The callback should be invoked to notify AdaptyUI that the purchase is started."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"onFinishPurchase()"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The callback should be invoked to notify AdaptyUI that the purchase is finished."})]})]})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Create a paywall configuration object:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"do {\n    let paywallConfiguration = try AdaptyUI.getPaywallConfiguration(\n     forPaywall: <paywall object>, \n     observerModeResolver: <AdaptyObserverModeResolver>\n     )\n} catch {\n    // handle the error\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:"Request parameters:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Paywall"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ObserverModeResolver"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The  ",(0,s.jsx)(t.code,{children:"AdaptyObserverModeResolver"})," object you've implemented in the previous step"]})]})]})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Initialize the visual paywall you want to display by using the  ",(0,s.jsx)(t.code,{children:".paywallController(for:products:viewConfiguration:delegate:)"})," method:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"import Adapty\nimport AdaptyUI\n\nlet visualPaywall = AdaptyUI.paywallController(\n    with: <paywall configuration object>,\n    delegate: <AdaptyPaywallControllerDelegate>\n)\n"})}),"\n"]}),"\n"]}),(0,s.jsx)(t.p,{children:"Request parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Paywall Configuration"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyUI.PaywallConfiguration"})," object containing visual details of the paywall. Use the ",(0,s.jsx)(t.code,{children:"AdaptyUI.getPaywallConfiguration(forPaywall:locale:)"})," method.  Refer to ",(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Delegate"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyPaywallControllerDelegate"})," to listen to paywall events. Refer to ",(0,s.jsx)(t.a,{href:"ios-handling-events",children:"Handling paywall events"})," topic for more details."]})]})]})]}),(0,s.jsx)(t.p,{children:"Returns:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Object"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"AdaptyPaywallController"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"An object, representing the requested paywall screen"})]})})]}),(0,s.jsx)(t.p,{children:"After the object has been successfully created, you can display it like so:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"present(visualPaywall, animated: true)\n"})}),(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Don't forget to ",(0,s.jsx)(t.a,{href:"report-transactions-observer-mode",children:"Associate paywalls to purchase transactions"}),". Otherwise, Adapty will not determine the source paywall of the purchase."]})})]}),(0,s.jsxs)(a.A,{value:"swiftui",label:"SwiftUI",default:!0,children:[(0,s.jsxs)(t.p,{children:["In order to display the visual paywall on the device screen, use the ",(0,s.jsx)(t.code,{children:".paywall"})," modifier in SwiftUI:"]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="SwiftUI"',children:'@State var paywallPresented = false\n\nvar body: some View {\n\tText("Hello, AdaptyUI!")\n\t\t\t.paywall(\n          isPresented: $paywallPresented,\n          paywallConfiguration: <paywall configuration object>,\n          didPerformAction: { action in\n              switch action {\n                  case .close:\n                      paywallPresented = false\n                  default:\n                      // Handle other actions\n                      break\n              }\n          },\n          didFinishRestore: { profile in /* check access level and dismiss */  },\n          didFailRestore: { error in /* handle the error */ },\n          didFailRendering: { error in paywallPresented = false }\n      )\n}\n'})}),(0,s.jsx)(t.p,{children:"Request parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Paywall Configuration"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyUI.PaywallConfiguration"})," object containing visual details of the paywall. Use the ",(0,s.jsx)(t.code,{children:"AdaptyUI.getPaywallConfiguration(forPaywall:locale:)"})," method.  Refer to ",(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Products"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,s.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,s.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"TagResolver"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,s.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in Paywall Builder"}),"  topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ObserverModeResolver"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The ",(0,s.jsx)(t.code,{children:"AdaptyObserverModeResolver"})," object you've implemented in the previous step"]})]})]})]}),(0,s.jsx)(t.p,{children:"Closure parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Closure parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFinishRestore"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If Adapty.restorePurchases() succeeds, this callback will be invoked."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFailRestore"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If Adapty.restorePurchases() fails, this callback will be invoked."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFailRendering"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If an error occurs during the interface rendering, this callback will be invoked."})]})]})]}),(0,s.jsxs)(t.p,{children:["Refer to the ",(0,s.jsx)(t.a,{href:"ios-handling-events",children:"iOS - Handling events"})," topic for other closure parameters."]}),(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Don't forget to ",(0,s.jsx)(t.a,{href:"report-transactions-observer-mode",children:"Associate paywalls to purchase transactions"}),". Otherwise, Adapty will not determine the source paywall of the purchase."]})})]})]})]}),(0,s.jsxs)(a.A,{value:"sdk2",label:"Legacy Paywall Builder (SDK up to 2.x)",default:!0,children:[(0,s.jsxs)(n.A,{children:[(0,s.jsx)("summary",{children:"Before you start presenting paywalls (Click to Expand)"}),(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["Set up initial integration of Adapty ",(0,s.jsx)(t.a,{href:"initial-android",children:"with the Google Play"})," and ",(0,s.jsx)(t.a,{href:"initial_ios",children:"with the App Store"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["Install and configure Adapty SDK. Make sure to set the ",(0,s.jsx)(t.code,{children:"observerMode"})," parameter to ",(0,s.jsx)(t.code,{children:"true"}),". Refer to our framework-specific instructions for ",(0,s.jsx)(t.a,{href:"sdk-installation-ios#configure-adapty-sdk",children:"iOS"}),", ",(0,s.jsx)(t.a,{href:"sdk-installation-flutter#configure-adapty-sdk",children:"Flutter"}),", ",(0,s.jsx)(t.a,{href:"sdk-installation-reactnative#configure-adapty-sdks",children:"React Native"}),", and ",(0,s.jsx)(t.a,{href:"sdk-installation-unity#configure-adapty-sdk",children:"Unity"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-product",children:"Create products"})," in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-paywall",children:"Configure paywalls, assign products to them"}),", and customize them using Paywall Builder in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"create-placement",children:"Create placements and assign your paywalls to them"})," in the Adapty Dashboard."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," in your mobile app code."]}),"\n"]})]}),(0,s.jsx)("p",{}),(0,s.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,s.jsxs)(a.A,{value:"swift",label:"Swift",default:!0,children:[(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Implement the ",(0,s.jsx)(t.code,{children:"AdaptyObserverModeDelegate"})," object:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"func paywallController(_ controller: AdaptyPaywallController,\n                       didInitiatePurchase product: AdaptyPaywallProduct,\n                       onStartPurchase: @escaping () -> Void,\n                       onFinishPurchase: @escaping () -> Void) {\n       // use the product object to handle the purchase\n       // use the onStartPurchase and onFinishPurchase callbacks to notify AdaptyUI about the process of the purchase\n}\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"paywallController(_:didInitiatePurchase:onStartPurchase:onFinishPurchase:)"})," event will inform you that the user has initiated a purchase. You can trigger your custom purchase flow in response to this event."]}),"\n",(0,s.jsx)(t.p,{children:"Also, remember to invoke the following callbacks to notify AdaptyUI about the process of the purchase. This is necessary for proper paywall behavior, such as showing the loader, among other things:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Callback"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"onStartPurchase"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The callback should be invoked to notify AdaptyUI that the purchase is started."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"onFinishPurchase"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"The callback should be invoked to notify AdaptyUI that the purchase is finished."})]})]})]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Initialize the visual paywall you want to display by using the  ",(0,s.jsx)(t.code,{children:".paywallController(for:products:viewConfiguration:delegate:observerModeDelegate:)"})," method:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"import Adapty\nimport AdaptyUI\n\nlet visualPaywall = AdaptyUI.paywallController(\n    for: <paywall object>,\n    products: <paywall products array>,\n    viewConfiguration: <LocalizedViewConfiguration>,\n    delegate: <AdaptyPaywallControllerDelegate>\n    observerModeDelegate: <AdaptyObserverModeDelegate>\n)\n"})}),"\n"]}),"\n"]}),(0,s.jsx)(t.p,{children:"Request parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Paywall"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Products"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,s.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,s.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ViewConfiguration"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyUI.LocalizedViewConfiguration"})," object containing visual details of the paywall. Use the ",(0,s.jsx)(t.code,{children:"AdaptyUI.getViewConfiguration(paywall:locale:)"})," method.  Refer to ",(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Delegate"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyPaywallControllerDelegate"})," to listen to paywall events. Refer to ",(0,s.jsx)(t.a,{href:"ios-handling-events",children:"Handling paywall events"})," topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"ObserverModeDelegate"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["The  ",(0,s.jsx)(t.code,{children:"AdaptyObserverModeDelegate"})," object you've implemented in the previous step"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"TagResolver"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,s.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in Paywall Builder"})," topic for more details."]})]})]})]}),(0,s.jsx)(t.p,{children:"Returns:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Object"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"AdaptyPaywallController"}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"An object, representing the requested paywall screen"})]})})]}),(0,s.jsx)(t.p,{children:"After the object has been successfully created, you can display it like so:"}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="Swift"',children:"present(visualPaywall, animated: true)\n"})}),(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Don't forget to ",(0,s.jsx)(t.a,{href:"report-transactions-observer-mode",children:"Associate paywalls to purchase transactions"}),". Otherwise, Adapty will not determine the source paywall of the purchase."]})})]}),(0,s.jsxs)(a.A,{value:"swiftui",label:"SwiftUI",default:!0,children:[(0,s.jsxs)(t.p,{children:["In order to display the visual paywall on the device screen, use the ",(0,s.jsx)(t.code,{children:".paywall"})," modifier in SwiftUI:"]}),(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:'showLineNumbers title="SwiftUI"',children:'@State var paywallPresented = false\n\nvar body: some View {\n\tText("Hello, AdaptyUI!")\n\t\t\t.paywall(\n          isPresented: $paywallPresented,\n          paywall: <paywall object>,\n          configuration: <LocalizedViewConfiguration>,\n          didPerformAction: { action in\n              switch action {\n                  case .close:\n                      paywallPresented = false\n                  default:\n                      // Handle other actions\n                      break\n              }\n          },\n          didFinishRestore: { profile in /* check access level and dismiss */  },\n          didFailRestore: { error in /* handle the error */ },\n          didFailRendering: { error in paywallPresented = false },\n          observerModeDidInitiatePurchase: { product, onStartPurchase, onFinishPurchase in\n              // use the product object to handle the purchase\n              // use the onStartPurchase and onFinishPurchase callbacks to notify AdaptyUI about the process of the purchase\n          }, \n      )\n}\n'})}),(0,s.jsx)(t.p,{children:"Request parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Presence"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Paywall"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyPaywall"})," object to obtain a controller for the desired paywall."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Product"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Provide an array of ",(0,s.jsx)(t.code,{children:"AdaptyPaywallProducts"})," to optimize the display timing of products on the screen. If ",(0,s.jsx)(t.code,{children:"nil"})," is passed, AdaptyUI will automatically fetch the necessary products."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"Configuration"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"required"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["An ",(0,s.jsx)(t.code,{children:"AdaptyUI.LocalizedViewConfiguration"})," object containing visual details of the paywall. Use the ",(0,s.jsx)(t.code,{children:"AdaptyUI.getViewConfiguration(paywall:locale:)"})," method.  Refer to ",(0,s.jsx)(t.a,{href:"get-pb-paywalls",children:"Fetch Paywall Builder paywalls and their configuration"})," topic for more details."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"TagResolver"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"optional"}),(0,s.jsxs)(t.td,{style:{textAlign:"left"},children:["Define a dictionary of custom tags and their resolved values. Custom tags serve as placeholders in the paywall content, dynamically replaced with specific strings for personalized content within the paywall. Refer to ",(0,s.jsx)(t.a,{href:"custom-tags-in-paywall-builder",children:"Custom tags in paywall builder"}),"  topic for more details."]})]})]})]}),(0,s.jsx)(t.p,{children:"Closure parameters:"}),(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Closure parameter"}),(0,s.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFinishRestore"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If Adapty.restorePurchases() succeeds, this callback will be invoked."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFailRestore"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If Adapty.restorePurchases() fails, this callback will be invoked."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"didFailRendering"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"If an error occurs during the interface rendering, this callback will be invoked."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"left"},children:(0,s.jsx)(t.strong,{children:"observerModeDidInitiatePurchase"})}),(0,s.jsx)(t.td,{style:{textAlign:"left"},children:"This callback is invoked when a user initiates a purchase."})]})]})]}),(0,s.jsxs)(t.p,{children:["Refer to the ",(0,s.jsx)(t.a,{href:"ios-handling-events",children:"iOS - Handling events"})," topic for other closure parameters."]}),(0,s.jsx)(t.admonition,{type:"warning",children:(0,s.jsxs)(t.p,{children:["Don't forget to ",(0,s.jsx)(t.a,{href:"report-transactions-observer-mode",children:"Associate paywalls to purchase transactions"}),". Otherwise, Adapty will not determine the source paywall of the purchase."]})})]})]})]})]})]})}function x(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},45322:(e,t,l)=>{l.d(t,{A:()=>r});l(96540);var s=l(74848);const r=e=>{let{children:t,...l}=e;return(0,s.jsx)("details",{...l,children:t})}}}]);