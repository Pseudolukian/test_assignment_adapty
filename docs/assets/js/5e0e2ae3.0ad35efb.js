"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[7843],{11470:(e,r,t)=>{t.d(r,{A:()=>w});var n=t(96540),a=t(34164),i=t(23104),s=t(56347),d=t(205),o=t(57485),c=t(31682),l=t(70679);function h(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:r,children:t}=e;return(0,n.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:t,attributes:n,default:a}}=e;return{value:r,label:t,attributes:n,default:a}}))}(t);return function(e){const r=(0,c.X)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,t])}function u(e){let{value:r,tabValues:t}=e;return t.some((e=>e.value===r))}function j(e){let{queryString:r=!1,groupId:t}=e;const a=(0,s.W6)(),i=function(e){let{queryString:r=!1,groupId:t}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:r,groupId:t});return[(0,o.aZ)(i),(0,n.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(a.location.search);r.set(i,e),a.replace({...a.location,search:r.toString()})}),[i,a])]}function x(e){const{defaultValue:r,queryString:t=!1,groupId:a}=e,i=p(e),[s,o]=(0,n.useState)((()=>function(e){let{defaultValue:r,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!u({value:r,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const n=t.find((e=>e.default))??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:i}))),[c,h]=j({queryString:t,groupId:a}),[x,y]=function(e){let{groupId:r}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(r),[a,i]=(0,l.Dv)(t);return[a,(0,n.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:a}),f=(()=>{const e=c??x;return u({value:e,tabValues:i})?e:null})();(0,d.A)((()=>{f&&o(f)}),[f]);return{selectedValue:s,selectValue:(0,n.useCallback)((e=>{if(!u({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),h(e),y(e)}),[h,y,i]),tabValues:i}}var y=t(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=t(74848);function m(e){let{className:r,block:t,selectedValue:n,selectValue:s,tabValues:d}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),l=e=>{const r=e.currentTarget,t=o.indexOf(r),a=d[t].value;a!==n&&(c(r),s(a))},h=e=>{let r=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;r=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;r=o[t]??o[o.length-1];break}}r?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},r),children:d.map((e=>{let{value:r,label:t,attributes:i}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:n===r?0:-1,"aria-selected":n===r,ref:e=>o.push(e),onKeyDown:h,onClick:l,...i,className:(0,a.A)("tabs__item",f.tabItem,i?.className,{"tabs__item--active":n===r}),children:t??r},r)}))})}function b(e){let{lazy:r,children:t,selectedValue:a}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){const e=i.find((e=>e.props.value===a));return e?(0,n.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:i.map(((e,r)=>(0,n.cloneElement)(e,{key:r,hidden:e.props.value!==a})))})}function v(e){const r=x(e);return(0,g.jsxs)("div",{className:(0,a.A)("tabs-container",f.tabList),children:[(0,g.jsx)(m,{...r,...e}),(0,g.jsx)(b,{...r,...e})]})}function w(e){const r=(0,y.A)();return(0,g.jsx)(v,{...e,children:h(e.children)},String(r))}},19365:(e,r,t)=>{t.d(r,{A:()=>s});t(96540);var n=t(34164);const a={tabItem:"tabItem_Ymn6"};var i=t(74848);function s(e){let{children:r,hidden:t,className:s}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,n.A)(a.tabItem,s),hidden:t,children:r})}},79429:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var n=t(74848),a=t(28453),i=(t(26393),t(11470)),s=t(19365);const d={title:"Report transactions in Observer Mode",description:"Report purchase transactions in Adapty Observer Mode for user insights and revenue tracking.",metadataTitle:"Reporting Transactions in Observer Mode | Adapty Docs"},o=void 0,c={id:"report-transactions-observer-mode",title:"Report transactions in Observer Mode",description:"Report purchase transactions in Adapty Observer Mode for user insights and revenue tracking.",source:"@site/versioned_docs/version-3.0/report-transactions-observer-mode.md",sourceDirName:".",slug:"/report-transactions-observer-mode",permalink:"/docs/report-transactions-observer-mode",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Report transactions in Observer Mode",description:"Report purchase transactions in Adapty Observer Mode for user insights and revenue tracking.",metadataTitle:"Reporting Transactions in Observer Mode | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Android - Present Paywall Builder paywalls in Observer mode",permalink:"/docs/android-present-paywall-builder-paywalls-in-observer-mode"},next:{title:"Kids Mode",permalink:"/docs/kids-mode"}},l={},h=[];function p(e){const r={a:"a",admonition:"admonition",code:"code",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(i.A,{groupId:"sdk-version",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"current",label:"Adapty SDK v3.4+ (current)",default:!0,children:[(0,n.jsxs)(r.p,{children:["In Observer mode, the Adapty SDK can't track purchases made through your existing purchase system on its own. You need to report transactions from your app store. It's crucial to set this up ",(0,n.jsx)(r.strong,{children:"before"})," releasing your app to avoid errors in analytics."]}),(0,n.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"swift",label:"Swift",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to explicitly report each transaction for Adapty to recognize it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",metastring:"showLineNumbers",children:"do {\n    // every time when calling transasction.finish()\n    try await Adapty.reportTransaction(transaction, withVariationId: <YOUR_PAYWALL_VARIATION_ID>)\n} catch {\n    // handle the error\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"transaction"})}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:" For StoreKit 1: SKPaymentTransaction."}),(0,n.jsx)("li",{children:" For StoreKit 2: Transaction."})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"variationId"})}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The unique ID of the paywall variation. Retrieve it from the ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to explicitly report each transaction for Adapty to recognize it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",metastring:"showLineNumbers",children:"val transactionInfo = TransactionInfo.fromPurchase(purchase)\n\nAdapty.reportTransaction(transactionInfo, variationId) { result ->\n    if (result is AdaptyResult.Success) {\n        // success\n    }\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionInfo"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The TransactionInfo from the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"java",label:"Java",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to explicitly report each transaction for Adapty to recognize it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",metastring:"showLineNumbers",children:"TransactionInfo transactionInfo = TransactionInfo.fromPurchase(purchase);\n\nAdapty.reportTransaction(transactionInfo, variationId, result -> {\n    if (result instanceof AdaptyResult.Success) {\n        // success\n    }\n});\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionInfo"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The TransactionInfo from the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property  of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"}),"  object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"flutter",label:"Flutter",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to explicitly report each transaction for Adapty to recognize it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",metastring:"showLineNumbers",children:'try {\n    // every time when calling transaction.finish()\n    await Adapty().reportTransaction(\n        "YOUR_TRANSACTION_ID", \n        variationId: "PAYWALL_VARIATION_ID", // optional\n    );\n} on AdaptyError catch (adaptyError) {\n    // handle the error\n} catch (e) {\n    // handle the error\n}\n'})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:" For iOS: Identifier of the transaction."}),(0,n.jsxs)("li",{children:[" For Android: String identifier ",(0,n.jsx)(r.code,{children:"purchase.getOrderId"})," of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property  of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"rn",label:"React Native (TS)",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to explicitly report each transaction for Adapty to recognize it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",metastring:"showLineNumbers",children:"const variationId = paywall.variationId;\n\ntry {\n    await adapty.reportTransaction(transactionId, variationId);\n} catch (error) {\n    // handle the `AdaptyError`\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:" For iOS: Identifier of the transaction."}),(0,n.jsxs)("li",{children:[" For Android: String identifier (",(0,n.jsx)(r.code,{children:"purchase.getOrderId"}),") of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"old",label:"Adapty SDK 3.3.x (legacy)",default:!0,children:[(0,n.jsxs)(r.p,{children:["In Observer mode, the Adapty SDK can't track purchases made through your existing purchase system on its own. You need to report transactions from your app store or restore them. It's crucial to set this up ",(0,n.jsx)(r.strong,{children:"before"})," releasing your app to avoid errors in analytics."]}),(0,n.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"swift",label:"Swift",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," to send the transaction data to Adapty."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"reportTransaction"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"withVariationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",metastring:"showLineNumbers",children:"do {\n    // every time when calling transasction.finish()\n    try await Adapty.reportTransaction(transaction, withVariationId: <YOUR_PAYWALL_VARIATION_ID>)\n} catch {\n    // handle the error\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"transaction"})}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:" For StoreKit 1: SKPaymentTransaction."}),(0,n.jsx)("li",{children:" For StoreKit 2: Transaction."})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:(0,n.jsx)(r.strong,{children:"variationId"})}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The unique ID of the paywall variation. Retrieve it from the ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," to report the transaction to Adapty."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip purchase restoring!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"restorePurchases"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, link your transaction to the paywall that led to the purchase using the ",(0,n.jsx)(r.code,{children:"setVariationId"})," method. This ensures the purchase is correctly attributed to the triggering paywall for accurate analytics. This step is only necessary if you're using Adapty paywalls."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",metastring:"showLineNumbers",children:"Adapty.restorePurchases { result ->\n    if (result is AdaptyResult.Success) {\n        // success\n    }\n}\n\nAdapty.setVariationId(transactionId, variationId) { error ->\n    if (error == null) {\n        // success\n    }\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["String identifier (",(0,n.jsx)(r.code,{children:"purchase.getOrderId"}),") of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"java",label:"Java",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," to report the transaction to Adapty."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip purchase restoring!"}),"\nIf you don't call ",(0,n.jsx)(r.code,{children:"restorePurchases"}),", Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, link your transaction to the paywall that led to the purchase using the ",(0,n.jsx)(r.code,{children:"setVariationId"})," method. This ensures the purchase is correctly attributed to the triggering paywall for accurate analytics. This step is only necessary if you're using Adapty paywalls."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",metastring:"showLineNumbers",children:"Adapty.restorePurchases(result -> {\n    if (result instanceof AdaptyResult.Success) {\n        // success\n    }\n});\n\nAdapty.setVariationId(transactionId, variationId, error -> {\n    if (error == null) {\n        // success\n    }\n});\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["String identifier (",(0,n.jsx)(r.code,{children:"purchase.getOrderId"}),") of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property  of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"}),"  object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"flutter",label:"Flutter",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," on both platforms to explicitly report each transaction, and use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," on Android as an additional step to ensure Adapty recognizes it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting and purchase restoring!"}),"\nIf you don't call these methods, Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",metastring:"showLineNumbers",children:'// every time when calling transaction.finish()\nif (Platform.isAndroid) {\n    try {\n        await Adapty().restorePurchases();\n    } on AdaptyError catch (adaptyError) {\n        // handle the error\n    } catch (e) {\n    }\n}\n\ntry {\n    // every time when calling transaction.finish()\n    await Adapty().reportTransaction(\n        "YOUR_TRANSACTION_ID", \n        variationId: "PAYWALL_VARIATION_ID", // optional\n    );\n} on AdaptyError catch (adaptyError) {\n    // handle the error\n} catch (e) {\n    // handle the error\n}\n'})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[" For iOS, StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"}),"  object."]}),(0,n.jsxs)("li",{children:[" For iOS, StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"}),"  object."]}),(0,n.jsxs)("li",{children:[" For Android: String identifier (purchase.getOrderId of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property  of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"unity",label:"Unity",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," on both platforms to explicitly report each transaction, and use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," on Android as an additional step to ensure Adapty recognizes it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting and purchase restoring!"}),"\nIf you don't call these methods, Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"PAYWALL_VARIATION_ID"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-csharp",metastring:"showLineNumbers",children:'// every time when calling transasction.finish()\n\n#if UNITY_ANDROID && !UNITY_EDITOR\n  Adapty.RestorePurchases((profile, error) => {\n    // handle the error\n  });\n#endif\n\nAdapty.ReportTransaction(\n  "YOUR_TRANSACTION_ID", \n  "PAYWALL_VARIATION_ID", // optional\n  (error) => {\n  // handle the error\n});\n'})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[" For iOS, StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"})," object."]}),(0,n.jsxs)("li",{children:[" For iOS, StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"})," object."]}),(0,n.jsxs)("li",{children:[" For Android: String identifier (",(0,n.jsx)(r.code,{children:"purchase.getOrderId"}),") of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property  of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"rn",label:"React Native (TS)",default:!0,children:[(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"reportTransaction"})," on both platforms to explicitly report each transaction, and use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," on Android as an additional step to ensure Adapty recognizes it."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don't call these methods, Adapty won't recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})}),(0,n.jsxs)(r.p,{children:["If you use Adapty paywalls, include the ",(0,n.jsx)(r.code,{children:"variationId"})," when reporting a transaction. This links the purchase to the paywall that triggered it, ensuring accurate paywall analytics."]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",metastring:"showLineNumbers",children:"if (Platform.OS === 'android') {\n    try {\n        await adapty.restorePurchases();\n    } catch (error) {\n        // handle the error\n    }\n}\n\n...\n\nconst variationId = paywall.variationId;\n\ntry {\n    await adapty.reportTransaction(transactionId, variationId);\n} catch (error) {\n    // handle the `AdaptyError`\n}\n"})}),(0,n.jsx)(r.p,{children:"Parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsx)(r.td,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[" For iOS, StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"})," object."]}),(0,n.jsxs)("li",{children:[" For iOS, StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"})," object."]}),(0,n.jsxs)("li",{children:[" For Android: String identifier (",(0,n.jsx)(r.code,{children:"purchase.getOrderId"}),") of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"optional"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"old2",label:"Adapty SDK up to 3.2.x (legacy)",default:!0,children:[(0,n.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"swift",label:"iOS",default:!0,children:[(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Reporting transactions"})}),(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Versions up to 3.1.x automatically listen for transactions in the App Store, so manual reporting is not required."}),"\n",(0,n.jsx)(r.li,{children:"Version 3.2 does not support Observer Mode."}),"\n"]})]}),(0,n.jsxs)(s.A,{value:"kotlin",label:"Android and Android-based cross-platforms",default:!0,children:[(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Reporting transactions"})}),(0,n.jsxs)(r.p,{children:["Use ",(0,n.jsx)(r.code,{children:"restorePurchases"})," to report a transaction to Adapty in Observer Mode, as explained on the ",(0,n.jsx)(r.a,{href:"restore-purchase",children:"Restore Purchases in Mobile Code"})," page."]}),(0,n.jsx)(r.admonition,{type:"warning",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Don't skip transaction reporting!"}),"\nIf you don\u2019t call ",(0,n.jsx)(r.code,{children:"restorePurchases"}),", Adapty won\u2019t recognize the transaction, it won\u2019t appear in analytics, and it won\u2019t be sent to integrations."]})})]})]}),(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Associating paywalls to transactions"})}),(0,n.jsx)(r.p,{children:"Adapty SDK cannot determine the source of purchases, as you are the one processing them. Therefore, if you intend to use paywalls and/or A/B tests in Observer mode, you need to associate the transaction coming from your app store with the corresponding paywall in your mobile app code. This is important to get right before releasing your app, otherwise, it will lead to errors in analytics."}),(0,n.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,n.jsxs)(s.A,{value:"swift",label:"Swift",default:!0,children:[(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-swift",children:"let variationId = paywall.variationId\n// There are two overloads: for StoreKit 1 and StoreKit 2\nAdapty.setVariationId(variationId, forPurchasedTransaction: transactionId) { error in\n    if error == nil {\n        // successful binding\n    }    \n}\n"})}),(0,n.jsx)(r.p,{children:"Request parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:[(0,n.jsxs)("p",{children:["For StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"}),"  object."]}),(0,n.jsxs)("p",{children:["For StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"}),"  object."]})]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"kotlin",label:"Kotlin",default:!0,children:[(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-kotlin",children:"Adapty.setVariationId(transactionId, variationId) { error ->\n    if (error == null) {\n        // success\n    }\n}\n"})}),(0,n.jsx)(r.p,{children:"Request parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["String identifier (purchase.getOrderId of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"java",label:"Java",default:!0,children:[(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-java",children:"Adapty.setVariationId(transactionId, variationId, error -> {\n    if (error == null) {\n        // success\n    }\n});\n"})}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["String identifier (purchase.getOrderId of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsx)(s.A,{value:"flutter",label:"Flutter",default:!0,children:(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:"final transactionId = transaction.transactionIdentifier\nfinal variationId = paywall.variationId\n\ntry {\n  await Adapty().setVariationId('transactionId', variationId);\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n}\n"})})}),(0,n.jsxs)(s.A,{value:"unity",label:"Unity",default:!0,children:[(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-csharp",children:'Adapty.SetVariationForTransaction("<variationId>", "<transactionId>", (error) => { \n    if(error != null) {\n        // handle the error\n        return;\n    }\n\n    // successful binding\n});\n'})}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:[(0,n.jsxs)("p",{children:["For iOS, StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"}),"  object."]}),(0,n.jsxs)("p",{children:["For iOS, StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"}),"  object."]}),(0,n.jsxs)("p",{children:["For Android: String identifier (purchase.getOrderId of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]}),(0,n.jsxs)(s.A,{value:"rn",label:"React Native (TS)",default:!0,children:[(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-typescript",children:"const variationId = paywall.variationId;\n\ntry {\n    await adapty.setVariationId('transactionId', variationId);\n} catch (error) {\n    // handle the `AdaptyError`\n}\n"})}),(0,n.jsx)(r.p,{children:"Request parameters:"}),(0,n.jsxs)(r.table,{children:[(0,n.jsx)(r.thead,{children:(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.th,{children:"Parameter"}),(0,n.jsx)(r.th,{children:"Presence"}),(0,n.jsx)(r.th,{children:"Description"})]})}),(0,n.jsxs)(r.tbody,{children:[(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"transactionId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:[(0,n.jsxs)("p",{children:["For iOS, StoreKit 1: an ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/skpaymenttransaction",children:"SKPaymentTransaction"}),"  object."]}),(0,n.jsxs)("p",{children:["For iOS, StoreKit 2: ",(0,n.jsx)(r.a,{href:"https://developer.apple.com/documentation/storekit/transaction",children:"Transaction"}),"  object."]}),(0,n.jsxs)("p",{children:["For Android: String identifier (purchase.getOrderId of the purchase, where the purchase is an instance of the billing library ",(0,n.jsx)(r.a,{href:"https://developer.android.com/reference/com/android/billingclient/api/Purchase",children:"Purchase"})," class."]})]})]}),(0,n.jsxs)(r.tr,{children:[(0,n.jsx)(r.td,{children:"variationId"}),(0,n.jsx)(r.td,{children:"required"}),(0,n.jsxs)(r.td,{children:["The string identifier of the variation. You can get it using ",(0,n.jsx)(r.code,{children:"variationId"})," property of the ",(0,n.jsx)(r.a,{href:"sdk-models#adaptypaywall",children:"AdaptyPaywall"})," object."]})]})]})]})]})]})]})]})}function u(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}}}]);