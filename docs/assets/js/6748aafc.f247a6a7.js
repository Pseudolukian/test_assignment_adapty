"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[2821],{84200:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>n,metadata:()=>o,toc:()=>l});var t=i(74848),r=i(28453);const n={title:"Getting started with legacy server-side API",description:"",metadataTitle:""},a=void 0,o={id:"getting-started-with-server-side-api-legacy",title:"Getting started with legacy server-side API",description:"",source:"@site/versioned_docs/version-3.0/getting-started-with-server-side-api-legacy.md",sourceDirName:".",slug:"/getting-started-with-server-side-api-legacy",permalink:"/docs/getting-started-with-server-side-api-legacy",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Getting started with legacy server-side API",description:"",metadataTitle:""},sidebar:"APISidebar",previous:{title:"Retrieve retention data",permalink:"/docs/export-analytics-api-retrieve-retention-data"},next:{title:"Requests",permalink:"/docs/server-side-api-specs-legacy"}},c={},l=[{value:"Case 1: Syncing subscribers between web and mobile",id:"case-1-syncing-subscribers-between-web-and-mobile",level:2},{value:"Case 2: Grant a subscription",id:"case-2-grant-a-subscription",level:2},{value:"Case 3: Syncing users&#39; attributes and custom properties",id:"case-3-syncing-users-attributes-and-custom-properties",level:2}];function d(e){const s={a:"a",admonition:"admonition",em:"em",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.admonition,{type:"warning",children:(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"You are viewing the guide for the legacy server-side API."}),"\nFor the latest version, refer to the ",(0,t.jsx)(s.a,{href:"ss-authorization",children:"Server-side API V2"})," and the ",(0,t.jsx)(s.a,{href:"migration-guide-to-server-side-API-v2",children:"Migration Guide to Server-side API V2"}),"."]})}),"\n",(0,t.jsx)(s.p,{children:"With API you can:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Get user's subscription status."}),"\n",(0,t.jsxs)(s.li,{children:["Activate a subscription for a user with an ",(0,t.jsx)(s.a,{href:"access-level",children:"access level"}),"."]}),"\n",(0,t.jsx)(s.li,{children:"Get user's attributes."}),"\n",(0,t.jsx)(s.li,{children:"Set user's attributes."}),"\n"]}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsxs)(s.p,{children:["You can't get subscription events via API, but you can use ",(0,t.jsx)(s.a,{href:"webhook",children:"Webhook"})," or direct integration with a service that you're using."]})}),"\n",(0,t.jsx)(s.p,{children:"To correctly work with API you need to use a unique ID for your users. This may be an email, a phone number, your internal ID. Without such an ID it's impossible to identify the same user on multiple platforms."}),"\n",(0,t.jsx)(s.h2,{id:"case-1-syncing-subscribers-between-web-and-mobile",children:"Case 1: Syncing subscribers between web and mobile"}),"\n",(0,t.jsx)(s.p,{children:"Whenever Web payment providers you use such as Stripe, ChargeBee, or any other, you can sync subscribers. For that:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.em,{children:"Use a unique ID for your users"}),". For example, email or phone number."]}),"\n",(0,t.jsx)(s.li,{children:"Check subscription status via API."}),"\n",(0,t.jsx)(s.li,{children:"If a user is freemium, show him a paywall on the Web."}),"\n",(0,t.jsx)(s.li,{children:"After successful payment, update subscription status in Adapty via API."}),"\n",(0,t.jsx)(s.li,{children:"Your subscribers will be automatically in sync with mobile."}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"case-2-grant-a-subscription",children:"Case 2: Grant a subscription"}),"\n",(0,t.jsx)(s.admonition,{type:"note",children:(0,t.jsx)(s.p,{children:"Due to security reasons, you can't grant a subscription via mobile SDK."})}),"\n",(0,t.jsx)(s.p,{children:"Imagine a case, when you run a promotional campaign with offers 7 days of a trial and you want to sync in with mobile experience. To do that:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Get a unique ID for a user."}),"\n",(0,t.jsx)(s.li,{children:"Set premium access via paid access level with API with a duration of 7 days."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"After 7 days users who won't subscribe will be downgraded to the free tier."}),"\n",(0,t.jsx)(s.h2,{id:"case-3-syncing-users-attributes-and-custom-properties",children:"Case 3: Syncing users' attributes and custom properties"}),"\n",(0,t.jsx)(s.p,{children:"You may have custom attributes for your users, other than defaults such as IDFA, device model, etc. For example, in a language learning service, you may want to save the number of words a student has learned. To do that:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Get a unique ID for a user."}),"\n",(0,t.jsx)(s.li,{children:"Update attribute with API or SDK."}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"With such attributes you can, for example, create a segment and run an A/B test."}),"\n",(0,t.jsxs)(s.p,{children:["To learn more about legacy S2S API go to ",(0,t.jsx)(s.a,{href:"server-side-api-specs-legacy",children:"API Specs"}),"."]})]})}function u(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);