"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[4449],{11470:(e,t,n)=>{n.d(t,{A:()=>w});var r=n(96540),a=n(34164),s=n(23104),i=n(56347),l=n(205),o=n(57485),u=n(31682),c=n(70679);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,u.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function f(e){let{queryString:t=!1,groupId:n}=e;const a=(0,i.W6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o.aZ)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function g(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,s=h(e),[i,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:s}))),[u,d]=f({queryString:n,groupId:a}),[g,m]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,c.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),y=(()=>{const e=u??g;return p({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{y&&o(y)}),[y]);return{selectedValue:i,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),m(e)}),[d,m,s]),tabValues:s}}var m=n(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=n(74848);function x(e){let{className:t,block:n,selectedValue:r,selectValue:i,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:u}=(0,s.a_)(),c=e=>{const t=e.currentTarget,n=o.indexOf(t),a=l[n].value;a!==r&&(u(t),i(a))},d=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:l.map((e=>{let{value:t,label:n,attributes:s}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>o.push(e),onKeyDown:d,onClick:c,...s,className:(0,a.A)("tabs__item",y.tabItem,s?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function j(e){let{lazy:t,children:n,selectedValue:a}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=s.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a})))})}function v(e){const t=g(e);return(0,b.jsxs)("div",{className:(0,a.A)("tabs-container",y.tabList),children:[(0,b.jsx)(x,{...t,...e}),(0,b.jsx)(j,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,b.jsx)(v,{...e,children:d(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var r=n(34164);const a={tabItem:"tabItem_Ymn6"};var s=n(74848);function i(e){let{children:t,hidden:n,className:i}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,i),hidden:n,children:t})}},64755:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>f,frontMatter:()=>o,metadata:()=>c,toc:()=>h});var r=n(74848),a=n(28453),s=(n(26393),n(11470)),i=n(19365),l=n(97808);const o={title:"Identify users",description:"Identify users in Adapty to improve personalized subscription experiences.",metadataTitle:"Identifying Users in Adapty | Adapty Docs"},u=void 0,c={id:"identifying-users",title:"Identify users",description:"Identify users in Adapty to improve personalized subscription experiences.",source:"@site/versioned_docs/version-3.0/identifying-users.md",sourceDirName:".",slug:"/identifying-users",permalink:"/docs/identifying-users",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Identify users",description:"Identify users in Adapty to improve personalized subscription experiences.",metadataTitle:"Identifying Users in Adapty | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Check subscription status",permalink:"/docs/subscription-status"},next:{title:"Set user attributes",permalink:"/docs/setting-user-attributes"}},d={},h=[{value:"Setting customer user ID on configuration",id:"setting-customer-user-id-on-configuration",level:3},...l.RM,{value:"Setting customer user ID after configuration",id:"setting-customer-user-id-after-configuration",level:3},{value:"Logging out and logging in",id:"logging-out-and-logging-in",level:3}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["Adapty creates an internal profile ID for every user. However, if you have your own authentication system, you should set your own Customer User ID. You can find users by their Customer User ID in the ",(0,r.jsx)(t.a,{href:"profiles-crm",children:"Profiles"})," section and use it in the ",(0,r.jsx)(t.a,{href:"getting-started-with-server-side-api",children:"server-side API"}),", which will be sent to all integrations."]}),"\n",(0,r.jsx)(t.h3,{id:"setting-customer-user-id-on-configuration",children:"Setting customer user ID on configuration"}),"\n",(0,r.jsxs)(t.p,{children:["If you have a user ID during configuration, just pass it as ",(0,r.jsx)(t.code,{children:"customerUserId"})," parameter to ",(0,r.jsx)(t.code,{children:".activate()"})," method:"]}),"\n",(0,r.jsxs)(s.A,{groupId:"current-os",queryString:!0,children:[(0,r.jsx)(i.A,{value:"swift",label:"Swift",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'Adapty.activate("PUBLIC_SDK_KEY", customerUserId: "YOUR_USER_ID")\n'})})}),(0,r.jsx)(i.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'Adapty.activate(applicationContext, "PUBLIC_SDK_KEY", customerUserId = "YOUR_USER_ID")\n'})})}),(0,r.jsx)(i.A,{value:"java",label:"Java",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:'Adapty.activate(getApplicationContext(), "PUBLIC_SDK_KEY", observerMode, "YOUR_USER_ID");\n'})})}),(0,r.jsx)(i.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:'adapty.activate("PUBLIC_SDK_KEY", {\n    customerUserId: "YOUR_USER_ID"\n});\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"You may notice that there are no snippets for Flutter and Unity. Unfortunately, there are technical limitations that won't allow passing the ID upon activation."}),"\n",(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsx)(t.h3,{id:"setting-customer-user-id-after-configuration",children:"Setting customer user ID after configuration"}),"\n",(0,r.jsxs)(t.p,{children:["If you don't have a user ID in the SDK configuration, you can set it later at any time with the ",(0,r.jsx)(t.code,{children:".identify()"})," method. The most common cases for using this method are after registration or authorization, when the user switches from being an anonymous user to an authenticated user."]}),"\n",(0,r.jsxs)(s.A,{groupId:"current-os",queryString:!0,children:[(0,r.jsx)(i.A,{value:"swift",label:"Swift",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'do {\n    try await Adapty.identify("YOUR_USER_ID")\n} catch {\n    // handle the error\n}\n'})})}),(0,r.jsx)(i.A,{value:"swift-callback",label:"Swift-Callback",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'Adapty.identify("YOUR_USER_ID") { error in\n    if let error {\n        // handle the error\n    }\n}\n'})})}),(0,r.jsx)(i.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'Adapty.identify("YOUR_USER_ID") { error ->\n    if (error == null) {\n        // successful identify\n    }\n}\n'})})}),(0,r.jsx)(i.A,{value:"java",label:"Java",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:'Adapty.identify("YOUR_USER_ID", error -> {\n    if (error == null) {\n        // successful identify\n    }\n});\n'})})}),(0,r.jsx)(i.A,{value:"flutter",label:"Flutter",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"try {\n  await Adapty().identify(customerUserId);\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n}\n"})})}),(0,r.jsx)(i.A,{value:"unity",label:"Unity",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:'Adapty.Identify("YOUR_USER_ID", (error) => {\n  if(error == null) {\n    // successful identify\n  }\n});\n'})})}),(0,r.jsx)(i.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:'try {\n    await adapty.identify("YOUR_USER_ID");\n    // successfully identified\n} catch (error) {\n    // handle the error\n}\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"Request parameters:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Customer User ID"})," (required): a string user identifier."]}),"\n"]}),"\n",(0,r.jsxs)(t.admonition,{type:"warning",children:[(0,r.jsx)(t.p,{children:"Resubmitting of significant user data"}),(0,r.jsx)(t.p,{children:"In some cases, such as when a user logs into their account again, Adapty's servers already have information about that user. In these scenarios, the Adapty SDK will automatically switch to work with the new user. If you passed any data to the anonymous user, such as custom attributes or attributions from third-party networks, you should resubmit that data for the identified user."}),(0,r.jsx)(t.p,{children:"It's also important to note that you should re-request all paywalls and products after identifying the user, as the new user's data may be different."})]}),"\n",(0,r.jsx)(t.h3,{id:"logging-out-and-logging-in",children:"Logging out and logging in"}),"\n",(0,r.jsxs)(t.p,{children:["You can logout the user anytime by calling ",(0,r.jsx)(t.code,{children:".logout()"})," method:"]}),"\n",(0,r.jsxs)(s.A,{groupId:"current-os",queryString:!0,children:[(0,r.jsx)(i.A,{value:"swift",label:"Swift",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:"do {\n    try await Adapty.logout()\n} catch {\n    // handle the error\n}\n"})})}),(0,r.jsx)(i.A,{value:"swift-callback",label:"Swift-Callback",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:"Adapty.logout { error in\n    if error == nil {\n        // successful logout\n    }\n}\n"})})}),(0,r.jsx)(i.A,{value:"kotlin",label:"Kotlin",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:"Adapty.logout { error ->\n    if (error == null) {\n        // successful logout\n    }\n}\n"})})}),(0,r.jsx)(i.A,{value:"java",label:"Java",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-java",metastring:"showLineNumbers",children:"Adapty.logout(error -> {\n    if (error == null) {\n        // successful logout\n    }\n});\n"})})}),(0,r.jsx)(i.A,{value:"flutter",label:"Flutter",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"try {\n  await Adapty().logout();\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n}\n"})})}),(0,r.jsx)(i.A,{value:"unity",label:"Unity",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"Adapty.Logout((error) => {\n  if(error == null) {\n    // successful logout\n  }\n});\n"})})}),(0,r.jsx)(i.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"try {\n    await adapty.logout();\n    // successful logout\n} catch (error) {\n    // handle the error\n}\n"})})})]}),"\n",(0,r.jsxs)(t.p,{children:["You can then login the user using ",(0,r.jsx)(t.code,{children:".identify()"})," method."]})]})}function f(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},97808:(e,t,n)=>{n.d(t,{Ay:()=>l,RM:()=>s});var r=n(74848),a=n(28453);const s=[];function i(e){const t={a:"a",admonition:"admonition",p:"p",...(0,a.R)(),...e.components};return(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["Want to see a real-world example of how Adapty SDK is integrated into a mobile app? Check out our ",(0,r.jsx)(t.a,{href:"sample-apps",children:"sample apps"}),", which demonstrate the full setup, including displaying paywalls, making purchases, and other basic functionality."]})})}function l(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}}}]);