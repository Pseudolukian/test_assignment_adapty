"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[2567],{2769:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[{value:"Body",id:"body",level:4},{value:"Response example",id:"response-example",level:4}];function l(e){const t={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{}),"\n",(0,r.jsxs)(t.p,{children:["The request failed due to missing or incorrect authorization. Check the ",(0,r.jsx)(t.a,{href:"ss-authorization",children:"Authorization"})," page, paying close attention to the ",(0,r.jsx)(t.strong,{children:"Authorization header"}),"."]}),"\n",(0,r.jsx)(t.p,{children:"The request also failed because the specified profile wasn\u2019t found."}),"\n",(0,r.jsx)(t.h4,{id:"body",children:"Body"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"errors"}),(0,r.jsx)(t.td,{children:"Object"}),(0,r.jsx)(t.td,{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"source"}),": (string) Always ",(0,r.jsx)(t.code,{children:"non_field_errors"}),"."]}),(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"errors"}),": A description of the error."]})]})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"error_code"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsxs)(t.td,{children:["Short error name. Always ",(0,r.jsx)(t.code,{children:"not_authenticated"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"status_code"}),(0,r.jsx)(t.td,{children:"Integer"}),(0,r.jsxs)(t.td,{children:["HTTP status. Always ",(0,r.jsx)(t.code,{children:"401."})]})]})]})]}),"\n",(0,r.jsx)(t.h4,{id:"response-example",children:"Response example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n  "errors": [\n    {\n      "source": "non_field_errors",\n      "errors": [\n        "Authentication credentials were not provided."\n      ]\n    }\n  ],\n  "error_code": "not_authenticated",\n  "status_code": 401\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},3661:(e,t,n)=>{n(74848)},6755:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[];function l(e){const t={a:"a",code:"code",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Parameter"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Type"}),(0,r.jsx)(t.th,{children:"Required in\xa0request"}),(0,r.jsx)(t.th,{children:"Nullable in\xa0request"}),(0,r.jsx)(t.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"first_name"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's first name."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"last_name"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's last name."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"gender"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's gender."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"email"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's email."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"phone_number"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's phone number."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"birthday"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"ISO 8601 date"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Your end user's birthday."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"ip_country"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Country of the end user in ISO 3166-2 format. It needs to be passed if the request is made from the server and not from the client in order to set the current country. Otherwise, we determine the country by the IP address of the request."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"store_country"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Country of the end user's app store."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"store"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:["The platform the user uses to make purchases in your app. Possible values: ",(0,r.jsx)(t.code,{children:"app_store"}),", ",(0,r.jsx)(t.code,{children:"play_store"}),", or ",(0,r.jsx)(t.code,{children:"stripe"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"analytics_disabled"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Boolean"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsxs)("p",{children:["Option to opt out of external analytics. When analytics is disabled, events won\u2019t be sent to integrations, and the fields ",(0,r.jsx)(t.code,{children:"idfa"}),", ",(0,r.jsx)(t.code,{children:"idfv"}),", and ",(0,r.jsx)(t.code,{children:"advertising_id"})," will become nullable."]}),(0,r.jsx)("p",{children:"ON: External analytics is opted out for this user."}),(0,r.jsx)("p",{children:"OFF: Analytics is active by default."})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"custom_attributes"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:[(0,r.jsxs)("p",{children:["Allows setting up to 30 custom attributes for the profile. If you use the ",(0,r.jsx)(t.code,{children:"custom_attributes"})," dictionary, at least one pair o a key and value is required."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(t.strong,{children:"Key:"})," Must be a string with no more than 30 characters, using only letters, numbers, dashes, periods, and underscores."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(t.strong,{children:"Value:"})," Must be a string or float with no more than 30 characters. Booleans and integers will be converted to floats. To delete an attribute, send an empty value or ",(0,r.jsx)(t.code,{children:"null"}),"."]})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"installation_meta"}),(0,r.jsx)(t.td,{style:{textAlign:"left"},children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{style:{textAlign:"left"},children:["Contains information about the specific app on a specific device, structured as a dictionary of ",(0,r.jsx)(t.a,{href:"server-side-api-objects#installation-meta",children:"Installation Meta"})," objects."]})]})]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},9887:(e,t,n)=>{n.d(t,{Ay:()=>a,RM:()=>l});var r=n(74848),s=n(28453),i=n(43467);const l=[{value:"data object structure",id:"data-object-structure",level:3},...i.RM];function d(e){const t={a:"a",code:"code",h3:"h3",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{}),"\n",(0,r.jsxs)(t.p,{children:["The request is successful. The response body contains the ",(0,r.jsx)(t.code,{children:"data"})," field, which encapsulates the user's profile and associated information."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Nullable"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsx)(t.tbody,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"data"}),(0,r.jsx)(t.td,{children:"Object"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{children:["Contains the ",(0,r.jsx)(t.a,{href:"server-side-api-objects#profile",children:"Profile"})," object with user details and metadata."]})]})})]}),"\n",(0,r.jsx)(t.h3,{id:"data-object-structure",children:"data object structure"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"data"})," field is the primary container for the user profile. It includes several fields:"]}),"\n",(0,r.jsx)(i.Ay,{})]})}function a(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11470:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(96540),s=n(34164),i=n(23104),l=n(56347),d=n(205),a=n(57485),o=n(31682),c=n(70679);function h(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:s}}=e;return{value:t,label:n,attributes:r,default:s}}))}(n);return function(e){const t=(0,o.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function p(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function x(e){let{queryString:t=!1,groupId:n}=e;const s=(0,l.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,a.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(s.location.search);t.set(i,e),s.replace({...s.location,search:t.toString()})}),[i,s])]}function j(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,i=u(e),[l,a]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[o,h]=x({queryString:n,groupId:s}),[j,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[s,i]=(0,c.Dv)(n);return[s,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:s}),y=(()=>{const e=o??j;return p({value:e,tabValues:i})?e:null})();(0,d.A)((()=>{y&&a(y)}),[y]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);a(e),h(e),f(e)}),[h,f,i]),tabValues:i}}var f=n(92303);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=n(74848);function _(e){let{className:t,block:n,selectedValue:r,selectValue:l,tabValues:d}=e;const a=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const t=e.currentTarget,n=a.indexOf(t),s=d[n].value;s!==r&&(o(t),l(s))},h=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const n=a.indexOf(e.currentTarget)+1;t=a[n]??a[0];break}case"ArrowLeft":{const n=a.indexOf(e.currentTarget)-1;t=a[n]??a[a.length-1];break}}t?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},t),children:d.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>a.push(e),onKeyDown:h,onClick:c,...i,className:(0,s.A)("tabs__item",y.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function b(e){let{lazy:t,children:n,selectedValue:s}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===s));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==s})))})}function g(e){const t=j(e);return(0,m.jsxs)("div",{className:(0,s.A)("tabs-container",y.tabList),children:[(0,m.jsx)(_,{...t,...e}),(0,m.jsx)(b,{...t,...e})]})}function v(e){const t=(0,f.A)();return(0,m.jsx)(g,{...e,children:h(e.children)},String(t))}},19365:(e,t,n)=>{n.d(t,{A:()=>l});n(96540);var r=n(34164);const s={tabItem:"tabItem_Ymn6"};var i=n(74848);function l(e){let{children:t,hidden:n,className:l}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,l),hidden:n,children:t})}},36090:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>x,default:()=>_,frontMatter:()=>p,metadata:()=>j,toc:()=>y});var r=n(74848),s=n(28453),i=n(11470),l=n(19365),d=(n(43467),n(3661),n(6755)),a=n(9887),o=n(80863),c=n(74732),h=n(2769),u=n(45370);const p={title:"  Update profile with server-side API",description:"",metadataTitle:"",displayed_sidebar:"APISidebar"},x=void 0,j={id:"ss-update-profile",title:"  Update profile with server-side API",description:"",source:"@site/versioned_docs/version-3.0/ss-update-profile.md",sourceDirName:".",slug:"/ss-update-profile",permalink:"/test_assignment_adapty/docs/ss-update-profile",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"  Update profile with server-side API",description:"",metadataTitle:"",displayed_sidebar:"APISidebar"},sidebar:"APISidebar",previous:{title:"Create profile",permalink:"/test_assignment_adapty/docs/ss-create-profile"},next:{title:"Delete profile",permalink:"/test_assignment_adapty/docs/ss-delete-profile"}},f={},y=[{value:"Method and endpoint",id:"method-and-endpoint",level:2},{value:"Example request",id:"example-request",level:2},{value:"Parameters",id:"parameters",level:2},...d.RM,{value:"Successful response: 200: OK",id:"successful-response-200-ok",level:2},...a.RM,{value:"Successful response example",id:"successful-response-example",level:3},...u.RM,{value:"Errors",id:"errors",level:2},{value:"400: Bad request",id:"400-bad-request",level:3},...o.RM,{value:"401: Unauthorized",id:"401-unauthorized",level:3},...h.RM,{value:"404: Not found",id:"404-not-found",level:3},...c.RM];function m(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Changes your end user profile attributes."}),"\n",(0,r.jsx)(t.h2,{id:"method-and-endpoint",children:"Method and endpoint"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:"PATCH https://api.adapty.io/api/v2/server-side-api/profile/\n"})}),"\n",(0,r.jsx)(t.h2,{id:"example-request",children:"Example request"}),"\n",(0,r.jsxs)(i.A,{groupId:"api-lang",queryString:!0,children:[(0,r.jsx)(l.A,{value:"curl",label:"cURL",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",metastring:"showLineNumbers",children:'curl --location --request PATCH \'https://api.adapty.io/api/v2/server-side-api/profile/\' \\\n--header \'Authorization: Api-Key <YOUR_SECRET_API_KEY>\' \\\n--header \'adapty-customer-user-id: <YOUR_CUSTOMER_USER_ID>\' \\\n--header \'adapty-platform: <OPTIONAL_DEVICE_PLATFORM>\' \\\n--header \'Content-Type: application/json\' \\\n--data-raw \'{\n  "first_name": "Jane",\n  "last_name": "Doe",\n  "gender": "f",\n  "email": "jane.doe@example.com",\n  "phone_number": "+1234567890",\n  "birthday": "2000-12-31",\n  "ip_country": "FR",\n  "store_country": "US",\n  "store": "app_store",\n  "analytics_disabled": true,\n  "custom_attributes": [\n    {\n      "key": "favourite_sport",\n      "value": "yoga"\n    }\n  ],\n  "installation_meta": {\n    "device_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n    "device": "string",\n    "locale": "en",\n    "os": "string",\n    "platform": "iOS",\n    "timezone": "Europe/Rome",\n    "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1",\n    "idfa": "EA7583CD-A667-48BC-B806-42ECB2B48333",\n    "idfv": "E9D48DA5-3930-4B41-8521-D953AECD2F33",\n    "advertising_id": "",\n    "android_id": "",\n    "android_app_set_id": ""\n  }\n}\'\n'})})}),(0,r.jsx)(l.A,{value:"python",label:"Python",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-python",metastring:"showLineNumbers",children:'import requests\n\nurl = "https://api.adapty.io/api/v2/server-side-api/profile/"\n\npayload = {\n    "first_name": "Jane",\n    "last_name": "Doe",\n    "gender": "f",\n    "email": "jane.doe@example.com",\n    "phone_number": "+1234567890",\n    "birthday": "2000-12-31",\n    "ip_country": "FR",\n    "store_country": "US",\n    "store": "app_store",\n    "analytics_disabled": True,\n    "custom_attributes": [\n        {\n            "key": "favourite_sport",\n            "value": "yoga"\n        }\n    ],\n    "installation_meta": {\n        "device_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n        "device": "string",\n        "locale": "en",\n        "os": "string",\n        "platform": "iOS",\n        "timezone": "Europe/Rome",\n        "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1",\n        "idfa": "EA7583CD-A667-48BC-B806-42ECB2B48333",\n        "idfv": "E9D48DA5-3930-4B41-8521-D953AECD2F33",\n        "advertising_id": "",\n        "android_id": "",\n        "android_app_set_id": ""\n    }\n}\n\nheaders = {\n    "Authorization": "Api-Key <YOUR_SECRET_API_KEY>",\n    "adapty-customer-user-id": "<YOUR_CUSTOMER_USER_ID>",\n    "adapty-platform": "<OPTIONAL_DEVICE_PLATFORM>",\n    "Content-Type": "application/json"\n}\n\nresponse = requests.patch(url, headers=headers, json=payload)\n\nprint(response.text)\n'})})}),(0,r.jsx)(l.A,{value:"js",label:"JavaScript",default:!0,children:(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:'const myHeaders = new Headers();\nmyHeaders.append("Authorization", "Api-Key <YOUR_SECRET_API_KEY>");\nmyHeaders.append("adapty-customer-user-id", "<YOUR_CUSTOMER_USER_ID>");\nmyHeaders.append("adapty-platform", "<OPTIONAL_DEVICE_PLATFORM>");\nmyHeaders.append("Content-Type", "application/json");\n\nconst raw = JSON.stringify({\n  "first_name": "Jane",\n  "last_name": "Doe",\n  "gender": "f",\n  "email": "jane.doe@example.com",\n  "phone_number": "+1234567890",\n  "birthday": "2000-12-31",\n  "ip_country": "FR",\n  "store_country": "US",\n  "store": "app_store",\n  "analytics_disabled": true,\n  "custom_attributes": [\n    {\n      "key": "favourite_sport",\n      "value": "yoga"\n    }\n  ],\n  "installation_meta": {\n    "device_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n    "device": "string",\n    "locale": "en",\n    "os": "string",\n    "platform": "iOS",\n    "timezone": "Europe/Rome",\n    "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1",\n    "idfa": "EA7583CD-A667-48BC-B806-42ECB2B48333",\n    "idfv": "E9D48DA5-3930-4B41-8521-D953AECD2F33",\n    "advertising_id": "",\n    "android_id": "",\n    "android_app_set_id": ""\n  }\n});\n\nconst requestOptions = {\n  method: "PATCH",\n  headers: myHeaders,\n  body: raw,\n  redirect: "follow"\n};\n\nfetch("https://api.adapty.io/api/v2/server-side-api/profile/", requestOptions)\n  .then((response) => response.text())\n  .then((result) => console.log(result))\n  .catch((error) => console.error(error));\n'})})})]}),"\n",(0,r.jsx)(t.p,{children:"Placeholders:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"<YOUR_CUSTOMER_USER_ID>"}),": The unique ID of the customer in your system."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"<YOUR_SECRET_API_KEY>"}),": Your secret API key for authorization."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"<OPTIONAL_DEVICE_PLATFORM>"}),": The platform of the device where the user has your app installed. Useful when the user has installed your app on multiple devices."]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.code,{children:"Profile_id"})," or ",(0,r.jsx)(t.code,{children:"customer_user_id"})," must be set up as a header as described in ",(0,r.jsx)(t.a,{href:"ss-authorization",children:"Authorization"}),"."]}),"\n",(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"successful-response-200-ok",children:"Successful response: 200: OK"}),"\n",(0,r.jsx)(a.Ay,{}),"\n",(0,r.jsx)(t.h3,{id:"successful-response-example",children:"Successful response example"}),"\n",(0,r.jsx)(u.Ay,{}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"errors",children:"Errors"}),"\n",(0,r.jsx)(t.h3,{id:"400-bad-request",children:"400: Bad request"}),"\n",(0,r.jsx)(o.Ay,{}),"\n",(0,r.jsx)(t.h3,{id:"401-unauthorized",children:"401: Unauthorized"}),"\n",(0,r.jsx)(h.Ay,{}),"\n",(0,r.jsx)(t.h3,{id:"404-not-found",children:"404: Not found"}),"\n",(0,r.jsx)(c.Ay,{}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"See also:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"ss-get-profile",children:"Get profile"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"ss-create-profile",children:"Create profile"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"ss-delete-profile",children:"Delete profile"})}),"\n"]})]})}function _(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},43467:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[];function l(e){const t={a:"a",code:"code",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Nullable"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"app_id"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{children:["The internal ID of your app. You can see in the the Adapty Dashboard: ",(0,r.jsx)(t.a,{href:"https://app.adapty.io/settings/general",children:"App Settings -> General tab"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"profile_id"}),(0,r.jsx)(t.td,{children:"UUID"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{children:["Adapty profile ID. You can see it in the ",(0,r.jsx)(t.strong,{children:"Adapty ID"})," field on the Adapty Dashboard -> ",(0,r.jsx)(t.a,{href:"https://app.adapty.io/profiles/users",children:"Profiles"})," -> specific profile page."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"customer_user_id"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsxs)(t.td,{children:["The ID of your user in your system. You can see it in the ",(0,r.jsx)(t.strong,{children:"Customer user ID"})," field on the Adapty Dashboard -> ",(0,r.jsx)(t.a,{href:"https://app.adapty.io/profiles/users",children:"Profiles"})," -> specific profile page. It will work only if you ",(0,r.jsx)(t.a,{href:"identifying-users",children:"identify the users"})," in your mobile app code via Adapty SDK."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"total_revenue_usd"}),(0,r.jsx)(t.td,{children:"Float"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"A float value representing the total revenue in USD earned in the profile."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"segment_hash"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"Internal parameter."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"timestamp"}),(0,r.jsx)(t.td,{children:"Integer"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsx)(t.td,{children:"Response time in milliseconds, needs for resolve a race condition."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"custom_attributes"}),(0,r.jsx)(t.td,{children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2796"}),(0,r.jsxs)(t.td,{children:[(0,r.jsxs)("p",{children:["A maximum of 30 custom attributes to the profile are allowed to be set. If you provide the ",(0,r.jsx)(t.code,{children:"custom_attributes"})," dictionary, you must provide at least one attribute key."]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(t.strong,{children:"Key:"})," The key must be a string with no more than 30 characters. Only letters, numbers, dashes, points, and underscores allowed"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)(t.strong,{children:"Value:"})," The attribute value must be no more than 30 characters. Only strings and floats are allowed as values, booleans will be converted to floats. Send an empty value or null to delete the attribute."]})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"access_levels"}),(0,r.jsx)(t.td,{children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsxs)(t.td,{children:["Profile Paid Access Level objects. Dictionary where the keys are paid access level identifiers configured by a developer in the Adapty Dashboard. Values are ",(0,r.jsx)(t.a,{href:"https://adapty.io/docs/server-side-api-objects#customeraccesslevel",children:"Access level"})," objects. Can be null if the customer has no access levels."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"subscriptions"}),(0,r.jsx)(t.td,{children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsxs)(t.td,{children:["Dictionary where the keys are vendor product IDs. Values are ",(0,r.jsx)(t.a,{href:"https://adapty.io/docs/server-side-api-objects#subscription",children:"Subscription"})," objects. Can be null if the customer has no subscriptions."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"non_subscriptions"}),(0,r.jsx)(t.td,{children:"Dictionary"}),(0,r.jsx)(t.td,{children:"\u2795"}),(0,r.jsxs)(t.td,{children:["Dictionary where the keys are vendor product ids. Values are an array of ",(0,r.jsx)(t.a,{href:"https://adapty.io/docs/server-side-api-objects#non-subscription",children:"Non-Subscription"})," objects. Can be null if the customer has no purchases."]})]})]})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},45370:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[];function l(e){const t={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n  "data": {\n    "app_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n    "profile_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n    "customer_user_id": "8612ED7C-3477-466D-93AE-1854B8E5FDD5",\n    "total_revenue_usd": 109.88999999999999,\n    "segment_hash": "string",\n    "timestamp": 0,\n    "custom_attributes": [\n      {\n        "key": "string",\n        "value": "string"\n      }\n    ],\n    "access_levels": [\n      {\n        "access_level_id": "premium",\n        "store": "app_store",\n        "store_product_id": "weekly_8.99",\n        "store_base_plan_id": "",\n        "store_transaction_id": "530001802720333",\n        "store_original_transaction_id": "530001724306018",\n        "offer": {\n          "category": "introductory",\n          "type": "free_trial",\n          "id": "offer12"\n        },\n        "environment": "Production",\n        "starts_at": "2022-10-12T09:42:50.000000+0000",\n        "purchased_at": "2022-10-12T09:42:50.000000+0000",\n        "originally_purchased_at": "2021-10-12T09:42:50.000000+0000",\n        "expires_at": "2022-10-12T09:42:50.000000+0000",\n        "renewal_cancelled_at": "2022-10-12T09:42:50.000000+0000",\n        "billing_issue_detected_at": "2022-10-12T09:42:50.000000+0000",\n        "is_in_grace_period": true,\n        "cancellation_reason": "voluntarily_cancelled"\n      }\n    ],\n    "subscriptions": [\n      {\n        "store": "app_store",\n        "store_product_id": "weekly_8.99",\n        "store_base_plan_id": "",\n        "store_transaction_id": "530001802720333",\n        "store_original_transaction_id": "530001724306018",\n        "offer": {\n          "offer_category": "introductory",\n          "offer_type": "free_trial",\n          "offer_id": "offer12"\n        },\n        "environment": "Production",\n        "purchased_at": "2022-10-12T09:42:50.000000+0000",\n        "originally_purchased_at": "2021-10-12T09:42:50.000000+0000",\n        "expires_at": "2022-10-12T09:42:50.000000+0000",\n        "renewal_cancelled_at": "2022-10-12T09:42:50.000000+0000",\n        "billing_issue_detected_at": "2022-10-12T09:42:50.000000+0000",\n        "is_in_grace_period": true,\n        "cancellation_reason": "voluntarily_cancelled"\n      }\n    ],\n    "non_subscriptions": [\n      {\n        "purchase_id": "3fa85f64-5717-4562-b3fc-2c963f66afa6",\n        "store": "app_store",\n        "store_product_id": "weekly_8.99",\n        "store_base_plan_id": "",\n        "store_transaction_id": "530001724306018",\n        "store_original_transaction_id": "530001724306018",\n        "purchased_at": "2022-10-12T09:42:50.000000+0000",\n        "environment": "Production",\n        "is_refund": true,\n        "is_consumable": true\n      }\n    ]\n  }\n}\n'})})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},74732:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[{value:"Body",id:"body",level:5},{value:"Response example",id:"response-example",level:5}];function l(e){const t={code:"code",h5:"h5",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{}),"\n",(0,r.jsxs)(t.p,{children:["The request failed because the specified profile wasn\u2019t found. Double-check the ",(0,r.jsx)(t.code,{children:"customer_user_id"})," or ",(0,r.jsx)(t.code,{children:"profile_id"})," for any typos."]}),"\n",(0,r.jsx)(t.h5,{id:"body",children:"Body"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"errors"}),(0,r.jsx)(t.td,{children:"Object"}),(0,r.jsx)(t.td,{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"source"}),": (string) Always ",(0,r.jsx)(t.code,{children:"null"}),"."]}),(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"errors"}),": A description of the error."]})]})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"error_code"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsxs)(t.td,{children:["Short error name. Always ",(0,r.jsx)(t.code,{children:"profile_does_not_exist"}),"."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"status_code"}),(0,r.jsx)(t.td,{children:"Integer"}),(0,r.jsxs)(t.td,{children:["HTTP status. Always ",(0,r.jsx)(t.code,{children:"404"}),"."]})]})]})]}),"\n",(0,r.jsx)(t.h5,{id:"response-example",children:"Response example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "errors": [\n        {\n            "source": null,\n            "errors": [\n                "Profile not found"\n            ]\n        }\n    ],\n    "error_code": "profile_does_not_exist",\n    "status_code": 404\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},80863:(e,t,n)=>{n.d(t,{Ay:()=>d,RM:()=>i});var r=n(74848),s=n(28453);const i=[{value:"Body",id:"body",level:6},{value:"Response example",id:"response-example",level:6}];function l(e){const t={code:"code",h6:"h6",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"The request failed due to some error in a field."}),"\n",(0,r.jsx)(t.h6,{id:"body",children:"Body"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"errors"}),(0,r.jsx)(t.td,{children:"Object"}),(0,r.jsx)(t.td,{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"source"}),": (string) Field that caused the error(s)"]}),(0,r.jsxs)("li",{children:[" ",(0,r.jsx)(t.strong,{children:"errors"}),": (list) listed errors."]})]})})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"error_code"}),(0,r.jsx)(t.td,{children:"String"}),(0,r.jsx)(t.td,{children:"Short error name."})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"status_code"}),(0,r.jsx)(t.td,{children:"Integer"}),(0,r.jsxs)(t.td,{children:["HTTP status, always ",(0,r.jsx)(t.code,{children:"400"}),"."]})]})]})]}),"\n",(0,r.jsx)(t.h6,{id:"response-example",children:"Response example"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n  "errors": [\n    {\n      "source": "string",\n      "errors": [\n        "string"\n      ]\n    }\n  ],\n  "error_code": "string",\n  "status_code": 0\n}\n'})})]})}function d(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);