"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[104],{5711:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-getpaywallproducts-b3789aad8cf04ab2a774790cf9f6b16b.webp"},13936:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/value-parameters-663d117c7b89bf709a7038da7298d348.webp"},15455:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-on-page-load-0cd70ebd870a1f90bc881b83f5c85060.webp"},18501:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/has-field-24048bfe5dfae4fafb0811bb005dbfea.webp"},29440:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-getpaywallresult-output-2ff59d486e9710603771ca45f807c411.webp"},33032:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/switch-to-actions-1b3d0453c8866006864b988ac17981ca.webp"},38746:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/error-f232a357b0f6c9b159c4a78eed2669eb.webp"},40371:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/condition-getPaywallResult-d68ddc7ae2c3f75a86db48f2af7304b5.webp"},51139:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/placement-id-beaffa37b5b65523e6d4bfef2d138eff.webp"},52460:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/close-bab1f78a7367644eb73320008de61abf.webp"},68368:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-get-paywall-e0761047bf8b2a6b449ae536cedd5547.webp"},70852:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-editor-fb7a1f46b57fa9e64408a216eef8a03a.webp"},79524:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>n,metadata:()=>r,toc:()=>c});var l=s(74848),a=s(28453),i=s(34028);s(26393);const n={title:"Step 1. Create flow to show paywall data",description:"Set up feature flag action flows in Adapty to personalize user subscription journeys.",metadataTitle:"Feature Flags Action Flow | Adapty Docs"},d=void 0,r={id:"ff-action-flow",title:"Step 1. Create flow to show paywall data",description:"Set up feature flag action flows in Adapty to personalize user subscription journeys.",source:"@site/versioned_docs/version-3.0/ff-action-flow.md",sourceDirName:".",slug:"/ff-action-flow",permalink:"/docs/ff-action-flow",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Step 1. Create flow to show paywall data",description:"Set up feature flag action flows in Adapty to personalize user subscription journeys.",metadataTitle:"Feature Flags Action Flow | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Getting started",permalink:"/docs/ff-getting-started"},next:{title:"Step 2. Add data to paywall",permalink:"/docs/ff-add-variables-to-paywalls"}},o={},c=[{value:"Step 1.1. Request Adapty paywall",id:"step-11-request-adapty-paywall",level:2},{value:"Step 1.2. Request Adapty paywall products",id:"step-12-request-adapty-paywall-products",level:2},{value:"Step 1.3. Add check if the paywall uploaded successfully",id:"step-13-add-check-if-the-paywall-uploaded-successfully",level:2},{value:"Step 1.4. Log the paywall review",id:"step-14-log-the-paywall-review",level:2},{value:"Step 1.5. Show error if paywall not received",id:"step-15-show-error-if-paywall-not-received",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t.p,{children:"After adding the Adapty Plugin as a dependency to your FlutterFlow project, it's time to build the flow that retrieves Adapty paywall data and displays it on the paywall you've designed in FlutterFlow."}),"\n",(0,l.jsx)(t.p,{children:"We first need to receive the paywall data from Adapty. We'll start by requesting the Adapty paywall, then its associated products, and finally checking if the data was successfully received. If successful, we\u2019ll display the product title and price on the paywall page. Otherwise, we'll show an error message."}),"\n",(0,l.jsx)(t.p,{children:"Before proceeding, make sure you've done the following:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"create-paywall",children:"Created at least one paywall and added at least one product to it"})," in the Adapty Dashboard."]}),"\n",(0,l.jsxs)(t.li,{children:[(0,l.jsx)(t.a,{href:"create-placement",children:"Created at last one placement"})," and ",(0,l.jsx)(t.a,{href:"add-audience-paywall-ab-test",children:"added your paywall to it"})," in the Adapty Dashboard."]}),"\n"]}),"\n",(0,l.jsx)(t.p,{children:"Let's get started!"}),"\n",(0,l.jsx)(t.h2,{id:"step-11-request-adapty-paywall",children:"Step 1.1. Request Adapty paywall"}),"\n",(0,l.jsx)(t.p,{children:"As mentioned, to display data in your FlutterFlow paywall, we first need to retrieve it from Adapty. The initial step is to get the Adapty paywall itself. Here\u2019s how:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Open the ",(0,l.jsx)(t.strong,{children:"Actions"})," section in the right pane."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(33032).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"2",children:["\n",(0,l.jsxs)(t.li,{children:["Open the ",(0,l.jsx)(t.strong,{children:"Action Flow Editor"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(70852).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"3",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Select Action Trigger"})," window, choose ",(0,l.jsx)(t.strong,{children:"On Page Load"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(15455).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"4",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"No Actions Created"})," window, click the ",(0,l.jsx)(t.strong,{children:"Add Action"})," button."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(94841).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"5",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Actions Flow Editor"})," window, search for ",(0,l.jsx)(t.code,{children:"getPaywall"})," custom action and choose it."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(68368).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"6",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Set Actions Arguments"})," section, enter the real ID of the ",(0,l.jsx)(t.a,{href:"create-placement",children:"placement you have created"})," in the Adapty Dashboard that includes the paywall. In this example it's ",(0,l.jsx)(t.code,{children:"example_ab_test"}),". Be sure to use your real placement ID!"]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(51139).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"7",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Action Output Variable Name"}),", create a new variable and name it ",(0,l.jsx)(t.code,{children:"getPaywallResult"}),". We'll use this in the next step to reference the Adapty paywall and request its products."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(29440).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsx)(t.h2,{id:"step-12-request-adapty-paywall-products",children:"Step 1.2. Request Adapty paywall products"}),"\n",(0,l.jsx)(t.p,{children:"Great! We\u2019ve retrieved the Adapty paywall. Now, let's get the products associated with this paywall:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"plus (+)"})," button below, click the ",(0,l.jsx)(t.strong,{children:"Add Action"})," button to add an action to receive Adapty paywall products. For this, search and choose ",(0,l.jsx)(t.code,{children:"getPaywallProducts"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(5711).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"2",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Set Actions Arguments"})," section, choose ",(0,l.jsx)(t.code,{children:"getPaywallResult"})," variable created earlier."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(92190).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"3",children:["\n",(0,l.jsx)(t.li,{children:"Fill in the other fields as follows:"}),"\n"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Parameter"}),(0,l.jsx)(t.th,{children:"Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Available Options"}),(0,l.jsx)(t.td,{children:"Data Structured Field"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Select Field"}),(0,l.jsx)(t.td,{children:"value"})]})]})]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(81304).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"4",children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Confirm"})," button."]}),"\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Action Output Variable Name"}),", create a new variable and name it ",(0,l.jsx)(t.code,{children:"getPaywallProductsResult"}),". We'll use this to map the paywall you designed in FlutterFlow with the Adapty paywall data."]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"step-13-add-check-if-the-paywall-uploaded-successfully",children:"Step 1.3. Add check if the paywall uploaded successfully"}),"\n",(0,l.jsx)(t.p,{children:"Before moving on, let\u2019s verify that the Adapty paywall was received successfully. If so, we can update the paywall with the product data. If not, we\u2019ll handle the error. Here's how to add the check:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"plus (+)"})," button and click ",(0,l.jsx)(t.strong,{children:"Add Conditional"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(81393).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"2",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Action Output"})," section, select the action output variable created earlier (",(0,l.jsx)(t.code,{children:"getPaywallResult"})," in our example)."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(40371).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"3",children:["\n",(0,l.jsxs)(t.li,{children:["To verify that the Adapty paywall was received, check for the presence of a field with a value. In the ",(0,l.jsx)(t.strong,{children:"Available Options"})," list, choose ",(0,l.jsx)(t.strong,{children:"Has Field"}),"."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(18501).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"4",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Field (AdaptyGetPaywallResult)"})," list, choose ",(0,l.jsx)(t.strong,{children:"value"}),"."]}),"\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Confirm"})," button to finalize the condition."]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"step-14-log-the-paywall-review",children:"Step 1.4. Log the paywall review"}),"\n",(0,l.jsx)(t.p,{children:"To ensure Adapty analytics track the paywall view, we need to log this event. Without this step, the view won\u2019t be counted in the analytics. Here\u2019s how:"}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"plus (+)"})," button under the ",(0,l.jsx)(t.strong,{children:"TRUE"})," label and click ",(0,l.jsx)(t.strong,{children:"Add Action"}),"."]}),"\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Select Action"})," field, search for and choose **logShowPaywall **."]}),"\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Value"})," field in the ",(0,l.jsx)(t.strong,{children:"Set Action Arguments"})," area and choose the ",(0,l.jsx)(t.code,{children:"getPaywallResult"})," variable we've created. This variable contains the paywall data."]}),"\n",(0,l.jsx)(t.li,{children:"Fill in the fields as follows:"}),"\n"]}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Parameter"}),(0,l.jsx)(t.th,{children:"Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Available Options"}),(0,l.jsx)(t.td,{children:"Data Structured Field"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Select Field"}),(0,l.jsx)(t.td,{children:"value"})]})]})]}),"\n",(0,l.jsxs)(t.ol,{start:"5",children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Confirm"})," button."]}),"\n"]}),"\n",(0,l.jsx)(t.h2,{id:"step-15-show-error-if-paywall-not-received",children:"Step 1.5. Show error if paywall not received"}),"\n",(0,l.jsxs)(t.p,{children:["If the Adapty paywall is not received, you need to ",(0,l.jsx)(t.a,{href:"error-handling-on-flutter-react-native-unity#system-storekit-codes",children:"handle the error"}),". In this example, we'll simply display an alert message."]}),"\n",(0,l.jsxs)(t.ol,{children:["\n",(0,l.jsxs)(t.li,{children:["Add an ",(0,l.jsx)(t.strong,{children:"Informational Dialog"})," action to the ",(0,l.jsx)(t.strong,{children:"FALSE"})," label."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(81606).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"2",children:["\n",(0,l.jsxs)(t.li,{children:["In the ",(0,l.jsx)(t.strong,{children:"Title"})," field, add text you want to see as the dialog title. In this example, it's ",(0,l.jsx)(t.strong,{children:"Error"}),"."]}),"\n",(0,l.jsxs)(t.li,{children:["Click at the ",(0,l.jsx)(t.strong,{children:"Value"})," button of the ",(0,l.jsx)(t.strong,{children:"Message"})," box."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(13936).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.ol,{start:"4",children:["\n",(0,l.jsx)(t.li,{children:"Fill in the fields as follows:"}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(38746).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.table,{children:[(0,l.jsx)(t.thead,{children:(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.th,{children:"Parameter"}),(0,l.jsx)(t.th,{children:"Value"})]})}),(0,l.jsxs)(t.tbody,{children:[(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Set Variable"}),(0,l.jsxs)(t.td,{children:[(0,l.jsx)(t.code,{children:"getPaywallProductResult"})," variable we've created"]})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Available Options"}),(0,l.jsx)(t.td,{children:"Data Structure Field"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Select Field"}),(0,l.jsx)(t.td,{children:"error"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Available Options"}),(0,l.jsx)(t.td,{children:"Data Structure Field"})]}),(0,l.jsxs)(t.tr,{children:[(0,l.jsx)(t.td,{children:"Select Field"}),(0,l.jsx)(t.td,{children:"errorMessage"})]})]})]}),"\n",(0,l.jsxs)(t.ol,{start:"5",children:["\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Confirm"})," button."]}),"\n",(0,l.jsxs)(t.li,{children:["Add a ",(0,l.jsx)(t.strong,{children:"Terminate action"})," to the  ",(0,l.jsx)(t.strong,{children:"FALSE"})," flow."]}),"\n",(0,l.jsxs)(t.li,{children:["Click the ",(0,l.jsx)(t.strong,{children:"Close"})," button in the top-right corner."]}),"\n"]}),"\n",(0,l.jsx)(i.A,{children:(0,l.jsx)("img",{src:s(52460).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,l.jsxs)(t.p,{children:["Congratulations! You\u2019ve successfully received the product data. Now, let\u2019s ",(0,l.jsx)(t.a,{href:"ff-add-variables-to-paywalls",children:"map it to your paywall you've designed in FlutterFlow"}),"."]})]})}function p(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,l.jsx)(t,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},81304:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/getPaywall_result-fields-9a626cc8143ebc6357d2d954bc128886.webp"},81393:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-add-conditional-24e7bb1df703eb539823d9365d55e1cc.webp"},81606:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/informational-dialog-0857b13e5d0d86448326492209f425d6.webp"},92190:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/action-getPaywallResult-039aaf607f75fd51f54e7f0cbdb29070.webp"},94841:(e,t,s)=>{s.d(t,{A:()=>l});const l=s.p+"assets/images/new-add-action-8c34183a98c2a22ff36654ded6510cb9.webp"}}]);