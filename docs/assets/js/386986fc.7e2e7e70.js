"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[474],{11470:(e,t,r)=>{r.d(t,{A:()=>w});var s=r(96540),n=r(34164),a=r(23104),i=r(56347),o=r(205),d=r(57485),l=r(31682),c=r(70679);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:r}=e;return(0,s.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:r,attributes:s,default:n}}=e;return{value:t,label:r,attributes:s,default:n}}))}(r);return function(e){const t=(0,l.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function p(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function b(e){let{queryString:t=!1,groupId:r}=e;const n=(0,i.W6)(),a=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,d.aZ)(a),(0,s.useCallback)((e=>{if(!a)return;const t=new URLSearchParams(n.location.search);t.set(a,e),n.replace({...n.location,search:t.toString()})}),[a,n])]}function f(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,a=h(e),[i,d]=(0,s.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:t,tabValues:a}))),[l,u]=b({queryString:r,groupId:n}),[f,x]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,a]=(0,c.Dv)(r);return[n,(0,s.useCallback)((e=>{r&&a.set(e)}),[r,a])]}({groupId:n}),g=(()=>{const e=l??f;return p({value:e,tabValues:a})?e:null})();(0,o.A)((()=>{g&&d(g)}),[g]);return{selectedValue:i,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),x(e)}),[u,x,a]),tabValues:a}}var x=r(92303);const g={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var m=r(74848);function j(e){let{className:t,block:r,selectedValue:s,selectValue:i,tabValues:o}=e;const d=[],{blockElementScrollPositionUntilNextRender:l}=(0,a.a_)(),c=e=>{const t=e.currentTarget,r=d.indexOf(t),n=o[r].value;n!==s&&(l(t),i(n))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=d.indexOf(e.currentTarget)+1;t=d[r]??d[0];break}case"ArrowLeft":{const r=d.indexOf(e.currentTarget)-1;t=d[r]??d[d.length-1];break}}t?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":r},t),children:o.map((e=>{let{value:t,label:r,attributes:a}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,ref:e=>d.push(e),onKeyDown:u,onClick:c,...a,className:(0,n.A)("tabs__item",g.tabItem,a?.className,{"tabs__item--active":s===t}),children:r??t},t)}))})}function y(e){let{lazy:t,children:r,selectedValue:n}=e;const a=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=a.find((e=>e.props.value===n));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:a.map(((e,t)=>(0,s.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function v(e){const t=f(e);return(0,m.jsxs)("div",{className:(0,n.A)("tabs-container",g.tabList),children:[(0,m.jsx)(j,{...t,...e}),(0,m.jsx)(y,{...t,...e})]})}function w(e){const t=(0,x.A)();return(0,m.jsx)(v,{...e,children:u(e.children)},String(t))}},19365:(e,t,r)=>{r.d(t,{A:()=>i});r(96540);var s=r(34164);const n={tabItem:"tabItem_Ymn6"};var a=r(74848);function i(e){let{children:t,hidden:r,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,s.A)(n.tabItem,i),hidden:r,children:t})}},41724:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>b,frontMatter:()=>d,metadata:()=>c,toc:()=>h});var s=r(74848),n=r(28453),a=r(34028),i=(r(26393),r(11470)),o=r(19365);const d={title:"Braze",description:"Integrate Braze with Adapty for seamless customer engagement and push notifications.",metadataTitle:"Braze Integration Guide | Adapty Docs"},l=void 0,c={id:"braze",title:"Braze",description:"Integrate Braze with Adapty for seamless customer engagement and push notifications.",source:"@site/versioned_docs/version-3.0/braze.md",sourceDirName:".",slug:"/braze",permalink:"/docs/braze",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Braze",description:"Integrate Braze with Adapty for seamless customer engagement and push notifications.",metadataTitle:"Braze Integration Guide | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Messaging service integrations",permalink:"/docs/messaging"},next:{title:"OneSignal",permalink:"/docs/onesignal"}},u={},h=[{value:"How to set up Braze integration",id:"how-to-set-up-braze-integration",level:2},{value:"Events, user attributes and purchases",id:"events-user-attributes-and-purchases",level:2},{value:"SDK Configuration",id:"sdk-configuration",level:2}];function p(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["As one of the top customer engagement solutions, ",(0,s.jsx)(t.a,{href:"https://braze.com/",children:"Braze"})," provides a wide range of tools for push notifications, email, SMS, and in-app messaging. By integrating Adapty with Braze, you can easily access all of your subscription events in one place, giving you the ability to trigger automated communication based on those events."]}),"\n",(0,s.jsxs)(t.p,{children:["Adapty provides a complete set of data that lets you track ",(0,s.jsx)(t.a,{href:"events",children:"subscription events"})," from all stores in one place and can be used to update your users' profiles in Braze. With Adapty, you can easily see how your subscribers are behaving, learn what they like, and use that information to communicate with them in a way that's targeted and effective. Therefore, this integration allows you to track subscription events in your Braze dashboard and map them with your ",(0,s.jsx)(t.a,{href:"https://www.braze.com/product/braze-canvas-flow",children:"acquisition campaigns."})]}),"\n",(0,s.jsx)(t.p,{children:"Adapty sends subscription events, user properties and purchases over to Braze, so you can build target communication with customers using Braze push notifications after a short and easy integration as described below."}),"\n",(0,s.jsx)(t.h2,{id:"how-to-set-up-braze-integration",children:"How to set up Braze integration"}),"\n",(0,s.jsxs)(t.p,{children:["To integrate Braze go to ",(0,s.jsx)(t.a,{href:"https://app.adapty.io/integrations/braze",children:"Integrations -> Braze"}),", switch on the toggle, and fill out the fields."]}),"\n",(0,s.jsxs)(t.p,{children:["The initial step of the integration process is to provide the necessary credentials to establish a connection between your Braze and Adapty profiles. You will need the ",(0,s.jsx)(t.strong,{children:"REST API Key"}),", your ",(0,s.jsx)(t.strong,{children:"Braze Instance ID"}),", and ",(0,s.jsx)(t.strong,{children:"App IDs"})," for iOS and Android for the integration to work properly:"]}),"\n",(0,s.jsx)(a.A,{children:(0,s.jsx)("img",{src:r(60944).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"REST API Key"})," can be created in ",(0,s.jsx)(t.strong,{children:"Braze Dashboard"})," \u2192 ",(0,s.jsx)(t.strong,{children:"Settings"})," \u2192 ",(0,s.jsx)(t.strong,{children:"API Keys"}),". Make sure your key has a ",(0,s.jsx)(t.code,{children:"users.track"})," permission when creating it:"]}),"\n"]}),"\n",(0,s.jsx)(a.A,{children:(0,s.jsx)("img",{src:r(48636).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(a.A,{children:(0,s.jsx)("img",{src:r(83449).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["To get ",(0,s.jsx)(t.strong,{children:"Braze Instance ID"})," note your Braze Dashboard URL and go to the section of ",(0,s.jsx)(t.a,{href:"https://www.braze.com/docs/api/basics/#endpoints",children:"Braze Docs"})," where the instance ID is specified. It should have a regional form such as US-03, EU-01, etc."]}),"\n",(0,s.jsx)(t.li,{children:"iOS and Android App IDs can be found in Braze Dashboard \u2192 Settings \u2192 API Keys as well. Copy them from here:"}),"\n"]}),"\n",(0,s.jsx)(a.A,{children:(0,s.jsx)("img",{src:r(53352).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.h2,{id:"events-user-attributes-and-purchases",children:"Events, user attributes and purchases"}),"\n",(0,s.jsxs)(t.p,{children:["Below the credentials, there are three groups of events you can send to Braze from Adapty. Simply turn on the ones you need. You may also change the names of the events as you need to send it to Braze. Check the full list of the Events offered by Adapty ",(0,s.jsx)(t.a,{href:"events",children:"here"}),":"]}),"\n",(0,s.jsx)(a.A,{children:(0,s.jsx)("img",{src:r(94575).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,s.jsx)(t.p,{children:"Adapty will send subscription events and user attributes to Braze using a server-to-server integration, allowing you to view it in your Braze Dashboard and configure campaigns based on that."}),"\n",(0,s.jsx)(t.p,{children:"For events that have revenue, such as trial conversions and renewals, Adapty will send this info to Braze as purchases."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"messaging#event-properties",children:"Here"})," you can find the complete specifications for the event properties sent to Braze."]}),"\n",(0,s.jsxs)(t.admonition,{type:"note",children:[(0,s.jsx)(t.p,{children:"Helpful user attributes"}),(0,s.jsx)(t.p,{children:"Adapty sends some user attributes for Braze integration by default. You can refer to the list of them provided below to determine which is best suited for your needs."})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"User attribute"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"adapty_customer_user_id"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Contains the value of the unique identifier of the user defined by the customer. Can be found both in the Adapty ",(0,s.jsx)(t.a,{href:"profiles-crm",children:"Dashboard"})," and in Braze."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"adapty_profile_id"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["Contains the value of the unique identifier Adapty User Profile ID of the user, which can be found in the Adapty ",(0,s.jsx)(t.a,{href:"profiles-crm",children:"Dashboard"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"environment"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"Indicates whether the user is operating in a sandbox or production environment."}),(0,s.jsx)("p",{}),(0,s.jsxs)("p",{children:["Values are either ",(0,s.jsx)(t.code,{children:"Sandbox"})," or ",(0,s.jsx)(t.code,{children:"Production"})]})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"store"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"Contains the name of the Store that used to make the purchase."}),(0,s.jsx)("p",{}),(0,s.jsx)("p",{children:"Possible values:"}),(0,s.jsxs)("p",{children:[(0,s.jsx)(t.code,{children:"app_store"})," or ",(0,s.jsx)(t.code,{children:"play_store"}),"."]})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"vendor_product_id"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"Contains the value of Product Id in Apple/Google store."}),(0,s.jsx)("p",{}),(0,s.jsx)("p",{children:"e.g., org.locals.12345"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"subscription_expires_at"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"Contains the expiration date of the latest subscription."}),(0,s.jsx)("p",{}),(0,s.jsx)("p",{children:"Value format is:"}),(0,s.jsxs)("p",{children:["YYYY-MM-DDTHH:mm",":ss",".SSS+TZ"]}),(0,s.jsx)("p",{children:"e.g., 2023-02-15T17:22:03.000+0000"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"active_subscription"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:["The value will be set to ",(0,s.jsx)(t.code,{children:"true"})," on any purchase/renewal event, or ",(0,s.jsx)(t.code,{children:"false"})," if the subscription is expired."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"period_type"})}),(0,s.jsx)(t.td,{children:"String"}),(0,s.jsxs)(t.td,{children:[(0,s.jsx)("p",{children:"Indicates the latest period type for the purchase or renewal."}),(0,s.jsx)("p",{}),(0,s.jsx)("p",{children:"Possible values are"}),(0,s.jsxs)("p",{children:[(0,s.jsx)(t.code,{children:"trial"})," for a trial period or ",(0,s.jsx)(t.code,{children:"normal"})," for the rest."]})]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"All float values will be rounded to int. Strings stay the same."}),"\n",(0,s.jsxs)(t.p,{children:["In addition to the pre-defined list of tags available, it is possible to send ",(0,s.jsx)(t.a,{href:"segments#custom-attributes",children:"custom attributes"})," using tags. This allows for more flexibility in the type of data that can be included with the tag and can be useful for tracking specific information related to a product or service. All custom user attributes are sent automatically to Braze if the user marks the ** Send user attributes** checkbox from ",(0,s.jsx)(t.a,{href:"https://app.adapty.io/integrations/braze",children:"the integration page"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"sdk-configuration",children:"SDK Configuration"}),"\n",(0,s.jsxs)(t.p,{children:["To link user profiles in Adapty and Braze you need to either configure Braze SDK with the same customer user ID as Adapty or use its ",(0,s.jsx)(t.code,{children:".changeUser()"})," method:"]}),"\n",(0,s.jsxs)(i.A,{groupId:"current-os",queryString:!0,children:[(0,s.jsx)(o.A,{value:"swift",label:"iOS (Swift)",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-swift",metastring:"showLineNumbers",children:'let braze = Braze(configuration: configuration)\nbraze.changeUser(userId: "adapty_customer_user_id")\n'})})}),(0,s.jsx)(o.A,{value:"kotlin",label:"Android (Kotlin)",default:!0,children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-kotlin",metastring:"showLineNumbers",children:'Braze.getInstance(context).changeUser("adapty_customer_user_id")\n'})})})]})]})}function b(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}},48636:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/b5fdf16-adapty_braze_create_api_key-93e35be02233825e5bcfa16d6dd72633.webp"},53352:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/1e6d21b-adapty_braze_app_ids-50ad7b827fe779f390127fe7eb2f3bff.webp"},60944:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/5f1e62c-adapty_braze-2e193d0fca28174591ef585115a07111.webp"},83449:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/1e5b4b8-adapty_braze_api_key_users_track-a3569be10cb3ecc94c8b2c32dcd73327.webp"},94575:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/702e628-adapty_braze_events_names-350370eb1bec3c7e2aafcee3b0089adb.webp"}}]);