"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[8363],{11470:(e,t,r)=>{r.d(t,{A:()=>w});var i=r(96540),n=r(34164),o=r(23104),a=r(56347),l=r(205),d=r(57485),s=r(31682),c=r(70679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:r}=e;return(0,i.useMemo)((()=>{const e=t??function(e){return u(e).map((e=>{let{props:{value:t,label:r,attributes:i,default:n}}=e;return{value:t,label:r,attributes:i,default:n}}))}(r);return function(e){const t=(0,s.X)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,r])}function f(e){let{value:t,tabValues:r}=e;return r.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:r}=e;const n=(0,a.W6)(),o=function(e){let{queryString:t=!1,groupId:r}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:t,groupId:r});return[(0,d.aZ)(o),(0,i.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(n.location.search);t.set(o,e),n.replace({...n.location,search:t.toString()})}),[o,n])]}function y(e){const{defaultValue:t,queryString:r=!1,groupId:n}=e,o=p(e),[a,d]=(0,i.useState)((()=>function(e){let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:o}))),[s,u]=h({queryString:r,groupId:n}),[y,m]=function(e){let{groupId:t}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(t),[n,o]=(0,c.Dv)(r);return[n,(0,i.useCallback)((e=>{r&&o.set(e)}),[r,o])]}({groupId:n}),b=(()=>{const e=s??y;return f({value:e,tabValues:o})?e:null})();(0,l.A)((()=>{b&&d(b)}),[b]);return{selectedValue:a,selectValue:(0,i.useCallback)((e=>{if(!f({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),m(e)}),[u,m,o]),tabValues:o}}var m=r(92303);const b={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var g=r(74848);function x(e){let{className:t,block:r,selectedValue:i,selectValue:a,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:s}=(0,o.a_)(),c=e=>{const t=e.currentTarget,r=d.indexOf(t),n=l[r].value;n!==i&&(s(t),a(n))},u=e=>{let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=d.indexOf(e.currentTarget)+1;t=d[r]??d[0];break}case"ArrowLeft":{const r=d.indexOf(e.currentTarget)-1;t=d[r]??d[d.length-1];break}}t?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,n.A)("tabs",{"tabs--block":r},t),children:l.map((e=>{let{value:t,label:r,attributes:o}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===t?0:-1,"aria-selected":i===t,ref:e=>d.push(e),onKeyDown:u,onClick:c,...o,className:(0,n.A)("tabs__item",b.tabItem,o?.className,{"tabs__item--active":i===t}),children:r??t},t)}))})}function j(e){let{lazy:t,children:r,selectedValue:n}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(t){const e=o.find((e=>e.props.value===n));return e?(0,i.cloneElement)(e,{className:"margin-top--md"}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:o.map(((e,t)=>(0,i.cloneElement)(e,{key:t,hidden:e.props.value!==n})))})}function P(e){const t=y(e);return(0,g.jsxs)("div",{className:(0,n.A)("tabs-container",b.tabList),children:[(0,g.jsx)(x,{...t,...e}),(0,g.jsx)(j,{...t,...e})]})}function w(e){const t=(0,m.A)();return(0,g.jsx)(P,{...e,children:u(e.children)},String(t))}},13536:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>d,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var i=r(74848),n=r(28453),o=r(11470),a=r(19365);const l={title:"What's new in Adapty SDK 2.6",description:"Discover the latest features and improvements in Adapty SDK 2.6.",metadataTitle:"What's New in Adapty SDK 2.6 | Adapty Docs"},d=void 0,s={id:"whats-new-in-adapty-sdk-26",title:"What's new in Adapty SDK 2.6",description:"Discover the latest features and improvements in Adapty SDK 2.6.",source:"@site/versioned_docs/version-3.0/whats-new-in-adapty-sdk-26.md",sourceDirName:".",slug:"/whats-new-in-adapty-sdk-26",permalink:"/docs/whats-new-in-adapty-sdk-26",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"What's new in Adapty SDK 2.6",description:"Discover the latest features and improvements in Adapty SDK 2.6.",metadataTitle:"What's New in Adapty SDK 2.6 | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Migration guide to Adapty SDK v.3.0",permalink:"/docs/migration-to-adapty-sdk-v3"},next:{title:"What is Adapty plugin for FlutterFlow",permalink:"/docs/flutterflow"}},c={},u=[{value:"Android SDK",id:"android-sdk",level:3},{value:"Cross-platform SDKs migration",id:"cross-platform-sdks-migration",level:3},{value:"Determine introductory offer eligibility",id:"determine-introductory-offer-eligibility",level:4},{value:"Adapty SDK 2.4.x and older:",id:"adapty-sdk-24x-and-older",level:5},{value:"Adapty SDK 2.6.0 and newer:",id:"adapty-sdk-260-and-newer",level:5},{value:"Displaying product and offers",id:"displaying-product-and-offers",level:4},{value:"Adapty SDK 2.4.x and older:",id:"adapty-sdk-24x-and-older-1",level:5},{value:"Adapty SDK 2.6.0 and newer:",id:"adapty-sdk-260-and-newer-1",level:5}];function p(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["\ud83d\udca1 If you are migrating from Adapty SDK 1.x.x, we recommend you to read ",(0,i.jsx)(t.a,{href:"whats-new-in-adapty-sdk-20",children:"What's new in Adapty SDK 2.0"})," article first."]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"android-sdk",children:"Android SDK"}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"Don't forget to configure offers in Google Play Console in Adapty"}),(0,i.jsxs)(t.p,{children:["Google Billing Library v5 and v6 changed the way offers work. Be sure to follow ",(0,i.jsx)(t.a,{href:"google-play-offers",children:"Google Play offers"})," guide to configure them properly."]})]}),"\n",(0,i.jsxs)(t.p,{children:["With the release of Adapty SDK version 2.6.1, we are excited to announce support for ",(0,i.jsx)(t.a,{href:"https://developer.android.com/google/play/billing/compatibility"}),". This update includes several improvements and additions to the public API for the native ",(0,i.jsx)(t.a,{href:"sdk-installation-android",children:"Android"}),", ",(0,i.jsx)(t.a,{href:"sdk-installation-flutter",children:"Flutter"}),", ",(0,i.jsx)(t.a,{href:"sdk-installation-reactnative",children:"React Native"}),". ",(0,i.jsx)(t.a,{href:"sdk-installation-unity",children:"Unity SDK"})," also supports the new versions of billing library but starting with ",(0,i.jsx)(t.a,{href:"https://github.com/adaptyteam/AdaptySDK-Unity/releases/tag/2.7.0",children:"2.7.0"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"Here are the key changes and enhancements:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Unified subscription details:"})," We have removed separate properties for free trials on Android to provide a more streamlined experience.** Instead, we have introduced an optional ",(0,i.jsx)(t.code,{children:"subscriptionDetails"})," ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-paywall-product/subscription-details",children:"property"}),"  that consolidates  all subscription-related properties. **It includes an ",(0,i.jsx)(t.code,{children:"introductoryOfferPhases"})," ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-product-subscription-details/introductory-offer-phases",children:"property"}),", which is a list that can contain up to two phases: the free trial phase and the introductory price phase."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{style:{textAlign:"left"}}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"Before (Kotlin)"}),(0,i.jsx)(t.th,{style:{textAlign:"left"},children:"After (Kotlin)"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Checking discount offer eligibility"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.introductoryOfferEligibility == AdaptyEligibility.ELIGIBLE"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.subscriptionDetails?.introductoryOfferEligibility == AdaptyEligibility.ELIGIBLE"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Introductory price info"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.introductoryDiscount"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.subscriptionDetails?.introductoryOfferPhases?.firstOrNull { it.paymentMode in listOf(PaymentMode.PAY_UPFRONT, PaymentMode.PAY_AS_YOU_GO) }"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Free trial info"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.freeTrialPeriod"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.subscriptionDetails?.introductoryOfferPhases?.firstOrNull { it.paymentMode == PaymentMode.FREE_TRIAL }?.subscriptionPeriod"})})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{style:{textAlign:"left"},children:"Free trial info (localized)"}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.localizedFreeTrialPeriod"})}),(0,i.jsx)(t.td,{style:{textAlign:"left"},children:(0,i.jsx)(t.code,{children:"product.subscriptionDetails?.introductoryOfferPhases?.firstOrNull { it.paymentMode == PaymentMode.FREE_TRIAL }?.localizedSubscriptionPeriod"})})]})]})]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Payment mode for discounts:"})," To align with iOS, we have added the ",(0,i.jsx)(t.code,{children:"paymentMode"})," property to the ",(0,i.jsx)(t.code,{children:"AdaptyProductDiscountPhase"})," ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-product-discount-phase/",children:"entity"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Renewal type for subscriptions:"})," We have introduced the ",(0,i.jsx)(t.code,{children:"renewalType"})," property in the ",(0,i.jsx)(t.code,{children:"AdaptyProductSubscriptionDetails"})," ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-product-subscription-details/",children:"entity"})," to accommodate the two types of subscriptions available on Google Play: auto-renewable and prepaid."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Price entity updates:"})," The ",(0,i.jsx)(t.code,{children:"price"}),", ",(0,i.jsx)(t.code,{children:"localizedPrice"}),", ",(0,i.jsx)(t.code,{children:"currencyCode"})," and ",(0,i.jsx)(t.code,{children:"currencySymbol"})," properties have been moved from ",(0,i.jsx)(t.code,{children:"AdaptyPaywallProduct"})," to a new ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-paywall-product/-price/",children:"entity"})," called ",(0,i.jsx)(t.code,{children:"Price"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"SKU details update:"})," The ",(0,i.jsx)(t.code,{children:"skuDetails"})," property in ",(0,i.jsx)(t.code,{children:"AdaptyPaywallProduct"})," has been renamed to ",(0,i.jsx)(t.code,{children:"productDetails"})," to reflect the use of original product entities from Google."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Eligibility status update:"})," In ",(0,i.jsx)(t.code,{children:"AdaptyEligibility"}),", we have replaced the ",(0,i.jsx)(t.code,{children:"UNKNOWN "}),"value with ",(0,i.jsx)(t.code,{children:"NOT_APPLICABLE"}),". The latter is used for products that cannot contain offers, such as ",(0,i.jsx)(t.code,{children:"prepaid"})," products in the Google Play console."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Personalized offers"}),": We have added a boolean parameter ",(0,i.jsx)(t.code,{children:"isOfferPersonalized"})," to ",(0,i.jsx)(t.code,{children:"makePurchase()"}),", with a default value of false. For more information, refer to the following ",(0,i.jsx)(t.a,{href:"https://developer.android.com/google/play/billing/integrate#personalized-price",children:"documentation"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Offer identification:"})," The ",(0,i.jsx)(t.code,{children:"offerId"})," property has been added to the ",(0,i.jsx)(t.code,{children:"AccessLevel"})," and ",(0,i.jsx)(t.code,{children:"Subscription"})," entities in ",(0,i.jsx)(t.code,{children:"AdaptyProfile"}),". It is an optional field that represents the discount offer ID from Google Play. Additionally, we want to draw your attention to the fact that the ",(0,i.jsx)(t.code,{children:"vendorProductId"})," in these entities may contain either ",(0,i.jsx)(t.code,{children:"productId"})," only or ",(0,i.jsx)(t.code,{children:"productId:basePlanId"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Replacement mode:"})," We have renamed ",(0,i.jsx)(t.code,{children:"ProrationMode"})," to ",(0,i.jsx)(t.code,{children:"ReplacementMode"}),", and the ",(0,i.jsx)(t.a,{href:"https://kotlin.adapty.io/adapty/com.adapty.models/-adapty-subscription-update-parameters/-replacement-mode/",children:"constants"})," have been adjusted to align with Google's standards."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["For more detailed information and step-by-step guides on adding products and base plans to the Google Play Store, refer to our ",(0,i.jsx)(t.a,{href:"android-products",children:"documentation"}),"."]}),"\n",(0,i.jsx)(t.p,{children:"We hope these updates enhance your experience with Adapty SDK and the integration with Google's new billing system."}),"\n",(0,i.jsx)(t.h3,{id:"cross-platform-sdks-migration",children:"Cross-platform SDKs migration"}),"\n",(0,i.jsx)(t.h4,{id:"determine-introductory-offer-eligibility",children:"Determine introductory offer eligibility"}),"\n",(0,i.jsx)(t.h5,{id:"adapty-sdk-24x-and-older",children:"Adapty SDK 2.4.x and older:"}),"\n",(0,i.jsxs)(o.A,{groupId:"current-os",queryString:!0,children:[(0,i.jsx)(a.A,{value:"flutter",label:"Flutter",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"// Adapty 2.4.x and older\n\ntry {\n  final products = await Adapty().getPaywallProducts(paywall: paywall);\n  final product = products[0]; // don't forget to check products count before accessing\n  \n  if (product.introductoryOfferEligibility == AdaptyEligibility.eligible) {\n    // display offer\n  } else if (product.introductoryOfferEligibility == AdaptyEligibility.ineligible) {\n    // user is not eligible for this offer\n  } else {\n    // Adapty SDK wasn't able to determine eligibility at this step\n    // Refetch products with .waitForReceiptValidation policy:\n    final products = await adapty.getPaywallProducts(\n      paywall: paywall,\n      fetchPolicy: AdaptyIOSProductsFetchPolicy.waitForReceiptValidation,\n    );\n    \n    // if there wasn't error, elegibility should be eligible or ineligible.\n  }\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n  // handle the error\n}\n"})})}),(0,i.jsx)(a.A,{value:"unity",label:"Unity",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"// Adapty 2.4.x and older\n\nAdapty.GetPaywallProducts(paywall, (products, error) => {\n  var product = products[0]; // don't forget to check products count and error before accessing\n\n  if (product.IntroductoryOfferEligibility == Adapty.Eligibility.Eligible) {\n    // display offer\n  } else if (product.IntroductoryOfferEligibility == Adapty.Eligibility.Ineligible) {\n    // user is not eligible for this offer\n  } else {\n    // Adapty SDK wasn't able to determine eligibility at this step\n    // Refetch products with .WaitForReceiptValidation policy:\n    Adapty.GetPaywallProducts(paywall, IOSProductsFetchPolicy.WaitForReceiptValidation, (products, error) => {\n      // if there wasn't error, elegibility should be eligible or ineligible.\n    });\n  }\n});\n"})})}),(0,i.jsx)(a.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"// Adapty 2.4.x and older\n\nimport {adapty,OfferEligibility} from 'react-native-adapty';\n\nconst products = await adapty.getPaywallProducts(paywall);\nconst product = products[0]; // or any other product\n\nswitch (product.introductoryOfferEligibility) {\n  case OfferEligibility.Eligible:\n    // display offer\n  case OfferEligibility.Ineligible:\n    // user is not eligible for this offer\n  case OfferEligibility.Unknown:\n    // Adapty SDK wasn't able to determine eligibility at this step\n    // Refetch products with 'waitForReceiptValidation' policy:   \n}\n"})})})]}),"\n",(0,i.jsx)(t.h5,{id:"adapty-sdk-260-and-newer",children:"Adapty SDK 2.6.0 and newer:"}),"\n",(0,i.jsxs)(o.A,{groupId:"current-os",queryString:!0,children:[(0,i.jsx)(a.A,{value:"flutter",label:"Flutter",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\ntry {\n  final products = await Adapty().getPaywallProducts(paywall: paywall);\n  // at this step you can display products\n  // but you shouldn't display offers as eligibilities are not determined yet\n  \n  final eligibilities = await Adapty().getProductsIntroductoryOfferEligibility(products: products);\n  final introEligibility = eligibilities[\"your_product_id\"];\n  \n  switch (introEligibility) {\n    case AdaptyEligibility.eligible:\n      // display offer\n      break;\n    default:\n      // don't display offer\n      break;\n    }\n} on AdaptyError catch (adaptyError) {\n  // handle the error\n} catch (e) {\n  // handle the error\n}\n"})})}),(0,i.jsx)(a.A,{value:"unity",label:"Unity",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\nAdapty.GetPaywallProducts(paywall, (products, error) => {\n  // at this step you can display products              \n  // but you shouldn't display offers as eligibilities are not determined yet\n\n  Adapty.GetProductsIntroductoryOfferEligibility(products, (eligibilities, error) => {\n    var introEligibility = eligibilities[\"your_product_id\"];\n    switch (introEligibility) {\n      case Eligibility.Eligible:\n        // display offer\n        break;\n      default:\n        // don't display offer\n        break;\n     }\n  });\n});\n"})})}),(0,i.jsx)(a.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\nimport {adapty,OfferEligibility} from 'react-native-adapty';\n\nconst products = await adapty.getPaywallProducts(paywall);\nconst eligibilityMap = await adapty.getProductsIntroductoryOfferEligibility(products);\n\nconst introEligibility = eligibilityMap[\"your_product_id\"];\n\nif (intoEligibility === OfferEligibility.Eligible) {\n  // display offer\n  return;\n}\n// user is not eligible\n"})})})]}),"\n",(0,i.jsx)(t.h4,{id:"displaying-product-and-offers",children:"Displaying product and offers"}),"\n",(0,i.jsx)(t.h5,{id:"adapty-sdk-24x-and-older-1",children:"Adapty SDK 2.4.x and older:"}),"\n",(0,i.jsxs)(o.A,{groupId:"current-os",queryString:!0,children:[(0,i.jsx)(a.A,{value:"flutter",label:"Flutter",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"// Adapty 2.4.x and older\n\ntry {\n  final products = await Adapty().getPaywallProducts(paywall: paywall);\n  final product = products[0];\n\n  final titleString = product.localizedTitle;\n  final priceString = product.localizedPrice;\n\n  // Introductory Offer\n  final introductoryDiscount = product.introductoryDiscount;\n  \n  if (introductoryDiscount != null) {\n    final introPrice = introductoryDiscount.localizedPrice;\n    final introPeriod = introductoryDiscount.localizedSubscriptionPeriod;\n    final introNumberOfPeriods = introductoryDiscount.localizedNumberOfPeriods;\n  }\n\n  // Free Trial for Android\n  final freeTrialPeriod = product.freeTrialPeriod;\n  final localizedFreeTrialPeriod = product.localizedFreeTrialPeriod;\n  \n  // Promo Offer for iOS\xa1\n  final promoOfferId = product.promotionalOfferId;\n  final promoDisount = product.discounts.firstWhere((element) => element.identifier == promoOfferId);\n  \n  if (promoDisount != null) {\n    final promoPrice = promoDisount.localizedPrice;\n    final promoPeriod = promoDisount.localizedSubscriptionPeriod;\n    final promoNumberOfPeriods = promoDisount.localizedNumberOfPeriods;\n  }\n} on AdaptyError catch (adaptyError) {\n    // handle the error\n} catch (e) {\n    // handle the error\n}\n"})})}),(0,i.jsx)(a.A,{value:"unity",label:"Unity",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"// Adapty 2.4.0+\n\nAdapty.GetPaywallProducts(paywall, (products, error) => {\n  // Do not forget to check arrays lenghts and nullable properties!\n\n  var product = products[0];\n\n  var titleString = product.LocalizedTitle;\n  var priceString = product.LocalizedPrice;\n\n  // Introductory Offer\n  var introductoryDiscount = product.IntroductoryDiscount;\n\n  if (introductoryDiscount != null) {\n    var introPrice = introductoryDiscount.LocalizedPrice;\n    var introPeriod = introductoryDiscount.LocalizedSubscriptionPeriod;\n    var introNumberOfPeriods = introductoryDiscount.LocalizedNumberOfPeriods;\n  }\n\n  // Free Trial for Android\n  var freeTrialPeriod = product.AndroidFreeTrialPeriod;\n  var localizedFreeTrialPeriod = product.AndroidLocalizedFreeTrialPeriod;\n\n  // Promo Offer for iOS\n  var promoOfferId = product.PromotionalOfferId;\n  ProductDiscount promoDisount = null;\n\n  foreach (var discount in product.Discounts) {\n    if (discount.Identifier == promoOfferId) {\n      promoDisount = discount;\n      break;\n    }\n  }\n\n  if (promoDisount != null) {\n    var promoPrice = promoDisount.LocalizedPrice;\n    var promoPeriod = promoDisount.LocalizedSubscriptionPeriod;\n    var promoNumberOfPeriods = promoDisount.LocalizedNumberOfPeriods;\n  }\n});\n"})})}),(0,i.jsx)(a.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"// Adapty 2.4.x and older\n\nimport {adapty} from 'adapty';\n\nconst paywall = await adapty.getPaywall('MY_PAYWALL');\nconst products = await adapty.getPaywallProducts(paywall);\nconst product = products[0]; // or any filter\n\nconst title = product.localizedTitle;\nconst price = product.localizedPrice;\n\n// Introductory offer\nconst introDiscount = product.introductoryDiscount;\nif (introDiscount) {\n  const introPrice = introDiscount.localizedPrice;\n  const introPeriod = introDiscount.localizedSubscriptionPeriod;\n  const introNumberOfPeriods = introDiscount.localizedNumberOfPeriods;\n}\n\n// Free Trial for Android\nconst freeTrialPeriod = product.android?.freeTrialPeriod;\nconst localizedFreeTrialPeriod = product.android?.localizedFreeTrialPeriod;\n\n// iOS Promo Offer\nconst promoOfferId = product.ios?.promotionalOfferId;\nconst promoDiscount = product.ios?.discounts.find(\n  discount => discount.ios?.identifier === promoOfferId,\n);\nif (promoDiscount) {\n  const promoPrice = promoDiscount.localizedPrice;\n  const promoPeriod = promoDiscount.localizedSubscriptionPeriod;\n  const promoNumberOfPeriods = promoDiscount.localizedNumberOfPeriods;\n}\n\n"})})})]}),"\n",(0,i.jsx)(t.h5,{id:"adapty-sdk-260-and-newer-1",children:"Adapty SDK 2.6.0 and newer:"}),"\n",(0,i.jsxs)(o.A,{groupId:"current-os",queryString:!0,children:[(0,i.jsx)(a.A,{value:"flutter",label:"Flutter",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-javascript",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\ntry {\n  final products = await Adapty().getPaywallProducts(paywall: paywall);\n  final product = products[0];\n\n  final titleString = product.localizedTitle;\n  final priceString = product.localizedPrice;\n\n  // It is possible to have more than one introductory offer (e.g. on Android)\n  final introductoryOffer = product.subscriptionDetails?.introductoryOffer.first;\n  \n  if (introductoryOffer != null) {\n    final introPrice = introductoryOffer.price.localizedString;\n    final introPeriod = introductoryOffer.localizedSubscriptionPeriod;\n    final introNumberOfPeriods = introductoryOffer.localizedNumberOfPeriods;\n  }\n\n  // Promo Offer\n  final promotionalOfferEligibility = product.subscriptionDetails?.promotionalOfferEligibility ?? false;\n  final promotionalOffer = product.subscriptionDetails?.promotionalOffer;\n        \n  if (promotionalOfferEligibility && promotionalOffer != null) {\n    final promoPrice = promotionalOffer.price.localizedString;\n    final promoPeriod = promotionalOffer.localizedSubscriptionPeriod;\n    final promoNumberOfPeriods = promotionalOffer.localizedNumberOfPeriods;\n  }\n} on AdaptyError catch (adaptyError) {\n    // handle the error\n} catch (e) {\n    // handle the error\n}\n"})})}),(0,i.jsx)(a.A,{value:"unity",label:"Unity",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-csharp",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\nAdapty.GetPaywallProducts(paywall, (products, error) => {\n  // Do not forget to check arrays lenghts and nullable properties!\n  \n  var product = products[0];\n\n  var titleString = product.LocalizedTitle;\n  var priceString = product.Price.LocalizedString;\n\n  // It is possible to have more than one introductory offer (e.g. on Android)\n  var introductoryOffer = product.SubscriptionDetails.IntroductoryOffer[0];\n\n  if (introductoryOffer != null) {\n    var introPrice = introductoryOffer.Price.LocalizedString;\n    var introPeriod = introductoryOffer.LocalizedSubscriptionPeriod;\n    var introNumberOfPeriods = introductoryOffer.LocalizedNumberOfPeriods;\n  }\n\n  // Promo Offer\n  var promotionalOfferEligibility = product.SubscriptionDetails.PromotionalOfferEligibility;\n  var promotionalOffer = product.SubscriptionDetails.PromotionalOffer;\n\n  if (promotionalOfferEligibility && promotionalOffer != null) {\n    var promoPrice = promotionalOffer.Price.LocalizedString;\n    var promoPeriod = promotionalOffer.LocalizedSubscriptionPeriod;\n    var promoNumberOfPeriods = promotionalOffer.LocalizedNumberOfPeriods;\n  }\n});\n"})})}),(0,i.jsx)(a.A,{value:"rn",label:"React Native (TS)",default:!0,children:(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",metastring:"showLineNumbers",children:"// Adapty 2.6.0+\n\nimport {adapty} from 'react-native-adapty';\n\nconst paywall = await adapty.getPaywall('MY_PAYWALL');\nconst products = await adapty.getPaywallProducts(paywall);\nconst product = products[0]; // or any filter\n\nconst title = product?.localizedTitle;\nconst price = product?.localizedDescription;\n\n// It is possible to have more than one introductory offer (e.g. on Android)\nconst introductoryOffer =\n  product?.subscriptionDetails?.introductoryOffers?.find(\n    (offer, index) => index === 0,\n  );\nif (introductoryOffer) {\n  const introPrice = introductoryOffer.price.localizedString;\n  const introPeriod = introductoryOffer.localizedSubscriptionPeriod;\n  const introNumberOfPeriods = introductoryOffer.localizedNumberOfPeriods;\n}\n\n// Promo Offer\nconst promotionalOffer = product?.subscriptionDetails?.ios?.promotionalOffer;\n\nif (promotionalOffer) {\n  const promoPrice = promotionalOffer.price.localizedString;\n  const promoPeriod = promotionalOffer.localizedSubscriptionPeriod;\n  const promoNumberOfPeriods = promotionalOffer.localizedNumberOfPeriods;\n}\n\n"})})})]})]})}function f(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},19365:(e,t,r)=>{r.d(t,{A:()=>a});r(96540);var i=r(34164);const n={tabItem:"tabItem_Ymn6"};var o=r(74848);function a(e){let{children:t,hidden:r,className:a}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(n.tabItem,a),hidden:r,children:t})}}}]);