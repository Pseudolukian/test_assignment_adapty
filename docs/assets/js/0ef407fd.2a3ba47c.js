"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[1353],{39908:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/baa5998-CleanShot_2023-08-21_at_14.55.542x-6cb19020074d701e650a69d438b5b21a.webp"},45919:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/ec183b2-kdjsfldsfjkdsfdfd-08fa941da125c334da1cb7602eaf9643.webp"},63587:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/asa-disable-88f49766a1ac9c061467babd9269c823.webp"},66807:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>d,toc:()=>l});var i=a(74848),s=a(28453),n=a(34028);a(26393);const r={title:"Apple Search Ads (ASA)",description:"Integrate Apple Search Ads with Adapty to optimize subscription conversions.",metadataTitle:"Apple Search Ads Integration | Adapty Docs"},o=void 0,d={id:"apple-search-ads",title:"Apple Search Ads (ASA)",description:"Integrate Apple Search Ads with Adapty to optimize subscription conversions.",source:"@site/versioned_docs/version-3.0/apple-search-ads.md",sourceDirName:".",slug:"/apple-search-ads",permalink:"/test_assignment_adapty/docs/apple-search-ads",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Apple Search Ads (ASA)",description:"Integrate Apple Search Ads with Adapty to optimize subscription conversions.",metadataTitle:"Apple Search Ads Integration | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Airbridge",permalink:"/test_assignment_adapty/docs/airbridge"},next:{title:"AppsFlyer",permalink:"/test_assignment_adapty/docs/appsflyer"}},p={},l=[{value:"AdServices framework",id:"adservices-framework",level:2},{value:"Step 1: Configure Info.plist",id:"step-1-configure-infoplist",level:3},{value:"Step 2: Obtain Public Key",id:"step-2-obtain-public-key",level:3},{value:"Step 3: Configure User Management on Apple Search Ads",id:"step-3-configure-user-management-on-apple-search-ads",level:3},{value:"Step 4: Generate API Credentials",id:"step-4-generate-api-credentials",level:3},{value:"Step 5: Configure Adapty with Apple Search Ads Credentials",id:"step-5-configure-adapty-with-apple-search-ads-credentials",level:3},{value:"Uploading your own keys",id:"uploading-your-own-keys",level:2},{value:"Step 1",id:"step-1",level:3},{value:"Step 2",id:"step-2",level:3},{value:"Disabling Apple Search Ads attribution",id:"disabling-apple-search-ads-attribution",level:2}];function c(e){const t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Adapty can help you get attribution data from Apple Search Ads and analyze your metrics with campaign and keyword segmentation. Adapty collects the attribution data for Apple Search Ads automatically through its SDK and AdServices Framework."}),"\n",(0,i.jsx)(t.p,{children:"Once you've set up the Apple Search Ads integration, Adapty will start receiving attribution data from Apple Search Ads. You can easily access and view this data on the profiles page."}),"\n",(0,i.jsx)(n.A,{children:(0,i.jsx)("img",{src:a(78647).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,i.jsx)(t.p,{children:"There are two ways to get attribution: with the old iAd framework and the modern AdServices framework (iOS 14.3+)."}),"\n",(0,i.jsx)(t.h2,{id:"adservices-framework",children:"AdServices framework"}),"\n",(0,i.jsxs)(t.p,{children:["Apple Search Ads via ",(0,i.jsx)(t.a,{href:"https://developer.apple.com/documentation/ad_services",children:"AdServices"})," does require some configuration in Adapty Dashboard, and you will also need to enable it on the app side. To set up Apple Search Ads using the AdServices framework through Adapty, follow these steps:"]}),"\n",(0,i.jsx)(t.h3,{id:"step-1-configure-infoplist",children:"Step 1: Configure Info.plist"}),"\n",(0,i.jsxs)(t.p,{children:["Add ",(0,i.jsx)(t.code,{children:"AdaptyAppleSearchAdsAttributionCollectionEnabled"})," to the app\u2019s ",(0,i.jsx)(t.code,{children:"Info.plist"})," file and set it to ",(0,i.jsx)(t.code,{children:"YES"})," (boolean value)."]}),"\n",(0,i.jsx)(t.h3,{id:"step-2-obtain-public-key",children:"Step 2: Obtain Public Key"}),"\n",(0,i.jsxs)(t.p,{children:["In the Adapty Dashboard, navigate to ",(0,i.jsx)(t.a,{href:"https://app.adapty.io/settings/apple-search-ads",children:"Settings -> Apple Search Ads."}),(0,i.jsx)(t.br,{}),"\n","Locate the pre-generated public key (Adapty provides a key pair for you) and copy it."]}),"\n",(0,i.jsx)(n.A,{children:(0,i.jsx)("img",{src:a(39908).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"If you're using an alternative service or your own solution for Apple Search Ads attribution, you can upload your own private key."})}),"\n",(0,i.jsx)(t.h3,{id:"step-3-configure-user-management-on-apple-search-ads",children:"Step 3: Configure User Management on Apple Search Ads"}),"\n",(0,i.jsxs)(t.p,{children:["In your ",(0,i.jsx)(t.a,{href:"https://searchads.apple.com/",children:"Apple Search Ads account"})," go to Settings > User Management page. In order for Adapty to fetch attribution data you need to invite another Apple ID account and grant it API Account Manager access."]}),"\n",(0,i.jsx)(n.A,{children:(0,i.jsx)("img",{src:a(45919).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,i.jsx)(t.h3,{id:"step-4-generate-api-credentials",children:"Step 4: Generate API Credentials"}),"\n",(0,i.jsx)(t.p,{children:"As a next step, log in to the newly added account in Apple Search Ads. Navigate to Settings -> API in the Apple Search Ads interface. Paste the previously copied public key into the designated field. Generate new API credentials."}),"\n",(0,i.jsx)(t.h3,{id:"step-5-configure-adapty-with-apple-search-ads-credentials",children:"Step 5: Configure Adapty with Apple Search Ads Credentials"}),"\n",(0,i.jsx)(t.p,{children:"Copy the Client ID, Team ID, and Key ID fields from the Apple Search Ads settings. In the Adapty Dashboard, paste these credentials into the corresponding fields."}),"\n",(0,i.jsx)(n.A,{children:(0,i.jsx)("img",{src:a(82383).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,i.jsx)(t.h2,{id:"uploading-your-own-keys",children:"Uploading your own keys"}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"Optional"}),(0,i.jsx)(t.p,{children:"These steps are not required for Apple Search Ads attribution, only for working with other services like Asapty or your own solution."})]}),"\n",(0,i.jsx)(t.p,{children:"You can use your own public-private key pair if you are using other services or own solution for ASA attribution."}),"\n",(0,i.jsx)(t.h3,{id:"step-1",children:"Step 1"}),"\n",(0,i.jsx)(t.p,{children:"Generate private key in Terminal"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-text",metastring:'showLineNumbers title="Text"',children:"openssl ecparam -genkey -name prime256v1 -noout -out private-key.pem\n"})}),"\n",(0,i.jsx)(t.p,{children:"Upload it in Adapty Settings -> Apple Search Ads (Upload private key button)"}),"\n",(0,i.jsx)(t.h3,{id:"step-2",children:"Step 2"}),"\n",(0,i.jsx)(t.p,{children:"Generate public key in Terminal"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-text",metastring:'showLineNumbers title="Text"',children:"openssl ec -in private-key.pem -pubout -out public-key.pem\n"})}),"\n",(0,i.jsx)(t.p,{children:"You can use this public key in your Apple Search Ads settings of account with API Account Manager role. So you can use generated Client ID, Team ID, and Key ID values for Adapty and other services."}),"\n",(0,i.jsx)(t.h2,{id:"disabling-apple-search-ads-attribution",children:"Disabling Apple Search Ads attribution"}),"\n",(0,i.jsx)(t.p,{children:"Adapty can use attribution data in analytics from only one source at a time. If multiple attribution sources are enabled, the system will decide which attribution to use for each device based on the source that provides more fields."}),"\n",(0,i.jsx)(t.p,{children:"For iOS devices, this means non-organic Apple Search Ads attribution will always take priority if it's enabled."}),"\n",(0,i.jsxs)(t.p,{children:["You can disable Apple Search Ads attribution receiving by toggling off the ",(0,i.jsx)(t.strong,{children:"Receive Apple Search Ads attribution in Adapty"})," in the ",(0,i.jsxs)(t.a,{href:"https://app.adapty.io/settings/apple-search-ads",children:[(0,i.jsx)(t.strong,{children:"App Settings"})," -> ",(0,i.jsx)(t.strong,{children:"Apple Search Ads"})," tab"]}),"."]}),"\n",(0,i.jsx)(n.A,{children:(0,i.jsx)("img",{src:a(63587).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,i.jsxs)(t.admonition,{type:"warning",children:[(0,i.jsx)(t.p,{children:"Please note that disabling this will completely stop the reception of ASA analytics. As a result, ASA will no longer be used in analytics or sent to integrations. Additionally, SplitMetrics Acquire and Asapty will cease to function, as they rely on ASA attribution to operate correctly."}),(0,i.jsx)(t.p,{children:"The attribution received before this change will not be affected."})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},78647:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/ba4a3e9-CleanShot_2023-08-21_at_15.14.592x-9836aae33db0dd3a5ea879ee6c17889c.webp"},82383:(e,t,a)=>{a.d(t,{A:()=>i});const i=a.p+"assets/images/7356113-CleanShot_2023-08-21_at_15.08.512x-759fec679a4a2ff9c43b5b0146b74c3f.webp"}}]);