"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[1519],{2769:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Body",id:"body",level:4},{value:"Response example",id:"response-example",level:4}];function d(e){const n={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{}),"\n",(0,t.jsxs)(n.p,{children:["The request failed due to missing or incorrect authorization. Check the ",(0,t.jsx)(n.a,{href:"ss-authorization",children:"Authorization"})," page, paying close attention to the ",(0,t.jsx)(n.strong,{children:"Authorization header"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The request also failed because the specified profile wasn\u2019t found."}),"\n",(0,t.jsx)(n.h4,{id:"body",children:"Body"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"source"}),": (string) Always ",(0,t.jsx)(n.code,{children:"non_field_errors"}),"."]}),(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"errors"}),": A description of the error."]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"error_code"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["Short error name. Always ",(0,t.jsx)(n.code,{children:"not_authenticated"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status_code"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsxs)(n.td,{children:["HTTP status. Always ",(0,t.jsx)(n.code,{children:"401."})]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example",children:"Response example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n  "errors": [\n    {\n      "source": "non_field_errors",\n      "errors": [\n        "Authentication credentials were not provided."\n      ]\n    }\n  ],\n  "error_code": "not_authenticated",\n  "status_code": 401\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},4653:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Body",id:"body",level:4},{value:"Response example",id:"response-example",level:4}];function d(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The request failed because the value of the ",(0,t.jsx)(n.code,{children:"status"})," field is invalid. Please check for typos. The possible values are ",(0,t.jsx)(n.code,{children:"organic"}),", ",(0,t.jsx)(n.code,{children:"non_organic"}),", and ",(0,t.jsx)(n.code,{children:"unknown"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"body",children:"Body"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"source"}),": (string) Always ",(0,t.jsx)(n.code,{children:"status"}),"."]}),(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"errors"}),": A description of the error. In this case,  ",(0,t.jsx)(n.code,{children:"value is not a valid enumeration member; permitted: 'organic', 'non_organic', 'unknown'"})]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"error_code"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["Short error name. Here: ",(0,t.jsx)(n.code,{children:"enum"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status_code"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsxs)(n.td,{children:["HTTP status. Always ",(0,t.jsx)(n.code,{children:"400"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example",children:"Response example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "errors": [\n        {\n            "source": "status",\n            "errors": [\n                "value is not a valid enumeration member; permitted: \'organic\', \'non_organic\', \'unknown\'"\n            ]\n        }\n    ],\n    "error_code": "enum",\n    "status_code": 400\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},6862:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Body",id:"body",level:4},{value:"Response example",id:"response-example",level:4}];function d(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The request failed because the ",(0,t.jsx)(n.code,{children:"variation_ID"})," for the requested paywall couldn\u2019t be found. Check that the ",(0,t.jsx)(n.code,{children:"placement_id"})," you\u2019re requesting exists in the app and that there are no typos in it in your request."]}),"\n",(0,t.jsx)(n.h4,{id:"body",children:"Body"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"source"}),": (string) Always ",(0,t.jsx)(n.code,{children:"bull"}),"."]}),(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"errors"}),": A description of the error. "]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"error_code"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["Short error name. Possible value: ",(0,t.jsx)(n.code,{children:"VARIATION_DOES_NOT_EXIST_ERROR"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status_code"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsxs)(n.td,{children:["HTTP status. Always ",(0,t.jsx)(n.code,{children:"404"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example",children:"Response example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-JSON",metastring:"showLineNumbers",children:'{\n    "errors": [\n        {\n            "source": null,\n            "errors": [\n                "Variation for example_onboarding does not exist."\n            ]\n        }\n    ],\n    "error_code": "VARIATION_DOES_NOT_EXIST_ERROR",\n    "status_code": 404\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},11470:(e,n,r)=>{r.d(n,{A:()=>v});var t=r(96540),s=r(34164),i=r(23104),d=r(56347),a=r(205),l=r(57485),o=r(31682),c=r(70679);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:t,default:s}}=e;return{value:n,label:r,attributes:t,default:s}}))}(r);return function(e){const n=(0,o.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const s=(0,d.W6)(),i=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(i),(0,t.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(s.location.search);n.set(i,e),s.replace({...s.location,search:n.toString()})}),[i,s])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,i=u(e),[d,l]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:i}))),[o,h]=x({queryString:r,groupId:s}),[j,m]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,i]=(0,c.Dv)(r);return[s,(0,t.useCallback)((e=>{r&&i.set(e)}),[r,i])]}({groupId:s}),_=(()=>{const e=o??j;return p({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{_&&l(_)}),[_]);return{selectedValue:d,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),m(e)}),[h,m,i]),tabValues:i}}var m=r(92303);const _={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=r(74848);function g(e){let{className:n,block:r,selectedValue:t,selectValue:d,tabValues:a}=e;const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),c=e=>{const n=e.currentTarget,r=l.indexOf(n),s=a[r].value;s!==t&&(o(n),d(s))},h=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},n),children:a.map((e=>{let{value:n,label:r,attributes:i}=e;return(0,b.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>l.push(e),onKeyDown:h,onClick:c,...i,className:(0,s.A)("tabs__item",_.tabItem,i?.className,{"tabs__item--active":t===n}),children:r??n},n)}))})}function f(e){let{lazy:n,children:r,selectedValue:s}=e;const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=j(e);return(0,b.jsxs)("div",{className:(0,s.A)("tabs-container",_.tabList),children:[(0,b.jsx)(g,{...n,...e}),(0,b.jsx)(f,{...n,...e})]})}function v(e){const n=(0,m.A)();return(0,b.jsx)(y,{...e,children:h(e.children)},String(n))}},11901:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Body",id:"body",level:4},{value:"Response example",id:"response-example",level:4}];function d(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["The request failed because the format of the ",(0,t.jsx)(n.code,{children:"visited_at"})," field is incorrect. Use the ",(0,t.jsx)(n.strong,{children:"ISO 8601 date"})," format, e.g. ",(0,t.jsx)(n.code,{children:"2025-01-14T14:15:22Z"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"body",children:"Body"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"source"}),": (string) Always ",(0,t.jsx)(n.code,{children:"visited_at"}),"."]}),(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"errors"}),": A description of the error. "]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"error_code"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["Short error name. Here: ",(0,t.jsx)(n.code,{children:"base_error"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status_code"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsxs)(n.td,{children:["HTTP status. Always ",(0,t.jsx)(n.code,{children:"400"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"response-example",children:"Response example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "errors": [\n        {\n            "source": "visited_at",\n            "errors": [\n                "invalid datetime format"\n            ]\n        }\n    ],\n    "error_code": "datetime",\n    "status_code": 400\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},19365:(e,n,r)=>{r.d(n,{A:()=>d});r(96540);var t=r(34164);const s={tabItem:"tabItem_Ymn6"};var i=r(74848);function d(e){let{children:n,hidden:r,className:d}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,d),hidden:r,children:n})}},34492:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Properties",id:"properties",level:4},{value:"Example",id:"example",level:4}];function d(e){const n={a:"a",code:"code",h4:"h4",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"The object that contains information on a paywall."}),"\n",(0,t.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"placement_id"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsxs)(n.td,{children:["The ID of the ",(0,t.jsx)(n.a,{href:"https://adapty.io/docs/placements",children:"Placement"})," where this paywall is shown. This value is set when creating a placement in your Adapty Dashboard."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"variation_id"}),(0,t.jsx)(n.td,{children:"String(uuid)"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsx)(n.td,{children:"The variation ID used to track purchases linked to this specific paywall."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"paywall_id"}),(0,t.jsx)(n.td,{children:"String(uuid)"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsx)(n.td,{children:"The unique identifier of the paywall."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ab_test_name"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"The name of the parent A/B test."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"paywall_name"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsx)(n.td,{children:"The name of the paywall, as defined in your Adapty Dashboard."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"products"}),(0,t.jsx)(n.td,{children:"Array of objects"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsxs)(n.td,{children:["Array of ",(0,t.jsx)(n.a,{href:"server-side-api-objects#product",children:"Products"})," objects containing product information for the paywall."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"remote_config"}),(0,t.jsx)(n.td,{children:"JSON"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsxs)(n.td,{children:["A ",(0,t.jsx)(n.a,{href:"web-api-objects#remoteconfig-object",children:"RemoteConfig"})," object in JSON format containing the full ",(0,t.jsx)(n.a,{href:"customize-paywall-with-remote-config",children:"remote config"})," of the paywall."]})]})]})]}),"\n",(0,t.jsx)(n.h4,{id:"example",children:"Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'showLineNumbers title="JSON"',children:'{\n  "placement_id": "PaywallPlacementId",\n  "variation_id": "00000000-0000-0000-0000-000000000000",\n  "paywall_id": "InternalPaywallId",\n  "ab_test_name": "Existing Offer | Improved Offer",\n  "paywall_name": "Used Paywall",\n  "products": [\n    {\n      "title": "Monthly Subscription w/o Trial",\n      "is_consumable": true,\n      "adapty_product_id": "InternalProductId",\n      "vendor_product_id": "onemonth_no_trial",\n      "introductory_offer_eligibility": false,\n      "promotional_offer_eligibility": true,\n      "base_plan_id": "B1",\n      "offer": {\n        "category": "promotional",\n        "type": "pay_up_front",\n        "id": "StoreOfferId"\n      }\n    }\n  ],\n  "remote_config": {\n    "lang": "en",\n    "data": "RemoteConfigObject"\n  }\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},56680:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>p,contentTitle:()=>h,default:()=>m,frontMatter:()=>c,metadata:()=>u,toc:()=>x});var t=r(74848),s=r(28453),i=r(11470),d=r(19365),a=(r(34492),r(6862),r(11901),r(2769)),l=r(74732),o=r(4653);const c={title:" Add attribution API request",description:"",metadataTitle:"",displayed_sidebar:"APISidebar"},h=void 0,u={id:"web-api-add-attribution",title:" Add attribution API request",description:"",source:"@site/versioned_docs/version-3.0/web-api-add-attribution.md",sourceDirName:".",slug:"/web-api-add-attribution",permalink:"/test_assignment_adapty/docs/web-api-add-attribution",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:" Add attribution API request",description:"",metadataTitle:"",displayed_sidebar:"APISidebar"},sidebar:"APISidebar",previous:{title:"Record paywall view",permalink:"/test_assignment_adapty/docs/web-api-record-paywall-view"},next:{title:"Responses to server-side API requests",permalink:"/test_assignment_adapty/docs/web-api-responses"}},p={},x=[{value:"Endpoint and method",id:"endpoint-and-method",level:2},{value:"Request example",id:"request-example",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Responses",id:"responses",level:2},{value:"201: Created",id:"201-created",level:3},{value:"400: Bad Request",id:"400-bad-request",level:3},...o.RM,{value:"401: Unauthorised",id:"401-unauthorised",level:3},...a.RM,{value:"404: Not Found",id:"404-not-found",level:3},...l.RM];function j(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Adds marketing attribution data to a profile."}),"\n",(0,t.jsx)(n.h2,{id:"endpoint-and-method",children:"Endpoint and method"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",metastring:"showLineNumbers",children:"POST https://api.adapty.io/api/v2/web-api/attribution/\n"})}),"\n",(0,t.jsx)(n.h2,{id:"request-example",children:"Request example"}),"\n",(0,t.jsxs)(i.A,{groupId:"api-lang",queryString:!0,children:[(0,t.jsx)(d.A,{value:"curl",label:"cURL",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-shell",metastring:"showLineNumbers",children:'curl --location \'https://api.adapty.io/api/v2/web-api/attribution/\' \\\n--header \'Content-Type: application/json\' \\\n--header \'Authorization: Api-Key <YOUR_PUBLIC_API_KEY>\' \\\n--data \'{\n  "status": "organic",\n  "attribution_user_id": "attribution_user_id_value",\n  "channel": "marketing_channel_value",\n  "campaign": "campaign_name_value",\n  "ad_group": "ad_group_name_value",\n  "ad_set": "ad_set_name_value",\n  "creative": "creative_name_value",\n  "customer_user_id": "<YOUR_CUSTOMER_USER_ID>"\n}\n\'\n'})})}),(0,t.jsx)(d.A,{value:"js",label:"JavaScript",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",metastring:"showLineNumbers",children:'const myHeaders = new Headers();\nmyHeaders.append("Content-Type", "application/json");\nmyHeaders.append("Authorization", "Api-Key <YOUR_PUBLIC_API_KEY>");\n\nconst raw = JSON.stringify({\n  "status": "organic",\n  "attribution_user_id": "attribution_user_id_value",\n  "channel": "marketing_channel_value",\n  "campaign": "campaign_name_value",\n  "ad_group": "ad_group_name_value",\n  "ad_set": "ad_set_name_value",\n  "creative": "creative_name_value",\n  "customer_user_id": "<YOUR_CUSTOMER_USER_ID>"\n});\n\nconst requestOptions = {\n  method: "POST",\n  headers: myHeaders,\n  body: raw,\n  redirect: "follow"\n};\n\nfetch("https://api.adapty.io/api/v2/web-api/attribution/", requestOptions)\n  .then((response) => response.text())\n  .then((result) => console.log(result))\n  .catch((error) => console.error(error));\n'})})}),(0,t.jsx)(d.A,{value:"ruby",label:"Ruby",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ruby",metastring:"showLineNumbers",children:'require "uri"\nrequire "json"\nrequire "net/http"\n\nurl = URI("https://api.adapty.io/api/v2/web-api/attribution/")\n\nhttps = Net::HTTP.new(url.host, url.port)\nhttps.use_ssl = true\n\nrequest = Net::HTTP::Post.new(url)\nrequest["Content-Type"] = "application/json"\nrequest["Authorization"] = "Api-Key <YOUR_PUBLIC_API_KEY>"\nrequest.body = JSON.dump({\n  "status": "organic",\n  "attribution_user_id": "attribution_user_id_value",\n  "channel": "marketing_channel_value",\n  "campaign": "campaign_name_value",\n  "ad_group": "ad_group_name_value",\n  "ad_set": "ad_set_name_value",\n  "creative": "creative_name_value",\n  "customer_user_id": "<YOUR_CUSTOMER_USER_ID>"\n})\n\nresponse = https.request(request)\nputs response.read_body\n'})})}),(0,t.jsx)(d.A,{value:"php",label:"PHP",default:!0,children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-php",metastring:"showLineNumbers",children:'<?php\n\n$curl = curl_init();\n\ncurl_setopt_array($curl, array(\n  CURLOPT_URL => \'https://api.adapty.io/api/v2/web-api/attribution/\',\n  CURLOPT_RETURNTRANSFER => true,\n  CURLOPT_ENCODING => \'\',\n  CURLOPT_MAXREDIRS => 10,\n  CURLOPT_TIMEOUT => 0,\n  CURLOPT_FOLLOWLOCATION => true,\n  CURLOPT_HTTP_VERSION => CURL_HTTP_VERSION_1_1,\n  CURLOPT_CUSTOMREQUEST => \'POST\',\n  CURLOPT_POSTFIELDS =>\'{\n  "status": "organic",\n  "attribution_user_id": "attribution_user_id_value",\n  "channel": "marketing_channel_value",\n  "campaign": "campaign_name_value",\n  "ad_group": "ad_group_name_value",\n  "ad_set": "ad_set_name_value",\n  "creative": "creative_name_value",\n  "customer_user_id": "<YOUR_CUSTOMER_USER_ID>"\n}\n\',\n  CURLOPT_HTTPHEADER => array(\n    \'Content-Type: application/json\',\n    \'Authorization: Api-Key <YOUR_PUBLIC_API_KEY>\'\n  ),\n));\n\n$response = curl_exec($curl);\n\ncurl_close($curl);\necho $response;\n'})})})]}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Name"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2795"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)("p",{children:"Indicates if the attribution is organic or non-organic."}),(0,t.jsx)("p",{children:"Possible values are:"}),(0,t.jsxs)("ul",{children:[(0,t.jsx)("li",{children:" organic"}),(0,t.jsx)("li",{children:" non_organic"}),(0,t.jsx)("li",{children:" unknown"})]})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"attribution_user_id"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"ID assigned to the user by the attribution source."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"channel"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"Marketing channel name."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"campaign"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"Marketing campaign name."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ad_group"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"Attribution ad group."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"ad_set"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"Attribution ad set."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"creative"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsx)(n.td,{children:"\u2796"}),(0,t.jsx)(n.td,{children:"Attribution creative keyword."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"customer_user_id"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["\u2795","*"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsxs)("p",{children:["User ID you use in your app to identify the user if you do. For example, it can be your user UUID, email, or any other ID. Null if you didn't set it. You can find it in the ",(0,t.jsx)(n.strong,{children:"Customer User ID"})," field of the profile in the ",(0,t.jsx)(n.a,{href:"https://app.adapty.io/profiles/users",children:"Adapty Dashboard"}),"."]}),(0,t.jsxs)("p",{children:["* Either ",(0,t.jsx)(n.code,{children:"customer_user_id"})," or ",(0,t.jsx)(n.code,{children:"profile_id"})," is required."]})]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"profile_id"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["\u2795","*"]}),(0,t.jsxs)(n.td,{children:[(0,t.jsxs)("p",{children:["An identifier of a user in Adapty.  You can find it in the ",(0,t.jsx)(n.strong,{children:"Adapty ID"})," field of the profile in the ",(0,t.jsx)(n.a,{href:"https://app.adapty.io/profiles/users",children:"Adapty Dashboard"}),"."]}),(0,t.jsxs)("p",{children:["* Either ",(0,t.jsx)(n.code,{children:"customer_user_id"})," or ",(0,t.jsx)(n.code,{children:"profile_id"})," is required."]})]})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"responses",children:"Responses"}),"\n",(0,t.jsx)(n.h3,{id:"201-created",children:"201: Created"}),"\n",(0,t.jsx)(n.p,{children:"The paywall view is recorded successfully. The response body is blank."}),"\n",(0,t.jsx)(n.h3,{id:"400-bad-request",children:"400: Bad Request"}),"\n",(0,t.jsx)(o.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"401-unauthorised",children:"401: Unauthorised"}),"\n",(0,t.jsx)(a.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"404-not-found",children:"404: Not Found"}),"\n",(0,t.jsx)(l.Ay,{})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(j,{...e})}):j(e)}},74732:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>i});var t=r(74848),s=r(28453);const i=[{value:"Body",id:"body",level:5},{value:"Response example",id:"response-example",level:5}];function d(e){const n={code:"code",h5:"h5",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{}),"\n",(0,t.jsxs)(n.p,{children:["The request failed because the specified profile wasn\u2019t found. Double-check the ",(0,t.jsx)(n.code,{children:"customer_user_id"})," or ",(0,t.jsx)(n.code,{children:"profile_id"})," for any typos."]}),"\n",(0,t.jsx)(n.h5,{id:"body",children:"Body"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"errors"}),(0,t.jsx)(n.td,{children:"Object"}),(0,t.jsx)(n.td,{children:(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"source"}),": (string) Always ",(0,t.jsx)(n.code,{children:"null"}),"."]}),(0,t.jsxs)("li",{children:[" ",(0,t.jsx)(n.strong,{children:"errors"}),": A description of the error."]})]})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"error_code"}),(0,t.jsx)(n.td,{children:"String"}),(0,t.jsxs)(n.td,{children:["Short error name. Always ",(0,t.jsx)(n.code,{children:"profile_does_not_exist"}),"."]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"status_code"}),(0,t.jsx)(n.td,{children:"Integer"}),(0,t.jsxs)(n.td,{children:["HTTP status. Always ",(0,t.jsx)(n.code,{children:"404"}),"."]})]})]})]}),"\n",(0,t.jsx)(n.h5,{id:"response-example",children:"Response example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:"showLineNumbers",children:'{\n    "errors": [\n        {\n            "source": null,\n            "errors": [\n                "Profile not found"\n            ]\n        }\n    ],\n    "error_code": "profile_does_not_exist",\n    "status_code": 404\n}\n'})})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);