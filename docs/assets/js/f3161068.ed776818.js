"use strict";(self.webpackChunkadapty_docs=self.webpackChunkadapty_docs||[]).push([[3722],{7906:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/6ccc3bb-webhook_integration_success-f7cadc499e642f7e0406fe4d05b31d14.webp"},28878:(e,t,s)=>{s.d(t,{A:()=>n});const n=s.p+"assets/images/12ff189-hover_sending_failed-edf1ad06b6b324a7672eb7a3f5cbc0c8.webp"},43320:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>d,toc:()=>c});var n=s(74848),i=s(28453),o=s(34028);s(26393);const r={title:"Test webhook integration",description:"Test webhook integrations in Adapty to automate subscription event tracking.",metadataTitle:"Testing Webhook Integrations | Adapty Docs"},a=void 0,d={id:"test-webhook",title:"Test webhook integration",description:"Test webhook integrations in Adapty to automate subscription event tracking.",source:"@site/versioned_docs/version-3.0/test-webhook.md",sourceDirName:".",slug:"/test-webhook",permalink:"/docs/test-webhook",draft:!1,unlisted:!1,tags:[],version:"3.0",frontMatter:{title:"Test webhook integration",description:"Test webhook integrations in Adapty to automate subscription event tracking.",metadataTitle:"Testing Webhook Integrations | Adapty Docs"},sidebar:"tutorialSidebar",previous:{title:"Set up webhook integration",permalink:"/docs/set-up-webhook-integration"},next:{title:"Stripe integration",permalink:"/docs/stripe"}},l={},c=[{value:"How to test",id:"how-to-test",level:2},{value:"Validation of the result",id:"validation-of-the-result",level:2},{value:"Successful sending events result",id:"successful-sending-events-result",level:3},{value:"Unsuccessful sending events result",id:"unsuccessful-sending-events-result",level:3}];function h(e){const t={a:"a",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"After you set up your integration, it's time to test it. You can test both your sandbox and production integration. We recommend starting with the sandbox one and validating the maximum on it:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"The events are sent and successfully delivered."}),"\n",(0,n.jsxs)(t.li,{children:["You set up the options correctly for historical events, subscription price for the ",(0,n.jsx)(t.strong,{children:"Trial started"})," event, attribution, user attributes, and Google Play Store purchase token to be sent or not sent with an event."]}),"\n",(0,n.jsx)(t.li,{children:"You mapped event names correctly and your server can process them."}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"how-to-test",children:"How to test"}),"\n",(0,n.jsx)(t.p,{children:"Before you start testing an integration, make sure you have already:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Set up the webhook integration as described in the ",(0,n.jsx)(t.a,{href:"set-up-webhook-integration",children:"Set up webhook integration"})," topic."]}),"\n",(0,n.jsxs)(t.li,{children:["Set up the environment as described in the ",(0,n.jsx)(t.a,{href:"testing-purchases-ios",children:"Test in-app purchases in Apple App Store"})," and ",(0,n.jsx)(t.a,{href:"testing-on-android",children:"Test in-app purchases in Google Play Store"})," topics. Make sure you built your test app in the sandbox environment rather than in the production one."]}),"\n",(0,n.jsxs)(t.li,{children:["Make a purchase/start a trial/make a refund that will raise an event you've chosen to send to the webhook. For example, to get the ",(0,n.jsx)(t.strong,{children:"Subscription started"})," event, purchase a new subscription."]}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"validation-of-the-result",children:"Validation of the result"}),"\n",(0,n.jsx)(t.h3,{id:"successful-sending-events-result",children:"Successful sending events result"}),"\n",(0,n.jsxs)(t.p,{children:["In case of successful integration, an event will appear in the ",(0,n.jsx)(t.strong,{children:"Last sent events"})," section of the integration and will have the ",(0,n.jsx)(t.strong,{children:"Success"})," status."]}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(7906).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})}),"\n",(0,n.jsx)(t.h3,{id:"unsuccessful-sending-events-result",children:"Unsuccessful sending events result"}),"\n",(0,n.jsxs)(t.table,{children:[(0,n.jsx)(t.thead,{children:(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.th,{children:"Issue"}),(0,n.jsx)(t.th,{children:"Solution"})]})}),(0,n.jsxs)(t.tbody,{children:[(0,n.jsxs)(t.tr,{children:[(0,n.jsx)(t.td,{children:"The event did not appear"}),(0,n.jsxs)(t.td,{children:["Your purchase did not occur and therefore the event was not created. Refer to the ",(0,n.jsx)(t.a,{href:"troubleshooting-test-purchases",children:"Troubleshooting test purchases"})," topic for the solution."]})]}),(0,n.jsxs)(t.tr,{children:[(0,n.jsxs)(t.td,{children:["The event appeared and has the ",(0,n.jsx)(t.strong,{children:"Sending failed"})," status"]}),(0,n.jsxs)(t.td,{children:[(0,n.jsxs)("p",{children:["We determine the deliverability based on HTTP status and consider everything ",(0,n.jsx)(t.strong,{children:"outside the 200-399 range"})," to be a fail."]}),(0,n.jsxs)("p",{children:["To find more on the issue, hover over the ",(0,n.jsx)(t.strong,{children:"Sending failed"})," status of your unsuccessful event as shown below."]})]})]})]})]}),"\n",(0,n.jsx)(o.A,{children:(0,n.jsx)("img",{src:s(28878).A,style:{border:"1px solid #727272",width:"700px",display:"block",margin:"0 auto"}})})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}}}]);